---
title: Настройка производительности Office 365 с помощью базовых показателей и истории производительности
ms.author: tracyp
author: MSFTTracyP
manager: laurawi
ms.date: 8/31/2017
audience: Admin
ms.topic: conceptual
ms.service: o365-administration
localization_priority: Normal
f1.keywords:
- CSH
ms.custom:
- Adm_O365
- seo-marvel-apr2020
search.appverid:
- MET150
- MOE150
- BCS160
ms.assetid: 1492cb94-bd62-43e6-b8d0-2a61ed88ebae
ms.collection:
- M365-security-compliance
- Ent_O365
- SPO_Content
description: Узнайте, как проверить историю подключений клиентских компьютеров, чтобы упростить обнаружение новых проблем.
ms.openlocfilehash: 2337b14542f894e9a62037b2f032632147e45e09
ms.sourcegitcommit: 79065e72c0799064e9055022393113dfcf40eb4b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/14/2020
ms.locfileid: "46693222"
---
# <a name="office-365-performance-tuning-using-baselines-and-performance-history"></a><span data-ttu-id="cd1af-103">Настройка производительности Office 365 с помощью базовых показателей и истории производительности</span><span class="sxs-lookup"><span data-stu-id="cd1af-103">Office 365 performance tuning using baselines and performance history</span></span>

<span data-ttu-id="cd1af-104">Существует несколько простых способов проверить производительность подключения между Office 365 и предприятием, которое позволит вам создать грубую базовую линию подключения.</span><span class="sxs-lookup"><span data-stu-id="cd1af-104">There are some simple ways to check the connection performance between Office 365 and your business that will let you establish a rough baseline of your connectivity.</span></span> <span data-ttu-id="cd1af-105">Сведения о том, как вести журнал производительности клиентских компьютеров, поможет обнаружить возникающие проблемы на ранних этапах, выявить и предсказать проблемы.</span><span class="sxs-lookup"><span data-stu-id="cd1af-105">Knowing the performance history of your client computer connections can help you detect emerging issues early, identify, and predict problems.</span></span>
  
<span data-ttu-id="cd1af-106">Если вы не используете проблемы с производительностью, эта статья поможет вам определить некоторые распространенные вопросы, например, как вы узнаете, что проблема связана с производительностью, а не инцидентом службы Office 365?</span><span class="sxs-lookup"><span data-stu-id="cd1af-106">If you're not used to working on performance issues, this article is designed to help you consider some common questions, like How do you know the problem you're seeing is a performance issue and not an Office 365 service incident?</span></span> <span data-ttu-id="cd1af-107">Как вы можете спланировать хорошую производительность, долгосрочный срок?</span><span class="sxs-lookup"><span data-stu-id="cd1af-107">How can you plan for good performance, long term?</span></span> <span data-ttu-id="cd1af-108">Как можно следить за производительностью?</span><span class="sxs-lookup"><span data-stu-id="cd1af-108">How can you keep an eye on performance?</span></span> <span data-ttu-id="cd1af-109">Если у вашей команды или клиентов низкая производительность при использовании Office 365, а вы хотите узнать о них, читайте здесь.</span><span class="sxs-lookup"><span data-stu-id="cd1af-109">If your team or clients are seeing slow performance while using Office 365, and you wonder about any of these questions, read on.</span></span>
  
> [!IMPORTANT]
> <span data-ttu-id="cd1af-110">**У вашего клиента и Office 365 прямо сейчас возникла ошибка производительности?**</span><span class="sxs-lookup"><span data-stu-id="cd1af-110">**Have a performance issue between your client and Office 365 right now?**</span></span> <span data-ttu-id="cd1af-111">Выполните действия, описанные в статье [план устранения неполадок с производительностью для Office 365](performance-troubleshooting-plan.md).</span><span class="sxs-lookup"><span data-stu-id="cd1af-111">Follow the steps outlined in the [Performance troubleshooting plan for Office 365](performance-troubleshooting-plan.md).</span></span> 
    
## <a name="something-you-should-know-about-office-365-performance"></a><span data-ttu-id="cd1af-112">Что нужно знать о производительности Office 365</span><span class="sxs-lookup"><span data-stu-id="cd1af-112">Something you should know about Office 365 performance</span></span>

<span data-ttu-id="cd1af-113">Office 365 входит в состав выделенной сети Microsoft, которая постоянно отслеживается не только с помощью автоматизации, но и от реальных людей.</span><span class="sxs-lookup"><span data-stu-id="cd1af-113">Office 365 lives inside a high-capacity, dedicated Microsoft network that is steadily monitored not just by automation, but by real people.</span></span> <span data-ttu-id="cd1af-114">Частью роли обслуживания облака Office 365 является настройка производительности и упрощение их там, где это возможно.</span><span class="sxs-lookup"><span data-stu-id="cd1af-114">Part of the role of maintaining the Office 365 cloud is building-in performance tuning and streamlining where it's possible.</span></span> <span data-ttu-id="cd1af-115">Так как клиенты в облаке Office 365 должны подключаться через Интернет, существуют непрерывные усилия для точной настройки производительности в службах Office 365.</span><span class="sxs-lookup"><span data-stu-id="cd1af-115">Since clients of the Office 365 cloud have to connect across the Internet, there is a continuous effort to fine-tune the performance across Office 365 services too.</span></span> <span data-ttu-id="cd1af-116">Улучшения производительности никогда не останавливаются в облаке, и существует большой объем накопленного опыта, позволяющий обеспечить работоспособность и быструю работу облака.</span><span class="sxs-lookup"><span data-stu-id="cd1af-116">Performance improvements never really stop in the cloud, and there is a lot of accumulated experience with keeping the cloud healthy and quick.</span></span> <span data-ttu-id="cd1af-117">Если у вас возникла ошибка, связанная с производительностью, подключаясь к Office 365, лучше всего не начинать с него и ждать обращения в службу поддержки.</span><span class="sxs-lookup"><span data-stu-id="cd1af-117">Should you experience a performance issue connecting from your location to Office 365, it's best not to start with, and wait on, a Support case.</span></span> <span data-ttu-id="cd1af-118">Вместо этого следует начать исследование проблемы с "во внутренней сети".</span><span class="sxs-lookup"><span data-stu-id="cd1af-118">Instead, you should begin investigating the problem from 'the inside out'.</span></span> <span data-ttu-id="cd1af-119">То есть, начать в сети и эффективно работать в Office 365.</span><span class="sxs-lookup"><span data-stu-id="cd1af-119">That is, start inside of your network, and work your way out to Office 365.</span></span> <span data-ttu-id="cd1af-120">Прежде чем открыть дело с поддержкой Office 365, можно собрать данные и выполнить действия, которые позволят исследовать и устранять неполадку.</span><span class="sxs-lookup"><span data-stu-id="cd1af-120">Before you open a case with Office 365 Support, you can gather data and take actions that will explore, and may resolve, your problem.</span></span>
  
> [!IMPORTANT]
> <span data-ttu-id="cd1af-121">Помните о планировании и ограничении емкости в Office 365.</span><span class="sxs-lookup"><span data-stu-id="cd1af-121">Be aware of capacity planning and limits in Office 365.</span></span> <span data-ttu-id="cd1af-122">Эти сведения помещают перед собой кривую при устранении проблем с производительностью.</span><span class="sxs-lookup"><span data-stu-id="cd1af-122">That information will put you ahead of the curve when trying to resolve a performance issue.</span></span> <span data-ttu-id="cd1af-123">Ниже приведена ссылка на [Описание служб microsoft 365 и Office 365](https://docs.microsoft.com/office365/servicedescriptions/office-365-service-descriptions-technet-library).</span><span class="sxs-lookup"><span data-stu-id="cd1af-123">Here's a link to the [Microsoft 365 and Office 365 service descriptions](https://docs.microsoft.com/office365/servicedescriptions/office-365-service-descriptions-technet-library).</span></span> <span data-ttu-id="cd1af-124">Это центральный центр, и все службы, предлагаемые Office 365, имеют ссылку на свои описания в службах.</span><span class="sxs-lookup"><span data-stu-id="cd1af-124">This is a central hub, and all the services offered by Office 365 have a link that goes to their own Service Descriptions from here.</span></span> <span data-ttu-id="cd1af-125">Это означает, что при необходимости увидеть стандартные пределы для SharePoint Online, например, следует щелкнуть [Описание службы SharePoint Online](https://technet.microsoft.com/library/sharepoint-online-service-description.aspx) и найти соответствующий [раздел SharePoint Online Limits](https://go.microsoft.com/fwlink/p/?LinkID=856113).</span><span class="sxs-lookup"><span data-stu-id="cd1af-125">That means, should you need to see the standard limits for SharePoint Online, for example, you would click [SharePoint Online Service Description](https://technet.microsoft.com/library/sharepoint-online-service-description.aspx) and locate its [SharePoint Online Limits section](https://go.microsoft.com/fwlink/p/?LinkID=856113).</span></span> 
  
<span data-ttu-id="cd1af-126">Убедитесь, что вы перейдете к устранению неполадок с учетом того, что производительность является скользящим масштабом, но это не повлечет за собой неоптимальное значение и его поддержание без возможности восстановления (если вы считаете, что это так, то иногда задачи с большим количеством пропускной способности, такие как встроенное количество пользователей, или выполнение больших миграций данных будут сильно затруднить</span><span class="sxs-lookup"><span data-stu-id="cd1af-126">Make sure you go into your troubleshooting with the understanding that performance is a sliding scale, it's not about achieving an idealized value and maintaining it permanently (if you believe this is so, then occasional high-bandwidth tasks like on-boarding a large number of users, or doing large data migrations will be very stressful -- so do plan for performance impacts then).</span></span> <span data-ttu-id="cd1af-127">Кроме того, вы можете иметь грубое представление целевых показателей производительности, но большое количество переменных играют производительность, поэтому производительность варьируется.</span><span class="sxs-lookup"><span data-stu-id="cd1af-127">You can, and should, have a rough idea of your performance targets, but a lot of variables play into performance, therefore, performance varies.</span></span> <span data-ttu-id="cd1af-128">Это характер производительности.</span><span class="sxs-lookup"><span data-stu-id="cd1af-128">That's the nature of performance.</span></span> 
  
<span data-ttu-id="cd1af-129">Устранение неполадок с производительностью не относится к конкретным целям собраний и не сохраняет эти номера в течение неопределенного периода, это сведения об улучшении существующих действий с учетом всех переменных.</span><span class="sxs-lookup"><span data-stu-id="cd1af-129">Performance troubleshooting isn't about meeting specific goals and maintaining those numbers indefinitely, it's about improving existing activities, given all the variables.</span></span> 
  
## <a name="okay-what-does-a-performance-problem-look-like"></a><span data-ttu-id="cd1af-130">Что же такое проблема с производительностью?</span><span class="sxs-lookup"><span data-stu-id="cd1af-130">Okay, what does a performance problem look like?</span></span>

<span data-ttu-id="cd1af-131">Для начала необходимо убедиться, что вы столкнулись с проблемой производительности, а не инцидентом службы.</span><span class="sxs-lookup"><span data-stu-id="cd1af-131">First, you need to make sure that what you are experiencing is indeed a performance issue and not a service incident.</span></span> <span data-ttu-id="cd1af-132">Проблема с производительностью отличается от инцидента службы в Office 365.</span><span class="sxs-lookup"><span data-stu-id="cd1af-132">A performance problem is different from a service incident in Office 365.</span></span> <span data-ttu-id="cd1af-133">Вот как их отличить.</span><span class="sxs-lookup"><span data-stu-id="cd1af-133">Here's how to tell them apart.</span></span>
  
<span data-ttu-id="cd1af-134">Если у службы Office 365 возникли проблемы, это инцидент службы.</span><span class="sxs-lookup"><span data-stu-id="cd1af-134">If the Office 365 service is having issues, that's a service incident.</span></span> <span data-ttu-id="cd1af-135">В разделе **Текущая работоспособность** центра администрирования Microsoft 365 вы увидите значки красного или желтого цвета, Кроме того, вы можете заметить снижение производительности на клиентских компьютерах, подключающихся к Office 365.</span><span class="sxs-lookup"><span data-stu-id="cd1af-135">You will see red or yellow icons under **Current health** in the Microsoft 365 admin center, you may also notice slow performance on client computers connecting to Office 365.</span></span> <span data-ttu-id="cd1af-136">Например, если отчет о работоспособности выводится красным значком и **вы видите около** Exchange, вы также можете получить ряд вызовов от людей в вашей организации, которые занимаются неправильными почтовыми ящиками клиентов, использующих Exchange Online.</span><span class="sxs-lookup"><span data-stu-id="cd1af-136">For example, if Current health reports a red icon and you see **Investigating** beside Exchange, you might then also receive a bunch of calls from people in your organization who complain that client mailboxes that use Exchange Online are performing badly.</span></span> <span data-ttu-id="cd1af-137">В этом случае разумно предположить, что производительность Exchange Online сразу же стала жертвой проблем в службе.</span><span class="sxs-lookup"><span data-stu-id="cd1af-137">In that case, it's reasonable to assume that your Exchange Online performance just became a victim of issues within the Service.</span></span> 
  
![Панель мониторинга работоспособности Office 365 со всеми рабочими нагрузками, в которых отображаются зеленые, за исключением Exchange, в котором показана восстановленная служба.](../media/ec7f0325-9e61-4e1a-bec0-64b87f4469be.PNG)
  
<span data-ttu-id="cd1af-139">На этом шаге администратор Office 365 должен проверить **текущую работоспособность** , а затем **Просмотреть сведения и журнал**, как правило, чтобы последние даты обслуживания системы.</span><span class="sxs-lookup"><span data-stu-id="cd1af-139">At this point, you, the Office 365 admin, should check **Current health** and then **View details and history**, frequently, to keep up to date on maintenance we perform on the system.</span></span> <span data-ttu-id="cd1af-140">Текущая панель мониторинга **работоспособности** была обновлена при изменении и проблемах в службе.</span><span class="sxs-lookup"><span data-stu-id="cd1af-140">The **Current health** dashboard was made to update you about changes to, and problems in, the service.</span></span> <span data-ttu-id="cd1af-141">Примечания и объяснения, записанные в журнал работоспособности, администратор для администраторов, помогут вам оценить влияние и сохранить текущую работу.</span><span class="sxs-lookup"><span data-stu-id="cd1af-141">The notes and explanations written to health history, admin to admin, are there to help you gauge your impact, and to keep you posted about ongoing work.</span></span> 
  
![Изображение панели мониторинга работоспособности Office 365, в которой объясняется, что служба Exchange Online восстановлена и почему.](../media/66609554-426a-4448-8be6-ea09817f41ba.PNG)
  
<span data-ttu-id="cd1af-143">Проблемы с производительностью не являются инцидентом службы, несмотря на то, что происшествия могут привести к снижению производительности.</span><span class="sxs-lookup"><span data-stu-id="cd1af-143">A performance issue isn't a service incident, even though incidents can cause slow performance.</span></span> <span data-ttu-id="cd1af-144">Проблема с производительностью выглядит следующим образом:</span><span class="sxs-lookup"><span data-stu-id="cd1af-144">A performance issue looks like this:</span></span>
  
- <span data-ttu-id="cd1af-145">Проблема с производительностью возникает независимо от того, какие сведения о **работоспособности** в центре администрирования поддаются отчетности для службы.</span><span class="sxs-lookup"><span data-stu-id="cd1af-145">A performance issue occurs no matter what the admin center **Current health** is reporting for the service.</span></span> 
    
-  <span data-ttu-id="cd1af-146">Поведение, которое было бы относительно прозрачным, занимает много времени и не завершается.</span><span class="sxs-lookup"><span data-stu-id="cd1af-146">A behavior that used to be relatively seamless takes a long time to complete or never completes.</span></span> 
    
- <span data-ttu-id="cd1af-147">Вы также можете реплицировать проблему, или, по крайней мере, вы знаете, что это произойдет, если выполнить нужную последовательность действий.</span><span class="sxs-lookup"><span data-stu-id="cd1af-147">You can replicate the problem too, or, at least, you know it will happen if you do the right series of steps.</span></span>
    
-  <span data-ttu-id="cd1af-148">Если проблема повторяется, по-прежнему существует шаблон, например, если вы знаете, что у вас 10:00 вызовов от пользователей, которые не могут надежно получить доступ к Office 365, и что вызов будет нарушен по полудню.</span><span class="sxs-lookup"><span data-stu-id="cd1af-148">If the problem is intermittent, there is still a pattern, for example, you know that by 10:00 AM you will have calls from users who can't reliably access Office 365, and that the calls will die down around noon.</span></span> 
    
<span data-ttu-id="cd1af-149">Возможно, это звучит знакомо; может быть знакомо.</span><span class="sxs-lookup"><span data-stu-id="cd1af-149">This probably sounds familiar; maybe too familiar.</span></span> <span data-ttu-id="cd1af-150">Когда вы узнаете, что проблема связана с производительностью, вопрос будет таким: "что делать дальше?"</span><span class="sxs-lookup"><span data-stu-id="cd1af-150">Once you know it's a performance problem, the question becomes, "What do you do next?"</span></span> <span data-ttu-id="cd1af-151">В оставшейся части этой статьи вы захотите точно определить, что.</span><span class="sxs-lookup"><span data-stu-id="cd1af-151">The rest of this article helps you determine exactly that.</span></span>
  
## <a name="how-to-define-and-test-the-performance-problem"></a><span data-ttu-id="cd1af-152">Определение и тестирование проблемы с производительностью</span><span class="sxs-lookup"><span data-stu-id="cd1af-152">How to define and test the performance problem</span></span>

<span data-ttu-id="cd1af-153">Проблемы с производительностью часто возникают с течением времени, поэтому может быть непросто определить фактическую проблему.</span><span class="sxs-lookup"><span data-stu-id="cd1af-153">Performance issues often emerge over time, so it can be challenging to define the actual problem.</span></span> <span data-ttu-id="cd1af-154">Вам необходимо создать хороший отчет о проблеме и получить хорошую идею контекста проблемы, а затем для этого необходимо выполнить повторяемые этапы тестирования.</span><span class="sxs-lookup"><span data-stu-id="cd1af-154">You need to create a good problem statement and a good idea of issue context, and then you need to repeatable testing steps to win the day.</span></span> <span data-ttu-id="cd1af-155">В противном случае вы можете потерять ошибку.</span><span class="sxs-lookup"><span data-stu-id="cd1af-155">Otherwise, through no fault of your own, you may be lost.</span></span> <span data-ttu-id="cd1af-156">Почему?</span><span class="sxs-lookup"><span data-stu-id="cd1af-156">Why?</span></span> <span data-ttu-id="cd1af-157">Вот несколько примеров проблем с операторами, которые не предоставляют достаточно сведений:</span><span class="sxs-lookup"><span data-stu-id="cd1af-157">Well, here are some examples of problems statements that don't provide enough information:</span></span>
  
- <span data-ttu-id="cd1af-158">Переключиться из папки "Входящие" в календарь на что-то не заметить, а теперь это "кофе".</span><span class="sxs-lookup"><span data-stu-id="cd1af-158">Switching from my Inbox to my Calendar used to be something I didn't notice, and now it's a coffee-break.</span></span> <span data-ttu-id="cd1af-159">Вы можете сделать так, чтобы он действовал?</span><span class="sxs-lookup"><span data-stu-id="cd1af-159">Can you make it act like it used to?</span></span>
    
- <span data-ttu-id="cd1af-160">Отгрузка моих файлов в SharePoint Online идет очень долго.</span><span class="sxs-lookup"><span data-stu-id="cd1af-160">Uploading my files to SharePoint Online is taking forever.</span></span> <span data-ttu-id="cd1af-161">Почему он работает медленнее, но любое другое время это быстро?</span><span class="sxs-lookup"><span data-stu-id="cd1af-161">Why is it slow in the afternoon, but any other time, it's fast?</span></span> <span data-ttu-id="cd1af-162">Не может работать достаточно быстро?</span><span class="sxs-lookup"><span data-stu-id="cd1af-162">Can't it just be fast?</span></span>
    
<span data-ttu-id="cd1af-163">Существует несколько больших проблем, которые приводят к возникновению проблемных операторов выше.</span><span class="sxs-lookup"><span data-stu-id="cd1af-163">There are several large challenges posed by the problem statements above.</span></span> <span data-ttu-id="cd1af-164">В частности, существует множество неоднозначностей, с которыми можно справиться.</span><span class="sxs-lookup"><span data-stu-id="cd1af-164">Specifically, there are a lot of ambiguities to deal with.</span></span> <span data-ttu-id="cd1af-165">Пример:</span><span class="sxs-lookup"><span data-stu-id="cd1af-165">for example:</span></span>
  
- <span data-ttu-id="cd1af-166">Неясно, как переключение между папкой "Входящие" и "Календарь", используемыми для работы на ноутбуке.</span><span class="sxs-lookup"><span data-stu-id="cd1af-166">It's unclear how switching between Inbox and Calendar used to act on the laptop.</span></span>
    
- <span data-ttu-id="cd1af-167">Когда пользователь говорит: "не удается просто", "высокая"?</span><span class="sxs-lookup"><span data-stu-id="cd1af-167">When the user says, "Can't it just be fast", what's "fast"?</span></span>
    
- <span data-ttu-id="cd1af-168">Какова продолжительность "бессрочно"?</span><span class="sxs-lookup"><span data-stu-id="cd1af-168">How long is "forever"?</span></span> <span data-ttu-id="cd1af-169">Это может занять несколько секунд или минут, а пользователь может закончиться через десять минут после того, как пользователь возвратит запрос?</span><span class="sxs-lookup"><span data-stu-id="cd1af-169">Is that several seconds, or minutes, or could the user go to lunch and it would finish up ten minutes after the user got back?</span></span>
    
<span data-ttu-id="cd1af-170">Все это не учитывается, что администратор и средство устранения неполадок не могут знать многие сведения о подобных операторах, подобные этим.</span><span class="sxs-lookup"><span data-stu-id="cd1af-170">All of this is without considering that the admin and troubleshooter can't be aware of many details from problem statements like these.</span></span> <span data-ttu-id="cd1af-171">Например, при возникновении проблемы. Пользователь работает из дома и в домашней сети видит только медленное переключение. Пользователь должен запустить несколько других приложений, интенсивно использующих ОЗУ, на локальном клиенте или запустить более раннюю версию операционной системы или не запускать последние обновления.</span><span class="sxs-lookup"><span data-stu-id="cd1af-171">For example, when the problem started happening; That the user works from home and only ever sees slow switching while on a home network; That the user must run several other RAM intensive applications on the local client, or the user is running an older operating system or hasn't run recent updates.</span></span>
  
<span data-ttu-id="cd1af-172">Если пользователи сообщают о проблеме с производительностью, сбор данных осуществляется очень подробно.</span><span class="sxs-lookup"><span data-stu-id="cd1af-172">When users report a performance problem, there's a lot of information to collect.</span></span> <span data-ttu-id="cd1af-173">Сбор этих сведений является частью процесса, который называется областью выпуска или исследованием.</span><span class="sxs-lookup"><span data-stu-id="cd1af-173">Collecting this information is part of a process called scoping the issue, or investigating it.</span></span> <span data-ttu-id="cd1af-174">Ниже приведен список основных областей, которые можно использовать для сбора сведений о проблемах с производительностью.</span><span class="sxs-lookup"><span data-stu-id="cd1af-174">The following is a basic scoping list you can use to collect information about your performance issue.</span></span> <span data-ttu-id="cd1af-175">Этот список не является исчерпывающим, но существует место для самостоятельного запуска.</span><span class="sxs-lookup"><span data-stu-id="cd1af-175">This list is not exhaustive, but it's a place to start one of your own:</span></span> 
  
- <span data-ttu-id="cd1af-176">В какой дате возникла ошибка, и вокруг какого времени суток или ночью?</span><span class="sxs-lookup"><span data-stu-id="cd1af-176">On what date did the issue happen, and around what time of day or night?</span></span>
    
- <span data-ttu-id="cd1af-177">Какой тип клиентского компьютера использовался и как он подключается к бизнес-сети (VPN, проводная связь, беспроводная связь)?</span><span class="sxs-lookup"><span data-stu-id="cd1af-177">What kind of client computer were you using, and how does it connect to the business network (VPN, Wired, Wireless)?</span></span>
    
- <span data-ttu-id="cd1af-178">Вы работали удаленно или в офисе?</span><span class="sxs-lookup"><span data-stu-id="cd1af-178">Were you working remotely or were you in the office?</span></span>
    
- <span data-ttu-id="cd1af-179">Вы попробуете выполнить те же действия на другом компьютере и видите такое же поведение?</span><span class="sxs-lookup"><span data-stu-id="cd1af-179">Did you try the same actions on another computer and see the same behavior?</span></span>
    
- <span data-ttu-id="cd1af-180">Пошаговые инструкции по предоставлению проблем, чтобы можно было записать действия, которые вы перейдете.</span><span class="sxs-lookup"><span data-stu-id="cd1af-180">Walk through the steps that are giving you the trouble so that you can write the actions you take down.</span></span>
    
- <span data-ttu-id="cd1af-181">Скорость работы в секундах или минутах</span><span class="sxs-lookup"><span data-stu-id="cd1af-181">How slow in seconds or minutes is the performance?</span></span>
    
- <span data-ttu-id="cd1af-182">Где вы находитесь в мире?</span><span class="sxs-lookup"><span data-stu-id="cd1af-182">Where in the world are you located?</span></span>
    
<span data-ttu-id="cd1af-183">Некоторые из этих вопросов являются более очевидными, чем другие.</span><span class="sxs-lookup"><span data-stu-id="cd1af-183">Some of these questions are more obvious than others.</span></span> <span data-ttu-id="cd1af-184">Большинство пользователей понимают, что средство устранения неполадок требует точных действий для воспроизведения проблемы.</span><span class="sxs-lookup"><span data-stu-id="cd1af-184">Most everyone will understand a troubleshooter needs the exact steps to reproduce the issue.</span></span> <span data-ttu-id="cd1af-185">В конце концов, как вы зарегистрируете неисправность и как еще можно будет проверить, устранена ли проблема?</span><span class="sxs-lookup"><span data-stu-id="cd1af-185">After all, how else can you record what's wrong, and how else can you test if the issue is fixed?</span></span> <span data-ttu-id="cd1af-186">Менее очевидны вещи, такие как "какая дата и время возникли?" и "где вы находитесь в мире?", сведения, которые можно использовать совместно.</span><span class="sxs-lookup"><span data-stu-id="cd1af-186">Less obvious are things like "What date and time did you see the issue?", and "Where in the world are you located?", information that can be used in tandem.</span></span> <span data-ttu-id="cd1af-187">В зависимости от того, когда пользователь работал, в некоторых часах разницы времени может означаться, что обслуживание уже выполняется в частях сети компании.</span><span class="sxs-lookup"><span data-stu-id="cd1af-187">Depending on when the user was working, a few hours of time difference may mean maintenance is already underway on parts of your company's network.</span></span> <span data-ttu-id="cd1af-188">Если, например, в вашей компании есть Гибридная реализация, например гибридный Поиск SharePoint, который может запрашивать индексы поиска в SharePoint Online и локальном экземпляре SharePoint Server 2013, обновления могут выполняться в локальной ферме.</span><span class="sxs-lookup"><span data-stu-id="cd1af-188">If, for example, your company has a hybrid implementation, like a hybrid SharePoint Search, which can query search indexes in both SharePoint Online and an On-premises SharePoint Server 2013 instance, updates may be underway in the on-premises farm.</span></span> <span data-ttu-id="cd1af-189">Если ваша организация работает в облаке, Обслуживание системы может включать в себя добавление или удаление сетевого оборудования, развертывание обновлений, предназначенных для всей компании, а также внесение изменений в DNS или другие основные инфраструктуры.</span><span class="sxs-lookup"><span data-stu-id="cd1af-189">If your company is all in the cloud, system maintenance may include adding or removing network hardware, rolling out updates that are company-wide, or making changes to DNS, or other core infrastructure.</span></span>
  
<span data-ttu-id="cd1af-190">При устранении проблем с производительностью, как и в случае с помощью преступления, необходимо быть точным и наблюдаемым образом отображать все выводы из свидетельства.</span><span class="sxs-lookup"><span data-stu-id="cd1af-190">When you're troubleshooting a performance problem, it's a bit like a crime scene, you need to be precise and observant to draw any conclusions from the evidence.</span></span> <span data-ttu-id="cd1af-191">Для этого необходимо получить хороший отчет о проблеме, выполнив сбор доказательств.</span><span class="sxs-lookup"><span data-stu-id="cd1af-191">In order to do this, you must get a good problem statement by gathering evidence.</span></span> <span data-ttu-id="cd1af-192">Он должен включать в себя контекст компьютера, контекст пользователя, при возникновении проблемы, а также точные действия, которые покрывают проблему с производительностью.</span><span class="sxs-lookup"><span data-stu-id="cd1af-192">It should include the computer's context, the user's context, when the problem began, and the exact steps that exposed the performance issue.</span></span> <span data-ttu-id="cd1af-193">Этот оператор задачи должен быть и оставаться самым верхней страницей в заметках.</span><span class="sxs-lookup"><span data-stu-id="cd1af-193">This problem statement should be, and stay, the topmost page in your notes.</span></span> <span data-ttu-id="cd1af-194">После того, как вы перейдете к решению проблемы, пошаговым руководством, вы протестируете и подтверждаете, были ли выполненные действия решают проблему.</span><span class="sxs-lookup"><span data-stu-id="cd1af-194">By walking through the problem statement again after you work on the resolution, you are taking the steps to test and prove whether the actions you take have resolved the issue.</span></span> <span data-ttu-id="cd1af-195">Это важно для того, чтобы знать, когда ваша работа выполнена.</span><span class="sxs-lookup"><span data-stu-id="cd1af-195">This is critical to knowing when your work, there, is done.</span></span>
  
## <a name="do-you-know-how-performance-used-to-look-when-it-was-good"></a><span data-ttu-id="cd1af-196">Знаете ли вы, как производительность будет выглядеть, когда она хорошая?</span><span class="sxs-lookup"><span data-stu-id="cd1af-196">Do you know how performance used to look when it was good?</span></span>

<span data-ttu-id="cd1af-197">Если у вас есть несчастливые, никто не знает.</span><span class="sxs-lookup"><span data-stu-id="cd1af-197">If you're unlucky, nobody knows.</span></span> <span data-ttu-id="cd1af-198">Никто не имел цифр.</span><span class="sxs-lookup"><span data-stu-id="cd1af-198">Nobody had numbers.</span></span> <span data-ttu-id="cd1af-199">Это означает, что никто не может ответить на простой вопрос "сведения о том, сколько секунд использовалось для получения папки" Входящие "в Office 365?", или "как долго использовалось время, когда руководитель приводился к собранию Lync Online?", который является распространенным сценарием для многих компаний.</span><span class="sxs-lookup"><span data-stu-id="cd1af-199">That means nobody can answer the simple question "About how many seconds did it used to take to bring up an Inbox in Office 365?", or "How long did it used to take when the Executives had a Lync Online meeting?", which is a common scenario for many companies.</span></span>
  
<span data-ttu-id="cd1af-200">Здесь нет базовых показателей производительности.</span><span class="sxs-lookup"><span data-stu-id="cd1af-200">What's missing here is a performance baseline.</span></span>
  
<span data-ttu-id="cd1af-201">Базовые показатели дают вам контекст производительности.</span><span class="sxs-lookup"><span data-stu-id="cd1af-201">Baselines give you a context for your performance.</span></span> <span data-ttu-id="cd1af-202">В зависимости от потребностей компании необходимо иногда использовать базовую линию.</span><span class="sxs-lookup"><span data-stu-id="cd1af-202">You should take a baseline occasionally to frequently, depending on the needs of your company.</span></span> <span data-ttu-id="cd1af-203">Если вы занимаетесь крупной компанией, Группа операций может использовать базовые уровни для локальной среды.</span><span class="sxs-lookup"><span data-stu-id="cd1af-203">If you are a larger company, your Operations team may take baselines for your on-premises environment already.</span></span> <span data-ttu-id="cd1af-204">Например, если вы исправляете все серверы Exchange Server в первый понедельник месяца и все серверы SharePoint в третьем понедельник, Группа операций, скорее всего, будет иметь список задач и сценариев, которые он выполняет после исправления, чтобы доказать, что критически важные функции работают.</span><span class="sxs-lookup"><span data-stu-id="cd1af-204">For example, if you patch all the Exchange servers on the first Monday of the month, and all your SharePoint servers on the third Monday, your Operations team probably has a list of tasks and scenarios it runs post-patching, to prove that critical functions are operational.</span></span> <span data-ttu-id="cd1af-205">Например, откройте папку "Входящие", нажмите кнопку Отправить/получить и убедитесь, что папки обновлены, или в SharePoint перейдите на главную страницу сайта, перейдите на страницу Поиск в корпоративной среде и выполните поиск, возвращающий результаты.</span><span class="sxs-lookup"><span data-stu-id="cd1af-205">For example, opening the Inbox, clicking Send/Receive, and making sure the folders update, or, in SharePoint, browsing the main page of the site, going into the enterprise Search page, and doing a search that returns results.</span></span>
  
<span data-ttu-id="cd1af-206">Если ваши приложения находятся в Office 365, то некоторые основные базовые показатели можно оценить в течение времени (в миллисекундах) с клиентского компьютера внутри вашей сети, до точки выхода или в точке выхода из сети и переходе на Office 365.</span><span class="sxs-lookup"><span data-stu-id="cd1af-206">If your applications are in Office 365, some of the most fundamental baselines you can take measure the time (in milliseconds) from a client computer inside your network, to an egress point, or the point where you leave your network and go out to Office 365.</span></span> <span data-ttu-id="cd1af-207">Ниже приведены некоторые полезные базовые показатели, которые можно исследовать и записывать.</span><span class="sxs-lookup"><span data-stu-id="cd1af-207">Here are some helpful baselines that you can investigate and record:</span></span>
  
- <span data-ttu-id="cd1af-208">Определите устройства между клиентским компьютером и точкой выхода, например прокси-сервер.</span><span class="sxs-lookup"><span data-stu-id="cd1af-208">Identify the devices between your client computer and your egress point, for example, your proxy server.</span></span>
    
  - <span data-ttu-id="cd1af-209">Вам необходимо знать устройства, чтобы иметь контекст (IP-адреса, тип устройства, et Цетера) для проблем с производительностью.</span><span class="sxs-lookup"><span data-stu-id="cd1af-209">You need to know your devices so that you have context (IP addresses, type of device, et cetera) for performance problems that arise.</span></span>
    
  - <span data-ttu-id="cd1af-210">Прокси-серверы — это распространенные точки выхода, поэтому вы можете проверить веб-браузер, чтобы узнать, какой прокси-сервер он использует (если он указан).</span><span class="sxs-lookup"><span data-stu-id="cd1af-210">Proxy servers are common egress points, so you can check your web browser to see what proxy server it is set to use, if any.</span></span>
    
  - <span data-ttu-id="cd1af-211">Существуют сторонние инструменты, которые могут обнаруживать и сопоставлять сеть, но самый безопасный способ узнать ваше устройство — попросить участника группы сети.</span><span class="sxs-lookup"><span data-stu-id="cd1af-211">There are third party tools that can discover and map your network, but the safest way to know your devices is to ask a member of your network team.</span></span>
    
- <span data-ttu-id="cd1af-212">Определите поставщика услуг Интернета, запишите сведения о контактах и Узнайте, сколько каналов пропускной способности.</span><span class="sxs-lookup"><span data-stu-id="cd1af-212">Identify your Internet service provider (ISP), write down their contact information, and ask how many circuits how much bandwidth you have.</span></span>
    
- <span data-ttu-id="cd1af-213">В вашей организации определите ресурсы для устройств между клиентом и точкой выхода, или определите контакт для экстренного реагирования, который будет обсуждать проблемы с сетью.</span><span class="sxs-lookup"><span data-stu-id="cd1af-213">Inside your company, identify resources for the devices between your client and the egress point, or identify an emergency contact to talk to about networking issues.</span></span>
    
<span data-ttu-id="cd1af-214">Ниже приведены некоторые базовые показатели, которые могут быть рассчитаны с помощью средств простого тестирования с помощью средств.</span><span class="sxs-lookup"><span data-stu-id="cd1af-214">Here are some baselines that simple testing with tools can calculate for you:</span></span>
  
- <span data-ttu-id="cd1af-215">Время с клиентского компьютера до точки выхода в миллисекундах</span><span class="sxs-lookup"><span data-stu-id="cd1af-215">Time from your client computer to your egress point in milliseconds</span></span>
    
- <span data-ttu-id="cd1af-216">Время с момента выхода на Office 365 (в миллисекундах)</span><span class="sxs-lookup"><span data-stu-id="cd1af-216">Time from your egress point to Office 365 in milliseconds</span></span>
    
- <span data-ttu-id="cd1af-217">Расположение в мире сервера, которое разрешает URL-адреса для Office 365 при просмотре</span><span class="sxs-lookup"><span data-stu-id="cd1af-217">Location in the world of the server that resolves the URLS for Office 365 when you browse</span></span>
    
- <span data-ttu-id="cd1af-218">Скорость разрешения DNS поставщика услуг Интернета (в миллисекундах), несогласованности при поступлении пакетов (колебание сети), время отправки и загрузки в миллисекундах.</span><span class="sxs-lookup"><span data-stu-id="cd1af-218">The speed of your ISP's DNS resolution in milliseconds, inconsistencies in packet arrival (network jitter), upload and download times in milliseconds</span></span>
    
<span data-ttu-id="cd1af-219">Если вы не знакомы с выполнением этих действий, мы рассмотрим более подробные сведения в этой статье.</span><span class="sxs-lookup"><span data-stu-id="cd1af-219">If you're unfamiliar with how to carry out these steps, we'll go into more detail in this article.</span></span> 
  
## <a name="what-is-a-baseline"></a><span data-ttu-id="cd1af-220">Что такое базовый план?</span><span class="sxs-lookup"><span data-stu-id="cd1af-220">What is a baseline?</span></span>

<span data-ttu-id="cd1af-221">Вы узнаете, что в случае неисправности вы узнаете, но если вы не знаете исторических данных о производительности, невозможно создать контекст для того, насколько плохо он стал, и когда.</span><span class="sxs-lookup"><span data-stu-id="cd1af-221">You'll know the impact when it goes bad, but if you don't know your historical performance data, it's not possible to have a context for how bad it may have become, and when.</span></span> <span data-ttu-id="cd1af-222">Таким образом, без базового плана вы не можете понять, как решить головоломку: изображение в поле головоломки.</span><span class="sxs-lookup"><span data-stu-id="cd1af-222">So without a baseline, you're missing the key clue to solve the puzzle: the picture on the puzzle box.</span></span> <span data-ttu-id="cd1af-223">При устранении неполадок с производительностью необходима точка  *сравнения*  .</span><span class="sxs-lookup"><span data-stu-id="cd1af-223">In performance troubleshooting, you need a point of  *comparison*  .</span></span> <span data-ttu-id="cd1af-224">Простые базовые показатели производительности не трудно выполнить.</span><span class="sxs-lookup"><span data-stu-id="cd1af-224">Simple performance baselines aren't difficult to take.</span></span> <span data-ttu-id="cd1af-225">В соответствии с расписанием Группа операций может выполнить эти задачи.</span><span class="sxs-lookup"><span data-stu-id="cd1af-225">Your Operations team can be tasked with carrying these out on a schedule.</span></span> <span data-ttu-id="cd1af-226">Например, предположим, что ваше подключение выглядит следующим образом:</span><span class="sxs-lookup"><span data-stu-id="cd1af-226">For example, let's say your connection looks like this:</span></span> 
  
![Основной сетевой график, демонстрирующий клиентский, прокси-сервер и Office 365 Cloud.](../media/c6ca7140-09f9-4c2d-a775-dbf2820eaa0c.PNG)
  
<span data-ttu-id="cd1af-228">Это означает, что вы проверили свою команду сети и обнаружили, что ваша компания покидает Интернет через прокси-сервер, и этот прокси-сервер обрабатывает все запросы, которые клиентский компьютер отправляет в облако.</span><span class="sxs-lookup"><span data-stu-id="cd1af-228">That means you've checked with your network team and found out that you leave your company for the Internet through a proxy server, and that proxy handles all the requests your client computer sends to the cloud.</span></span> <span data-ttu-id="cd1af-229">В этом случае необходимо создать упрощенную версию подключения, в которой перечисляются все промежуточные устройства.</span><span class="sxs-lookup"><span data-stu-id="cd1af-229">In this case, you should draw a simplified version of your connection that lists all the intervening devices.</span></span> <span data-ttu-id="cd1af-230">Теперь вставьте инструменты, которые можно использовать для проверки производительности клиента, точки выхода (в которой вы покидаете сеть в Интернете) и облака Office 365.</span><span class="sxs-lookup"><span data-stu-id="cd1af-230">Now, insert tools that you can use to test the performance between the client, the egress point (where you leave your network for the Internet), and the Office 365 cloud.</span></span>
  
![Простая сеть с клиентами, прокси-сервером и облаком, а также предложениями средств, PSPing, TraceTCP и Network traces.](../media/627bfb77-abf7-4ef1-bbe8-7f8cbe48e1d2.png)
  
<span data-ttu-id="cd1af-232">Эти параметры перечислены как **простые** и **Расширенные** возможности, необходимые для поиска данных о производительности.</span><span class="sxs-lookup"><span data-stu-id="cd1af-232">The options are listed as **Simple** and **Advanced** because of the amount of expertise you need in order to find the performance data.</span></span> <span data-ttu-id="cd1af-233">Трассировка сети может занять много времени, по сравнению с запущенными средствами командной строки, такими как PsPing и TraceTCP.</span><span class="sxs-lookup"><span data-stu-id="cd1af-233">A network trace will take a lot of time, compared to running command-line tools like PsPing and TraceTCP.</span></span> <span data-ttu-id="cd1af-234">Эти два средства командной строки были выбраны, так как они не используют пакеты ICMP, которые будут заблокированы в Office 365, так как они дают время в миллисекундах, необходимое для выхода клиентского компьютера или прокси-сервера (если у вас есть доступ) и поступления в Office 365.</span><span class="sxs-lookup"><span data-stu-id="cd1af-234">These two command-line tools were chosen because they don't use ICMP packets, which will be blocked by Office 365, and because they give the time in milliseconds that it takes to leave the client computer, or proxy server (if you have access) and arrive at Office 365.</span></span> <span data-ttu-id="cd1af-235">Все индивидуальные переходы с одного компьютера на другой будут иметь значение времени, что отлично для базовых планов!</span><span class="sxs-lookup"><span data-stu-id="cd1af-235">Each individual hop from one computer to another will end up with a time value, and that's great for baselines!</span></span> <span data-ttu-id="cd1af-236">Как важно, эти средства командной строки позволяют добавить номер порта в команду, так как Office 365 обменивается данными через порт 443, который является портом, используемым протоколами Secure Sockets Layer и TLS и TLS.</span><span class="sxs-lookup"><span data-stu-id="cd1af-236">Just as importantly, these command-line tools allow you to add a port number onto the command, this is useful because Office 365 communicates over port 443, which is the port used by Secure Sockets Layer and Transport Layer Security (SSL and TLS).</span></span> <span data-ttu-id="cd1af-237">Тем не менее, другие сторонние инструменты могут оказаться более эффективными решениями в вашей ситуации.</span><span class="sxs-lookup"><span data-stu-id="cd1af-237">However, other third-party tools may be better solutions for your situation.</span></span> <span data-ttu-id="cd1af-238">Корпорация Майкрософт не поддерживает все эти средства, поэтому если по какой – то причине не удается получить PsPing и TraceTCP, переходите к сетевой трассировке с помощью средства, такого как Netmon.</span><span class="sxs-lookup"><span data-stu-id="cd1af-238">Microsoft doesn't support all of these tools, so if, for some reason, you can't get PsPing and TraceTCP working, move on to a network trace with a tool like Netmon.</span></span> 
  
<span data-ttu-id="cd1af-239">Вы можете выполнить базовый план до рабочих часов, а затем снова использовать его, а затем снова через несколько часов.</span><span class="sxs-lookup"><span data-stu-id="cd1af-239">You can take a baseline before business hours, again during heavy use, and then again after hours.</span></span> <span data-ttu-id="cd1af-240">Это означает, что у вас может быть структура папок, которая выглядит так же, как в конце:</span><span class="sxs-lookup"><span data-stu-id="cd1af-240">This means you may have a folder structure that looks a bit like this in the end:</span></span>
  
![Схема, на которой показан способ рассортировки данных о производительности по папкам.](../media/13e01ffa-f0f2-4d10-b89d-d5980ec89fae.png)
  
<span data-ttu-id="cd1af-242">Кроме того, следует выбрать соглашение об именовании файлов.</span><span class="sxs-lookup"><span data-stu-id="cd1af-242">You should also pick a naming convention your files.</span></span> <span data-ttu-id="cd1af-243">Ниже приводятся примеры:</span><span class="sxs-lookup"><span data-stu-id="cd1af-243">Here are some examples:</span></span>
  
- <span data-ttu-id="cd1af-244">Feb_09_2015_9amPST_PerfBaseline_Netmon_ClientToEgress_Normal</span><span class="sxs-lookup"><span data-stu-id="cd1af-244">Feb_09_2015_9amPST_PerfBaseline_Netmon_ClientToEgress_Normal</span></span>
    
- <span data-ttu-id="cd1af-245">Jan_10_2015_3pmCST_PerfBaseline_PsPing_ClientToO365_bypassProxy_SLOW</span><span class="sxs-lookup"><span data-stu-id="cd1af-245">Jan_10_2015_3pmCST_PerfBaseline_PsPing_ClientToO365_bypassProxy_SLOW</span></span>
    
- <span data-ttu-id="cd1af-246">Feb_08_2015_2pmEST_PerfBaseline_BADPerf</span><span class="sxs-lookup"><span data-stu-id="cd1af-246">Feb_08_2015_2pmEST_PerfBaseline_BADPerf</span></span>
    
- <span data-ttu-id="cd1af-247">Feb_08_2015_8 30amEST_PerfBaseline_GoodPerf</span><span class="sxs-lookup"><span data-stu-id="cd1af-247">Feb_08_2015_8-30amEST_PerfBaseline_GoodPerf</span></span>
    
<span data-ttu-id="cd1af-248">Это можно сделать множеством разных способов, но **\<dateTime\>\<what's happening in the test\>** для начала рекомендуется использовать формат.</span><span class="sxs-lookup"><span data-stu-id="cd1af-248">There are lots of different ways to do this, but using the format **\<dateTime\>\<what's happening in the test\>** is a good place to start.</span></span> <span data-ttu-id="cd1af-249">Это поможет вам при устранении неполадок, которые могут быть продолжены позже.</span><span class="sxs-lookup"><span data-stu-id="cd1af-249">Being diligent about this will help a lot when you are trying to troubleshoot issues later.</span></span> <span data-ttu-id="cd1af-250">Позже вы сможете сказать: "я занял две трассировки 8 февраля, одна продемонстрировала хорошую производительность, и одна из них неисправна, поэтому мы можем сравнить их".</span><span class="sxs-lookup"><span data-stu-id="cd1af-250">Later, you'll be able to say "I took two traces on February 8th, one showed good performance and one showed bad, so we can compare them".</span></span> <span data-ttu-id="cd1af-251">Это чрезвычайно полезно для устранения неполадок.</span><span class="sxs-lookup"><span data-stu-id="cd1af-251">This is extremely helpful for troubleshooting.</span></span> 
  
<span data-ttu-id="cd1af-252">Необходимо иметь упорядоченный способ хранения исторических базовых показателей.</span><span class="sxs-lookup"><span data-stu-id="cd1af-252">You need to have an organized way to keep your historical baselines.</span></span> <span data-ttu-id="cd1af-253">В этом примере простые методы выдали три выходных выхода командной строки, а результаты были собраны как снимки экрана, но вместо этого могут быть файлы записи сети.</span><span class="sxs-lookup"><span data-stu-id="cd1af-253">In this example, the simple methods produced three command line outputs and the results were collected as screen shots, but you may have network capture files instead.</span></span> <span data-ttu-id="cd1af-254">Используйте метод, который лучше всего подходит для вас.</span><span class="sxs-lookup"><span data-stu-id="cd1af-254">Use the method that works best for you.</span></span> <span data-ttu-id="cd1af-255">Храните свои исторические базовые показатели и ссылаются на них в тех случаях, когда вы заметили изменения в работе веб-служб.</span><span class="sxs-lookup"><span data-stu-id="cd1af-255">Store your historical baselines and refer to them at points where you notice changes in the behavior of online services.</span></span> 
  
## <a name="why-collect-performance-data-during-a-pilot"></a><span data-ttu-id="cd1af-256">Зачем собирать данные о производительности во время пилотного проекта?</span><span class="sxs-lookup"><span data-stu-id="cd1af-256">Why collect performance data during a pilot?</span></span>

<span data-ttu-id="cd1af-257">Не рекомендуется начинать выполнение базовых планов, чем во время пилотного развертывания службы Office 365.</span><span class="sxs-lookup"><span data-stu-id="cd1af-257">There is no better time to start making baselines than during a pilot of the Office 365 service.</span></span> <span data-ttu-id="cd1af-258">У вашего офиса могут быть тысячи пользователей, сотни тысяч или пять, но даже небольшое количество пользователей, можно выполнять тесты для измерения колебаний производительности.</span><span class="sxs-lookup"><span data-stu-id="cd1af-258">Your office may have thousands of users, hundreds of thousands, or it may have five, but even with a small number of users, you can perform tests to measure fluctuations in performance.</span></span> <span data-ttu-id="cd1af-259">В случае крупной компании репрезентативный пример нескольких сотен пользователей, пилотный пилотный проект Office 365, может быть проецирован на несколько тысяч, чтобы узнать, где могут возникнуть проблемы до их появления.</span><span class="sxs-lookup"><span data-stu-id="cd1af-259">In the case of a large company, a representative sample of several hundred users piloting Office 365 can be projected outward to several thousands so you know where issues might arise before they happen.</span></span>
  
<span data-ttu-id="cd1af-260">В случае с небольшой компанией, где при включенной серверной плате все пользователи отправляются в службу одновременно, и нет пилотного проекта, для отображения данных, которые могут поступать в устранении неполадок, связанных с недостаточной производительностью.</span><span class="sxs-lookup"><span data-stu-id="cd1af-260">In the case of a small company, where on-boarding means that all users go to the service at the same time and there is no pilot, keep performance measures so that you have data to show to anyone who may have to troubleshoot a badly performing operation.</span></span> <span data-ttu-id="cd1af-261">Например, если вы заметили, что все внезапно вы можете проанализировать ваше построение в течение времени, которое занимается отправкой изображения среднего размера, в котором она выполнялась очень быстро.</span><span class="sxs-lookup"><span data-stu-id="cd1af-261">For example, if you notice that all of a sudden you can walk around your building in the time it takes to upload a medium-sized graphic where it used to happen very quickly.</span></span>
  
## <a name="how-to-collect-baselines"></a><span data-ttu-id="cd1af-262">Сбор базовых планов</span><span class="sxs-lookup"><span data-stu-id="cd1af-262">How to collect baselines</span></span>

<span data-ttu-id="cd1af-263">Для всех планов устранения неполадок необходимо как минимум:</span><span class="sxs-lookup"><span data-stu-id="cd1af-263">For all troubleshooting plans you need to identify these things at a minimum:</span></span>
  
- <span data-ttu-id="cd1af-264">Клиентский компьютер, который вы используете (тип компьютера или устройства, IP-адрес и действия, вызвавшие эту неполадку).</span><span class="sxs-lookup"><span data-stu-id="cd1af-264">The client computer you're using (the type of computer or device, an IP address, and the actions that caused the issue)</span></span>
    
- <span data-ttu-id="cd1af-265">Место, где клиентский компьютер находится в мире (например, является ли этот пользователь VPN-подключением для сети, работает удаленно или в интрасети компании)</span><span class="sxs-lookup"><span data-stu-id="cd1af-265">Where the client computer is located in the world (for example, whether this user on a VPN to the network, working remotely, or on the company intranet)</span></span>
    
- <span data-ttu-id="cd1af-266">Точка выхода клиентский компьютер использует сеть из сети (точка, в которой трафик покидает ваш бизнес для ISP или Интернет)</span><span class="sxs-lookup"><span data-stu-id="cd1af-266">The egress point the client computer uses from your network (the point at which traffic leaves your business for an ISP or the Internet)</span></span>
    
 <span data-ttu-id="cd1af-267">Вы можете узнать макет сети у администратора сети.</span><span class="sxs-lookup"><span data-stu-id="cd1af-267">You can find out the layout of your network from the network administrator.</span></span> <span data-ttu-id="cd1af-268">Если вы находитесь в небольшой сети, Взгляните на устройства, подключающиеся к Интернету, и позвоните своему поставщику услуг Интернета, если у вас возникнут вопросы о макете.</span><span class="sxs-lookup"><span data-stu-id="cd1af-268">If you're on a small network, take a look at the devices connecting you to the Internet, and call your ISP if you have questions about the layout.</span></span> <span data-ttu-id="cd1af-269">Создайте график готовой структуры для ссылки.</span><span class="sxs-lookup"><span data-stu-id="cd1af-269">Create a graphic of the final layout for your reference.</span></span> 
  
<span data-ttu-id="cd1af-270">Этот раздел разбивается на простые средства командной строки и методы, а расширенные параметры инструментов.</span><span class="sxs-lookup"><span data-stu-id="cd1af-270">This section is broken into simple command-line tools and methods, and more advanced tools options.</span></span> <span data-ttu-id="cd1af-271">Сначала мы рассмотрим простые методы.</span><span class="sxs-lookup"><span data-stu-id="cd1af-271">We'll cover simple methods first.</span></span> <span data-ttu-id="cd1af-272">Но если у вас проблема с производительностью, следует перейти к дополнительным методам и испытать пример плана действий по устранению неполадок с производительностью.</span><span class="sxs-lookup"><span data-stu-id="cd1af-272">But if you've got a performance problem right now, you should jump to advanced methods and try out the sample performance-troubleshooting action plan.</span></span>
  
### <a name="simple-methods"></a><span data-ttu-id="cd1af-273">Простые методы</span><span class="sxs-lookup"><span data-stu-id="cd1af-273">Simple methods</span></span>

<span data-ttu-id="cd1af-274">Цель этих простых методов состоит в том, чтобы изучать, разбирать и правильно хранить простые базовые показатели производительности с течением времени, чтобы получать сведения о производительности Office 365.</span><span class="sxs-lookup"><span data-stu-id="cd1af-274">The objective of these simple methods is to learn to take, understand, and properly store simple performance baselines over time so that you are informed about Office 365 performance.</span></span> <span data-ttu-id="cd1af-275">Вот простая схема для простой, как показано выше:</span><span class="sxs-lookup"><span data-stu-id="cd1af-275">Here's the very simple diagram for simple, as you've seen before:</span></span>
  
![Простая сеть с клиентами, прокси-сервером и облаком, а также предложениями средств, PSPing, TraceTCP и Network traces.](../media/627bfb77-abf7-4ef1-bbe8-7f8cbe48e1d2.png)
  
> [!NOTE]
> <span data-ttu-id="cd1af-277">TraceTCP включается в этот снимок экрана, так как это удобно для отображения, в миллисекундах, продолжительности обработки запроса и количества прыжков сети или подключений от одного компьютера к другому, что делает запрос для достижения целевого значения.</span><span class="sxs-lookup"><span data-stu-id="cd1af-277">TraceTCP is included in this screen shot because it's a useful tool for showing, in milliseconds, how long a request takes to process, and how many network hops, or connections from one computer to the next, that the request takes to reach a destination.</span></span> <span data-ttu-id="cd1af-278">TraceTCP также может предоставлять имена серверов, используемых при переходах, что может быть полезен в средстве устранения неполадок Microsoft Office 365 в службе поддержки.</span><span class="sxs-lookup"><span data-stu-id="cd1af-278">TraceTCP can also give the names of servers used during hops, which can be useful to a Microsoft Office 365 troubleshooter in Support.</span></span> <span data-ttu-id="cd1af-279">> команды TraceTCP могут быть очень простыми, например: >  `tracetcp.exe outlook.office365.com:443`> не забудьте включить номер порта в команду!</span><span class="sxs-lookup"><span data-stu-id="cd1af-279">> TraceTCP commands can be very simple, such as: >  `tracetcp.exe outlook.office365.com:443`> Remember to include the port number in the command!</span></span><span data-ttu-id="cd1af-280"> > [TraceTCP](https://simulatedsimian.github.io/tracetcp_download.html) — это бесплатная загрузка, но она основана на винкап.</span><span class="sxs-lookup"><span data-stu-id="cd1af-280"> > [TraceTCP](https://simulatedsimian.github.io/tracetcp_download.html) is a free download, but relies on Wincap.</span></span> <span data-ttu-id="cd1af-281">Винкап — это средство, которое также используется и устанавливается в Netmon.</span><span class="sxs-lookup"><span data-stu-id="cd1af-281">Wincap is a tool that is also used and installed by Netmon.</span></span> <span data-ttu-id="cd1af-282">Кроме того, в разделе Дополнительные методы используется Netmon.</span><span class="sxs-lookup"><span data-stu-id="cd1af-282">We also use Netmon in the advanced methods section.</span></span> 
  
 <span data-ttu-id="cd1af-283">Если у вас несколько офисов, необходимо также хранить набор данных клиента в каждом расположении.</span><span class="sxs-lookup"><span data-stu-id="cd1af-283">If you have multiple offices, you'll need to keep a set of data from a client in each of those locations as well.</span></span> <span data-ttu-id="cd1af-284">Эта проверка измеряет задержку, в которой, в данном случае, является числовое значение, которое описывает время между клиентом, отправляющим запрос, на Office 365, а Office 365 отвечает на запрос.</span><span class="sxs-lookup"><span data-stu-id="cd1af-284">This test measures latency, which, in this case, is a number value that describes the amount of time between a client sending a request to Office 365, and Office 365 responding to the request.</span></span> <span data-ttu-id="cd1af-285">Тестирование исходит от домена на клиентском компьютере и выполняет поиск в измерении кругового пути в сети, исходящих через точку исходящего трафика, через Интернет в Office 365 и обратно.</span><span class="sxs-lookup"><span data-stu-id="cd1af-285">The testing originates inside your domain on a client computer, and looks to measure a round trip from inside your network, out through an egress point, across the Internet to Office 365, and back.</span></span> 
  
<span data-ttu-id="cd1af-286">Существует несколько способов работы с точкой выхода (в данном случае — прокси-сервер).</span><span class="sxs-lookup"><span data-stu-id="cd1af-286">There are a few ways to deal with the egress point, in this case, the proxy server.</span></span> <span data-ttu-id="cd1af-287">Можно выполнить трассировку от 1 до 2, а затем 2 – 3, а затем добавить числа в миллисекундах, чтобы получить итоговые итоги по краю сети.</span><span class="sxs-lookup"><span data-stu-id="cd1af-287">You can either trace from 1 to 2 and then 2 to 3, and then add the numbers in milliseconds to get a final total to the edge of your network.</span></span> <span data-ttu-id="cd1af-288">Вы также можете настроить подключение так, чтобы оно обходило адреса прокси-сервера для Office 365.</span><span class="sxs-lookup"><span data-stu-id="cd1af-288">Or, you can configure the connection to bypass the proxy for Office 365 addresses.</span></span> <span data-ttu-id="cd1af-289">В более крупной сети с брандмауэром, обратным прокси-сервером или некоторыми их сочетаниями может потребоваться сделать исключения на прокси-сервере, что позволит передавать трафик по большому URL-адресу.</span><span class="sxs-lookup"><span data-stu-id="cd1af-289">In a larger network with a firewall, reverse proxy, or some combination of the two, you may need to make exceptions on the proxy server that will allow traffic to pass for a lot of URLs.</span></span> <span data-ttu-id="cd1af-290">Список конечных точек, используемых в Office 365, представлен в статье [URL-адреса и диапазоны IP-адресов office 365](https://support.office.com/article/8548a211-3fe7-47cb-abb1-355ea5aa88a2).</span><span class="sxs-lookup"><span data-stu-id="cd1af-290">For the list of endpoints used by Office 365, see [Office 365 URLs and IP address ranges](https://support.office.com/article/8548a211-3fe7-47cb-abb1-355ea5aa88a2).</span></span> <span data-ttu-id="cd1af-291">Если у вас есть прокси-сервер с проверкой подлинности, начните проверку исключений для следующих компонентов:</span><span class="sxs-lookup"><span data-stu-id="cd1af-291">If you have an authenticating proxy, begin by testing exceptions for the following:</span></span>
  
- <span data-ttu-id="cd1af-292">Порты 80 и 443</span><span class="sxs-lookup"><span data-stu-id="cd1af-292">Ports 80 and 443</span></span>
    
- <span data-ttu-id="cd1af-293">TCP и HTTPs</span><span class="sxs-lookup"><span data-stu-id="cd1af-293">TCP and HTTPs</span></span>
    
- <span data-ttu-id="cd1af-294">Подключения, исходящие через один из этих URL-адресов:</span><span class="sxs-lookup"><span data-stu-id="cd1af-294">Connections that are outbound to any of these URLs:</span></span>
    
- <span data-ttu-id="cd1af-295">\*. microsoftonline.com</span><span class="sxs-lookup"><span data-stu-id="cd1af-295">\*.microsoftonline.com</span></span>
    
- <span data-ttu-id="cd1af-296">\*. microsoftonline-p.com</span><span class="sxs-lookup"><span data-stu-id="cd1af-296">\*.microsoftonline-p.com</span></span>
    
- <span data-ttu-id="cd1af-297">\*.sharepoint.com</span><span class="sxs-lookup"><span data-stu-id="cd1af-297">\*.sharepoint.com</span></span>
    
- <span data-ttu-id="cd1af-298">\*. outlook.com</span><span class="sxs-lookup"><span data-stu-id="cd1af-298">\*.outlook.com</span></span>
    
- <span data-ttu-id="cd1af-299">\*. lync.com</span><span class="sxs-lookup"><span data-stu-id="cd1af-299">\*.lync.com</span></span>
    
- <span data-ttu-id="cd1af-300">osub.microsoft.com</span><span class="sxs-lookup"><span data-stu-id="cd1af-300">osub.microsoft.com</span></span>
    
<span data-ttu-id="cd1af-301">Всем пользователям необходимо разрешить пользователям получать доступ к этим адресам без помех или помех прокси-серверов.</span><span class="sxs-lookup"><span data-stu-id="cd1af-301">All users need to be allowed to get to these addresses without any proxy interference or authentication.</span></span> <span data-ttu-id="cd1af-302">В сети меньшего размера их необходимо добавить в список обхода прокси-серверов в веб-браузере.</span><span class="sxs-lookup"><span data-stu-id="cd1af-302">On a smaller network, you should add these to your proxy bypass list in your web browser.</span></span> 
  
<span data-ttu-id="cd1af-303">Чтобы добавить их в список обхода прокси-серверов в Internet Explorer, откройте **меню Сервис** \> **Свойства** \> **подключения** \> **LAN параметры** подключения \> **Advanced**.</span><span class="sxs-lookup"><span data-stu-id="cd1af-303">To add these to your proxy bypass list in Internet Explorer, go to **Tools** \> **Internet Options** \> **Connections** \> **LAN settings** \> **Advanced**.</span></span> <span data-ttu-id="cd1af-304">Кроме того, на вкладке Дополнительно можно найти порт прокси-сервера и прокси-сервера.</span><span class="sxs-lookup"><span data-stu-id="cd1af-304">The advanced tab is also where you will find your proxy server and proxy server port.</span></span> <span data-ttu-id="cd1af-305">Возможно, вам потребуется установить флажок **использовать прокси-сервер для локальной сети**, чтобы получить доступ к кнопке **Advanced** .</span><span class="sxs-lookup"><span data-stu-id="cd1af-305">You may need to click the checkbox **Use a proxy server for your LAN**, to access the **Advanced** button.</span></span> <span data-ttu-id="cd1af-306">Необходимо убедиться, что флажок **обход прокси-сервера для локальных адресов** установлен.</span><span class="sxs-lookup"><span data-stu-id="cd1af-306">You'll want to make sure that **Bypass proxy server for local addresses** is checked.</span></span> <span data-ttu-id="cd1af-307">После нажатия кнопки **Дополнительно**отображается текстовое поле, в котором можно ввести исключения.</span><span class="sxs-lookup"><span data-stu-id="cd1af-307">Once you click **Advanced**, you'll see a text box where you can enter exceptions.</span></span> <span data-ttu-id="cd1af-308">Разделяйте приведенные выше URL-адреса с точками с запятой, например:</span><span class="sxs-lookup"><span data-stu-id="cd1af-308">Separate the wildcard URLs listed above with semi-colons, for example:</span></span>
  
<span data-ttu-id="cd1af-309">\*. microsoftonline.com; \*. SharePoint.com</span><span class="sxs-lookup"><span data-stu-id="cd1af-309">\*.microsoftonline.com; \*.sharepoint.com</span></span>
  
<span data-ttu-id="cd1af-310">После обхода прокси-сервера вы сможете использовать команду ping или PsPing непосредственно в URL-адресе Office 365.</span><span class="sxs-lookup"><span data-stu-id="cd1af-310">Once you bypass your proxy, you should be able to use ping or PsPing directly on an Office 365 URL.</span></span> <span data-ttu-id="cd1af-311">Следующий шаг будет тестировать ping **Outlook.Office365.com**.</span><span class="sxs-lookup"><span data-stu-id="cd1af-311">The next step will be to test ping **outlook.office365.com**.</span></span> <span data-ttu-id="cd1af-312">Кроме того, если вы используете PsPing или другое средство, которое позволит указать номер порта для команды, PsPing от **Portal.microsoftonline.com:443** , чтобы увидеть среднее время кругового пути в миллисекундах.</span><span class="sxs-lookup"><span data-stu-id="cd1af-312">Or, if you're using PsPing or another tool that will let you supply a port number to the command, PsPing against **portal.microsoftonline.com:443** to see the average round trip time in milliseconds.</span></span> 
  
<span data-ttu-id="cd1af-313">Время кругового пути (или RTT) — это числовое значение, которое измеряет продолжительность отправки HTTP-запроса на сервер, например outlook.office365.com, и получения ответа, который подтверждает, что он знает сервер.</span><span class="sxs-lookup"><span data-stu-id="cd1af-313">The round trip time, or RTT, is a number value that measures how long it takes to send a HTTP request to a server like outlook.office365.com and get a response back that acknowledges the server knows that you did it.</span></span> <span data-ttu-id="cd1af-314">Это сокращение иногда отображается как RTT.</span><span class="sxs-lookup"><span data-stu-id="cd1af-314">You'll sometimes see this abbreviated as RTT.</span></span> <span data-ttu-id="cd1af-315">Это должен быть относительно короткий период времени.</span><span class="sxs-lookup"><span data-stu-id="cd1af-315">This should be a relatively short amount of time.</span></span>
  
<span data-ttu-id="cd1af-316">Для выполнения этой проверки необходимо использовать [PSPing](https://technet.microsoft.com/sysinternals/jj729731.aspx) или другое средство, которое не использует пакеты ICMP, заблокированные в Office 365.</span><span class="sxs-lookup"><span data-stu-id="cd1af-316">You have to use [PSPing](https://technet.microsoft.com/sysinternals/jj729731.aspx) or another tool that does not use ICMP packets which are blocked by Office 365 in order to do this test.</span></span> 
  
 <span data-ttu-id="cd1af-317">**Как использовать PsPing для получения общего времени кругового пути в миллисекундах непосредственно с URL-адреса Office 365**</span><span class="sxs-lookup"><span data-stu-id="cd1af-317">**How to use PsPing to get an overall round trip time in milliseconds directly from an Office 365 URL**</span></span>
  
1. <span data-ttu-id="cd1af-318">Запустите командную строку с повышенными привилегиями, выполнив указанные ниже действия.</span><span class="sxs-lookup"><span data-stu-id="cd1af-318">Run an elevated command prompt by completing these steps:</span></span>
    
1. <span data-ttu-id="cd1af-319">Нажмите кнопку **Начало**.</span><span class="sxs-lookup"><span data-stu-id="cd1af-319">Click **Start**.</span></span>
    
2. <span data-ttu-id="cd1af-320">В поле **начать поиск** введите cmd, а затем нажмите клавиши CTRL + SHIFT + ВВОД.</span><span class="sxs-lookup"><span data-stu-id="cd1af-320">In the **Start Search** box, type cmd, and then press CTRL+SHIFT+ENTER.</span></span>
    
3. <span data-ttu-id="cd1af-321">Если появится диалоговое окно **Управление учетной записью пользователя**, убедитесь, что действие, указанное в окне, совпадает с тем, которое вы хотите выполнить, и нажмите **Продолжить**.</span><span class="sxs-lookup"><span data-stu-id="cd1af-321">If the **User Account Control** dialog box appears, confirm that the action it displays is what you want, and then click **Continue**.</span></span>
    
2. <span data-ttu-id="cd1af-322">Перейдите к папке, в которой установлен инструмент (в данном случае PsPing), и протестируйте следующие URL-адреса Office 365:</span><span class="sxs-lookup"><span data-stu-id="cd1af-322">Navigate to the folder where the tool (in this case PsPing) is installed and test these Office 365 URLs:</span></span>
    
  - <span data-ttu-id="cd1af-323">psping portal.office.com:443</span><span class="sxs-lookup"><span data-stu-id="cd1af-323">psping portal.office.com:443</span></span>
    
  - <span data-ttu-id="cd1af-324">psping microsoft-my.sharepoint.com:443</span><span class="sxs-lookup"><span data-stu-id="cd1af-324">psping microsoft-my.sharepoint.com:443</span></span>
    
  - <span data-ttu-id="cd1af-325">psping outlook.office365.com:443</span><span class="sxs-lookup"><span data-stu-id="cd1af-325">psping outlook.office365.com:443</span></span>
    
  - <span data-ttu-id="cd1af-326">psping www.yammer.com:443</span><span class="sxs-lookup"><span data-stu-id="cd1af-326">psping www.yammer.com:443</span></span>
    
    ![Команда PSPing, которая переходит на microsoft-my.sharepoint.com порт 443.](../media/3258f620-4513-4e82-95c9-06b387fc3a82.PNG)
  
<span data-ttu-id="cd1af-328">Обязательно укажите номер порта 443.</span><span class="sxs-lookup"><span data-stu-id="cd1af-328">Be sure to include the port number of 443.</span></span> <span data-ttu-id="cd1af-329">Помните, что Office 365 работает на зашифрованном канале.</span><span class="sxs-lookup"><span data-stu-id="cd1af-329">Remember that Office 365 works on an encrypted channel.</span></span> <span data-ttu-id="cd1af-330">Если вы PsPing без номера порта, ваш запрос завершится с ошибками.</span><span class="sxs-lookup"><span data-stu-id="cd1af-330">If you PsPing without the port number, your request will fail.</span></span> <span data-ttu-id="cd1af-331">Если вы выполнили команду ping для короткого списка, найдите среднее время в миллисекундах (МС).</span><span class="sxs-lookup"><span data-stu-id="cd1af-331">Once you've pinged your short list, look for the Average time in milliseconds (ms).</span></span> <span data-ttu-id="cd1af-332">Вот что вы хотите записать!</span><span class="sxs-lookup"><span data-stu-id="cd1af-332">That is what you want to record!</span></span>
  
![Рисунок, на котором показан пример клиента для прокси-сервера PSPing с временем кругового пути 2,8 миллисекунд.](../media/96901aea-1093-4f1b-b5a3-6078e9035e6c.png)
  
<span data-ttu-id="cd1af-334">Если вы не знакомы с обходом прокси-сервера, и предпочитаете пошаговое выполнение действий, необходимо сначала найти имя прокси-сервера.</span><span class="sxs-lookup"><span data-stu-id="cd1af-334">If you're not familiar with proxy bypass, and prefer to take things step-by-step, you need to first find out the name of your proxy server.</span></span> <span data-ttu-id="cd1af-335">В Internet Explorer выберите в **меню Сервис** \> **Свойства** \> **подключения** \> **LAN параметры** подключения \> **расширены**.</span><span class="sxs-lookup"><span data-stu-id="cd1af-335">In Internet Explorer go to **Tools** \> **Internet Options** \> **Connections** \> **LAN settings** \> **Advanced**.</span></span> <span data-ttu-id="cd1af-336">На вкладке **Дополнительно** отображается указанный прокси-сервер.</span><span class="sxs-lookup"><span data-stu-id="cd1af-336">The **Advanced** tab is where you will see your proxy server listed.</span></span> <span data-ttu-id="cd1af-337">Выполните команду ping для этого прокси-сервера в командной строки, выполнив следующую задачу:</span><span class="sxs-lookup"><span data-stu-id="cd1af-337">Ping that proxy server at a command prompt by completing this task:</span></span> 
  
 <span data-ttu-id="cd1af-338">**Проверка связи с прокси-сервером и получение значения кругового пути в миллисекундах для этапа 1 — 2**</span><span class="sxs-lookup"><span data-stu-id="cd1af-338">**To ping the proxy server and get a round trip value in milliseconds for stage 1 to 2**</span></span>
  
1. <span data-ttu-id="cd1af-339">Запустите командную строку с повышенными привилегиями, выполнив указанные ниже действия.</span><span class="sxs-lookup"><span data-stu-id="cd1af-339">Run an elevated command prompt by completing these steps:</span></span>
    
1. <span data-ttu-id="cd1af-340">Нажмите кнопку **Начало**.</span><span class="sxs-lookup"><span data-stu-id="cd1af-340">Click **Start**.</span></span>
    
2. <span data-ttu-id="cd1af-341">В поле **начать поиск** введите cmd, а затем нажмите клавиши CTRL + SHIFT + ВВОД.</span><span class="sxs-lookup"><span data-stu-id="cd1af-341">In the **Start Search** box, type cmd, and then press CTRL+SHIFT+ENTER.</span></span>
    
3. <span data-ttu-id="cd1af-342">Если появится диалоговое окно **Управление учетной записью пользователя**, убедитесь, что действие, указанное в окне, совпадает с тем, которое вы хотите выполнить, и нажмите **Продолжить**.</span><span class="sxs-lookup"><span data-stu-id="cd1af-342">If the **User Account Control** dialog box appears, confirm that the action it displays is what you want, and then click **Continue**.</span></span>
    
2. <span data-ttu-id="cd1af-343">Введите команду ping \<the name of the proxy server your browser uses, or the IP address of the proxy server\> , а затем нажмите клавишу ВВОД.</span><span class="sxs-lookup"><span data-stu-id="cd1af-343">Type ping \<the name of the proxy server your browser uses, or the IP address of the proxy server\> and then press ENTER.</span></span> <span data-ttu-id="cd1af-344">Если у вас есть PsPing или другое средство, то вы можете использовать это средство.</span><span class="sxs-lookup"><span data-stu-id="cd1af-344">If you have PsPing, or some other tool, installed, you can choose to use that tool instead.</span></span> 
    
    <span data-ttu-id="cd1af-345">Команда может выглядеть, как в одном из следующих примеров:</span><span class="sxs-lookup"><span data-stu-id="cd1af-345">Your command may look like any of these examples:</span></span> 
    
  - <span data-ttu-id="cd1af-346">ping ourproxy.ourdomain.industry.business.com</span><span class="sxs-lookup"><span data-stu-id="cd1af-346">ping ourproxy.ourdomain.industry.business.com</span></span>
    
  - <span data-ttu-id="cd1af-347">ping 155.55.121.55</span><span class="sxs-lookup"><span data-stu-id="cd1af-347">ping 155.55.121.55</span></span>
    
  - <span data-ttu-id="cd1af-348">ping аурпрокси</span><span class="sxs-lookup"><span data-stu-id="cd1af-348">ping ourproxy</span></span>
    
  - <span data-ttu-id="cd1af-349">psping ourproxy.ourdomain.industry.business.com:80</span><span class="sxs-lookup"><span data-stu-id="cd1af-349">psping ourproxy.ourdomain.industry.business.com:80</span></span>
    
  - <span data-ttu-id="cd1af-350">psping 155.55.121.55:80</span><span class="sxs-lookup"><span data-stu-id="cd1af-350">psping 155.55.121.55:80</span></span>
    
  - <span data-ttu-id="cd1af-351">psping аурпрокси: 80</span><span class="sxs-lookup"><span data-stu-id="cd1af-351">psping ourproxy:80</span></span>
    
3. <span data-ttu-id="cd1af-352">Когда трассировка прекратит отправку тестовых пакетов, вы получите небольшой сводный список, в котором указывается среднее значение (в миллисекундах), а это значение, которое вы используете.</span><span class="sxs-lookup"><span data-stu-id="cd1af-352">When the trace stops sending test packets, you'll get a small summary that lists an average, in milliseconds, and that's the value you're after.</span></span> <span data-ttu-id="cd1af-353">Сделайте снимок экрана с запросом и сохраните его, используя ваше соглашение об именовании.</span><span class="sxs-lookup"><span data-stu-id="cd1af-353">Take a screen shot of the prompt and save it using your naming convention.</span></span> <span data-ttu-id="cd1af-354">На этом шаге также может помочь заполнить схему значением.</span><span class="sxs-lookup"><span data-stu-id="cd1af-354">At this point it may also help to fill in the diagram with the value.</span></span>
    
<span data-ttu-id="cd1af-355">Возможно, Вы затратили трассировку на раннем утро, и клиент может быстро получить доступ к прокси-серверу (или к серверу выхода в Интернет).</span><span class="sxs-lookup"><span data-stu-id="cd1af-355">Maybe you've taken a trace in the early morning, and your client can get to the proxy (or whatever egress server exits to the Internet) quickly.</span></span> <span data-ttu-id="cd1af-356">В этом случае ваши номера могут выглядеть следующим образом:</span><span class="sxs-lookup"><span data-stu-id="cd1af-356">In this case, your numbers may look like this:</span></span>
  
![График, показывающий время кругового пути от клиента до прокси-сервера 2,8 миллисекунд.](../media/1bd03544-23fc-47d4-bbae-c1feb466a5d8.PNG)
  
<span data-ttu-id="cd1af-358">Если ваш клиентский компьютер является одним из нескольких выбранных серверов с доступом к прокси-серверу (или выходному серверу), можно выполнить следующий участок теста, удаленно подключаясь к этому компьютеру, запустив командную строку, чтобы PsPing в URL-адрес Office 365.</span><span class="sxs-lookup"><span data-stu-id="cd1af-358">If your client computer is one of the select few with access to the proxy (or egress) server, you can run the next leg of the test by remotely connecting to that computer, running the command prompt to PsPing to an Office 365 URL from there.</span></span> <span data-ttu-id="cd1af-359">Если у вас нет доступа к этому компьютеру, вы можете обратиться к сетевым ресурсам, чтобы получить справку по следующему подразделу и получить точные номера.</span><span class="sxs-lookup"><span data-stu-id="cd1af-359">If you don't have access to that computer, you can contact your network resources for help with the next leg and get exact numbers that way.</span></span> <span data-ttu-id="cd1af-360">Если это невозможно, выполните PsPing по указанному URL-адресу Office 365 и сравните его со временем PsPing или ping с прокси-сервером.</span><span class="sxs-lookup"><span data-stu-id="cd1af-360">If that's not possible, take a PsPing against the Office 365 URL in question and compare it to the PsPing or Ping time against your proxy server.</span></span> 
  
<span data-ttu-id="cd1af-361">Например, если у клиента 51,84 МС от клиента к URL-адресу Office 365, и у вас в течение 2,8 миллисекунд от клиента до прокси-сервера (или точки выхода), то в качестве выхода на Office 365 будет установлено 49,04 МС.</span><span class="sxs-lookup"><span data-stu-id="cd1af-361">For example, if you have 51.84 milliseconds from the client to the Office 365 URL, and you have 2.8 milliseconds from the client to the proxy (or egress point), then you have 49.04 milliseconds from the egress to Office 365.</span></span> <span data-ttu-id="cd1af-362">Аналогичным образом, если у клиента в течение 12,25 мс от клиента к прокси-серверу в течение дня, а 62,01 миллисекунд от клиента до URL-адреса Office 365, то среднее значение прокси-сервера в URL-адресе Office 365 составляет 49,76 МС.</span><span class="sxs-lookup"><span data-stu-id="cd1af-362">Likewise, if you have a PsPing of 12.25 milliseconds from the client to the proxy during the height of the day, and 62.01 milliseconds from the client to the Office 365 URL, then your average value for the proxy egress to the Office 365 URL is 49.76 milliseconds.</span></span>
  
![Дополнительный рисунок, на котором показана проверка связи в миллисекундах от клиента к прокси-серверу рядом с клиентом до Office 365, поэтому значения можно вычесть.](../media/cd764e77-5154-44ba-a5cd-443a628eb2d9.PNG)
  
<span data-ttu-id="cd1af-364">С точки зрения устранения неполадок вы можете найти нечто интересное о том, как хранить эти базовые планы.</span><span class="sxs-lookup"><span data-stu-id="cd1af-364">In terms of troubleshooting, you may find something interesting just from keeping these baselines.</span></span> <span data-ttu-id="cd1af-365">Например, если вы обнаружите, что в большинстве случаев около 40 59 мс задержки от прокси-сервера или выходного адреса в URL-адрес Office 365, и иметь клиент для прокси-сервера или Выходная точка выхода от 3 до 7 миллисекунд (в зависимости от объема сетевого трафика, который вы видите в это время суток), вы наверняка знаете, что что-то не так, если последние три клиента для прокси или выхода покажут задержку в 45 миллисекунд.</span><span class="sxs-lookup"><span data-stu-id="cd1af-365">For example, if you find that you generally have about 40 to 59 milliseconds of latency from the proxy or egress point to the Office 365 URL, and have a client to proxy or egress point latency of about 3 to 7 milliseconds (depending on the amount network traffic you're seeing during that time of day) then you will surely know something is problematic if your last three client to proxy or egress baselines show a latency of 45 milliseconds.</span></span>
  
### <a name="advanced-methods"></a><span data-ttu-id="cd1af-366">Дополнительные методы</span><span class="sxs-lookup"><span data-stu-id="cd1af-366">Advanced methods</span></span>

<span data-ttu-id="cd1af-367">Если вы действительно хотите узнать, что происходит с Интернет-запросами до Office 365, необходимо ознакомиться с сетевыми трассировками.</span><span class="sxs-lookup"><span data-stu-id="cd1af-367">If you really want to know what is happening with your Internet requests to Office 365, you need to become familiar with network traces.</span></span> <span data-ttu-id="cd1af-368">Не имеет значения, какие средства вы предпочитаете использовать для этих трассировок, HTTPWatch, NetMon, анализатор сообщений, Wireshark, Fiddler, средство для разработки панелей разработчика или любое другое, если это средство может записывать и фильтровать сетевой трафик.</span><span class="sxs-lookup"><span data-stu-id="cd1af-368">It does not matter which tools you prefer for these traces, HTTPWatch, Netmon, Message Analyzer, Wireshark, Fiddler, Developer Dashboard tool or any other will do as long as that tool can capture and filter network traffic.</span></span> <span data-ttu-id="cd1af-369">В этом разделе вы увидите, что для получения более полной картины проблемы можно использовать более одного из этих средств.</span><span class="sxs-lookup"><span data-stu-id="cd1af-369">You'll see in this section that it's beneficial to run more than one of these tools to get a more complete picture of the problem.</span></span> <span data-ttu-id="cd1af-370">При тестировании некоторые из этих средств также действуют как прокси-серверы в своих собственных подразделах.</span><span class="sxs-lookup"><span data-stu-id="cd1af-370">When you're testing, some of these tools also act as proxies in their own right.</span></span> <span data-ttu-id="cd1af-371">Средства, используемые в сопровождающей статье, [план устранения неполадок с производительностью для Office 365](performance-troubleshooting-plan.md), включают [Netmon 3,4](https://www.microsoft.com/download/details.aspx?id=4865), [HTTPWatch](https://www.httpwatch.com/download/)или [Wireshark](https://www.wireshark.org/).</span><span class="sxs-lookup"><span data-stu-id="cd1af-371">Tools used in the companion article, [Performance troubleshooting plan for Office 365](performance-troubleshooting-plan.md), include [Netmon 3.4](https://www.microsoft.com/download/details.aspx?id=4865), [HTTPWatch](https://www.httpwatch.com/download/), or [WireShark](https://www.wireshark.org/).</span></span>
  
<span data-ttu-id="cd1af-372">Создание базового плана производительности является простой частью этого метода, и многие из них одинаковы, так же, как при устранении проблем с производительностью.</span><span class="sxs-lookup"><span data-stu-id="cd1af-372">Taking a performance baseline is the simple part of this method, and many of the steps are the same as when you troubleshoot a performance issue.</span></span> <span data-ttu-id="cd1af-373">Более сложные методы создания базовых планов для производительности требуют использования и хранения трассировок сети.</span><span class="sxs-lookup"><span data-stu-id="cd1af-373">The more advanced methods of creating baselines for performance requires you to take and store network traces.</span></span> <span data-ttu-id="cd1af-374">В большинстве примеров, приведенных в этой статье, используется SharePoint Online, но необходимо разработать список общих действий в службах Office 365, на которые вы подписаны для тестирования и записи.</span><span class="sxs-lookup"><span data-stu-id="cd1af-374">Most of the examples in this article use SharePoint Online, but you should develop a list of common actions across the Office 365 services to which you subscribe to test and record.</span></span> <span data-ttu-id="cd1af-375">Ниже приведен пример базового примера.</span><span class="sxs-lookup"><span data-stu-id="cd1af-375">Here is a baseline example:</span></span>
  
- <span data-ttu-id="cd1af-376">Базовый список для SPO-\* \* Step 1: \* \* Обзор домашней страницы веб-сайта SPO и выполнение сетевой трассировки.</span><span class="sxs-lookup"><span data-stu-id="cd1af-376">Baseline list for SPO - \*\* Step 1: \*\* Browse the home page of the SPO website and do a network trace.</span></span> <span data-ttu-id="cd1af-377">Сохраните трассировку.</span><span class="sxs-lookup"><span data-stu-id="cd1af-377">Save the trace.</span></span> 
    
- <span data-ttu-id="cd1af-378">Базовый список для SPO- **Step 2:** поиск термина (например, название организации) с помощью Поиск в корпоративной среде и выполнение сетевой трассировки.</span><span class="sxs-lookup"><span data-stu-id="cd1af-378">Baseline list for SPO - **Step 2:** Search for a term (such as your company name) via Enterprise Search and do a network trace.</span></span> <span data-ttu-id="cd1af-379">Сохраните трассировку.</span><span class="sxs-lookup"><span data-stu-id="cd1af-379">Save the trace.</span></span> 
    
- <span data-ttu-id="cd1af-380">Базовый список для SPO- **Step 3:** отправьте большой файл в библиотеку документов SharePoint Online и выполните трассировку сети.</span><span class="sxs-lookup"><span data-stu-id="cd1af-380">Baseline list for SPO - **Step 3:** Upload a large file to a SharePoint Online document library and do a network trace.</span></span> <span data-ttu-id="cd1af-381">Сохраните трассировку.</span><span class="sxs-lookup"><span data-stu-id="cd1af-381">Save the trace.</span></span> 
    
- <span data-ttu-id="cd1af-382">Базовый список для SPO- **Step 4:** Обзор домашней страницы веб-сайта OneDrive и выполнение сетевой трассировки.</span><span class="sxs-lookup"><span data-stu-id="cd1af-382">Baseline list for SPO - **Step 4:** Browse the home page of the OneDrive website and do a network trace.</span></span> <span data-ttu-id="cd1af-383">Сохраните трассировку.</span><span class="sxs-lookup"><span data-stu-id="cd1af-383">Save the trace.</span></span> 
    
<span data-ttu-id="cd1af-384">Этот список должен включать наиболее важные общие действия, выполняемые пользователями в SharePoint Online.</span><span class="sxs-lookup"><span data-stu-id="cd1af-384">This list should include the most important common actions that users take against SharePoint Online.</span></span> <span data-ttu-id="cd1af-385">Обратите внимание на то, что последний шаг для трассировки в OneDrive для бизнеса — сравнение нагрузки на домашнюю страницу SharePoint Online (часто настроенные компаниями) и домашняя страница OneDrive для бизнеса, которая настраивается редко.</span><span class="sxs-lookup"><span data-stu-id="cd1af-385">Notice that the last step, to trace going to OneDrive for Business, builds-in a comparison between the load of the SharePoint Online home page (which is often customized by companies) and OneDrive for Business home page, which is seldom customized.</span></span> <span data-ttu-id="cd1af-386">Это очень простой тест, когда он доходит до медленной загрузки сайта SharePoint Online.</span><span class="sxs-lookup"><span data-stu-id="cd1af-386">This is a very basic test when it comes to a slow-loading SharePoint Online site.</span></span> <span data-ttu-id="cd1af-387">Вы можете создать запись об этом различии для тестирования.</span><span class="sxs-lookup"><span data-stu-id="cd1af-387">You can build a record of this difference into your testing.</span></span>
  
<span data-ttu-id="cd1af-388">Если вы в середине проблемы с производительностью, многие из них будут такими же, как при создании базового плана.</span><span class="sxs-lookup"><span data-stu-id="cd1af-388">If you are in the middle of a performance problem, many of the steps are the same as when taking a baseline.</span></span> <span data-ttu-id="cd1af-389">Трассировка сети становится критической, поэтому мы обработаем,  *как*  далее выполнить важную трассировку.</span><span class="sxs-lookup"><span data-stu-id="cd1af-389">Network traces become critical, so we'll handle  *how*  to take the important traces next.</span></span> 
  
<span data-ttu-id="cd1af-390">Чтобы устранить  *проблему с производительностью, необходимо*  провести трассировку на момент возникновения проблемы с производительностью.</span><span class="sxs-lookup"><span data-stu-id="cd1af-390">To tackle a performance problem,  *right now*  , you need to be taking a trace at the time you are experiencing the performance issue.</span></span> <span data-ttu-id="cd1af-391">Необходимо иметь соответствующие средства для сбора журналов, а также план действий, то есть список действий по устранению неполадок, которые необходимо выполнить для сбора лучших сведений.</span><span class="sxs-lookup"><span data-stu-id="cd1af-391">You need to have the proper tools available to gather logs, and you need an action plan, that is, a list of troubleshooting actions to take to gather the best information that you can.</span></span> <span data-ttu-id="cd1af-392">Первое, что нужно сделать, — записать дату и время теста, чтобы файлы можно было сохранить в папке, в которой отражается время.</span><span class="sxs-lookup"><span data-stu-id="cd1af-392">The first thing to do is record the date and time of the test so that the files can be saved in a folder that reflect the timing.</span></span> <span data-ttu-id="cd1af-393">Далее необходимо сузить область задач до проблем.</span><span class="sxs-lookup"><span data-stu-id="cd1af-393">Next, narrow down to the problem steps themselves.</span></span> <span data-ttu-id="cd1af-394">Ниже приведены точные действия, которые необходимо использовать для тестирования.</span><span class="sxs-lookup"><span data-stu-id="cd1af-394">These are the exact steps you will use for testing.</span></span> <span data-ttu-id="cd1af-395">Не забывайте об основных принципах: Если проблема связана только с Outlook, убедитесь, что поведение проблемы возникает только в одной службе Office 365.</span><span class="sxs-lookup"><span data-stu-id="cd1af-395">Don't forget the basics: if the issue is only with Outlook, make sure to record that the problem behavior happens in only one Office 365 service.</span></span> <span data-ttu-id="cd1af-396">Сужение области этой проблемы поможет сосредоточиться на том, что можно устранить.</span><span class="sxs-lookup"><span data-stu-id="cd1af-396">Narrowing down the scope of this issue will help you to focus on something you can resolve.</span></span> 
  
## <a name="see-also"></a><span data-ttu-id="cd1af-397">См. также</span><span class="sxs-lookup"><span data-stu-id="cd1af-397">See also</span></span>

[<span data-ttu-id="cd1af-398">Управление конечными точками Office 365</span><span class="sxs-lookup"><span data-stu-id="cd1af-398">Managing Office 365 endpoints</span></span>](https://support.office.com/article/99cab9d4-ef59-4207-9f2b-3728eb46bf9a)

