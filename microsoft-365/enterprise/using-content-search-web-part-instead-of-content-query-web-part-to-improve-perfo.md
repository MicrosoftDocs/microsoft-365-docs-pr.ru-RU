---
title: Использование веб-части поиска контента вместо веб-части "Запрос содержимого" для повышения производительности в SharePoint Online
ms.author: kvice
author: kelleyvice-msft
manager: laurawi
ms.date: 4/20/2015
audience: Admin
ms.topic: article
ms.service: o365-administration
localization_priority: Normal
ms.collection:
- Ent_O365
- SPO_Content
f1.keywords:
- CSH
ms.custom:
- Adm_O365
- seo-marvel-apr2020
search.appverid:
- MET150
- SPO160
ms.assetid: e8ce6b72-745b-464a-85c7-cbf6eb53391b
description: Узнайте, как повысить производительность, заменив веб-часть "Запрос содержимого" веб-частью поиска контента в SharePoint Server 2013 и SharePoint Online.
ms.openlocfilehash: e5f57e59a421d79302f447e229091fdfc96f1237
ms.sourcegitcommit: 79065e72c0799064e9055022393113dfcf40eb4b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/14/2020
ms.locfileid: "46693557"
---
# <a name="using-content-search-web-part-instead-of-content-query-web-part-to-improve-performance-in-sharepoint-online"></a>Использование веб-части поиска контента вместо веб-части "Запрос содержимого" для повышения производительности в SharePoint Online

В этой статье описывается, как повысить производительность путем замены веб-части "Запрос содержимого" веб-частью "Поиск контента" в SharePoint Server 2013 и SharePoint Online.
  
Одной из самых мощных новых функций SharePoint Server 2013 и SharePoint Online является веб-часть поиска контента (CSWP). Эта веб-часть использует индекс поиска для быстрого извлечения результатов, которые показываются пользователю. Используйте веб-часть поиска контента вместо веб-части "Запрос содержимого" (CQWP) на страницах, чтобы повысить производительность для пользователей.
  
Использование веб-части "Поиск контента" через веб-часть "Запрос содержимого" почти всегда приводит к значительно более производительности загрузки страниц в SharePoint Online. Существует небольшая дополнительная настройка для получения правильного запроса, но преимущества — это улучшенная производительность и производительность пользователей-собяров.
  
## <a name="comparing-the-performance-gain-you-get-from-using-content-search-web-part-instead-of-content-query-web-part"></a>Сравнение производительности, получаемой при использовании веб-части поиска контента, а не веб-части "Запрос содержимого"

В следующих примерах покажите относительную производительность, которая может быть при использовании веб-части "Поиск контента" вместо веб-части "Запрос содержимого". Эффекты более очевидны благодаря сложной структуре сайта и очень широким запросам контента.
  
Этот пример сайта имеет следующие характеристики:
  
- 8 уровней подсайтов.
    
- Списки, использующие пользовательский тип контента "о-ва".
    
- В веб-части запрос контента является широким, возвращая все элементы с типом контента "веся".
    
- В примере используется только 50 элементов на 8 сайтах. Эффекты будут еще более заметными для сайтов с большим контентом.
    
Вот снимок экрана с результатами веб-части "Запрос содержимого".
  
![Рисунок: запрос контента для веб-части](../media/b3d41f20-dfe5-46ed-9c0a-31057e82de33.png)
  
В Internet Explorer используйте вкладку **"Сеть"** средств разработчика F12, чтобы посмотреть подробные сведения для загона ответа. На следующем снимке экрана значение **spRequestDuration** для этой загрузки страницы составляет 924 миллисекунд. 
  
![Снимок экрана со значением длительности запроса (924)](../media/343571f2-a249-4de2-bc11-2cee93498aea.png)
  
 **SPRequestDuration** указывает объем работы, которая делается на сервере для подготовки страницы. Переключение контента по запросу веб-части с контентом при поиске веб-части значительно сокращает время, необходимое для отображения страницы. Напротив, страница с эквивалентной веб-частью поиска контента, возвращая такое же количество результатов, имеет значение **SPRequestDuration** в 106 миллисекунд, как показано на этом снимке экрана: 
  
![Снимок экрана со значением длительности запроса (106)](../media/b46387ac-660d-4e5e-a11c-cc430e912962.png)
  
## <a name="adding-a-content-search-web-part-in-sharepoint-online"></a>Добавление веб-части поиска контента в SharePoint Online

Добавление веб-части поиска контента очень похоже на обычную веб-часть "Запрос содержимого". См. раздел *"Добавление веб-части* поиска контента" в разделе "Настройка веб-части поиска [контента в SharePoint".](https://support.office.com/article/Configure-a-Content-Search-Web-Part-in-SharePoint-0dc16de1-dbe4-462b-babb-bf8338c36c9a)
  
## <a name="creating-the-right-search-query-for-your-content-search-web-part"></a>Создание правильного поискового запроса для веб-части "Поиск контента"

После того как вы добавили веб-часть поиска контента, вы можете уточнить поиск и вернуть нужные элементы. Подробные инструкции см. в разделе *"Отображение* контента путем настройки расширенных запросов в веб-части поиска контента" статьи "Настройка веб-части поиска контента в [SharePoint".](https://support.office.com/article/Configure-a-Content-Search-Web-Part-in-SharePoint-0dc16de1-dbe4-462b-babb-bf8338c36c9a)
  
## <a name="query-building-and-testing-tool"></a>Средство создания и тестирования запросов

Средство для создания и тестирования сложных запросов см. в средстве запросов [поиска](https://sp2013searchtool.codeplex.com/) на сайте Codeplex. 
  

