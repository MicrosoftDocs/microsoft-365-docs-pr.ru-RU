---
title: Оптимизация изображений для SharePoint сайтов классической публикации в Интернете
ms.author: kvice
author: kelleyvice-msft
manager: laurawi
ms.date: 9/18/2019
audience: Admin
ms.topic: troubleshooting
ms.service: o365-administration
localization_priority: Normal
ms.collection:
- Ent_O365
- SPO_Content
f1.keywords:
- CSH
ms.custom: Adm_O365
search.appverid:
- SPO160
- MET150
ms.assetid: c7edb02a-fdab-4f91-9a20-cba01dad28ef
description: Узнайте, как использовать выдачи и спрайты для повышения производительности изображения на классических сайтах SharePoint Online.
ms.openlocfilehash: 0f0dd078ce28b86fc998b2f83ac19d04b1a3ab02
ms.sourcegitcommit: 27b2b2e5c41934b918cac2c171556c45e36661bf
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/19/2021
ms.locfileid: "50907484"
---
# <a name="image-optimization-for-sharepoint-online-classic-publishing-sites"></a><span data-ttu-id="10ba4-103">Оптимизация изображений для SharePoint сайтов классической публикации в Интернете</span><span class="sxs-lookup"><span data-stu-id="10ba4-103">Image optimization for SharePoint Online classic publishing sites</span></span>

<span data-ttu-id="10ba4-104">Скорость загрузки веб-страницы зависит от совокупного размера всех компонентов, необходимых для отображения страницы, включая изображения, HTML, JavaScript и CSS.</span><span class="sxs-lookup"><span data-stu-id="10ba4-104">The loading speed of a webpage depends on the combined size of all the components required to render the page including images, HTML, JavaScript, and CSS.</span></span> <span data-ttu-id="10ba4-105">Изображения — это отличный способ сделать ваш сайт более привлекательным, но их размер может повлиять на производительность.</span><span class="sxs-lookup"><span data-stu-id="10ba4-105">Images are a great way to make your site more appealing, but their size can affect performance.</span></span> <span data-ttu-id="10ba4-106">Оптимизируя изображения с помощью сжатия и изменения размера, а также с помощью спрайтов, вы можете компенсировать эффекты очень больших изображений.</span><span class="sxs-lookup"><span data-stu-id="10ba4-106">By optimizing your images with compression and resizing, and using sprites, you can offset the effects of very large images.</span></span> <span data-ttu-id="10ba4-107">С SharePoint изображений можно загрузить одно большое изображение и отобразить разделы изображения, позволяющие использовать его повторно, а не перезагружать.</span><span class="sxs-lookup"><span data-stu-id="10ba4-107">Using SharePoint image renditions, you can upload a single large image, and display sections of the image allowing it to be reused rather than reloaded.</span></span>

>[!NOTE]
><span data-ttu-id="10ba4-108">Эта тема применима к классическим сайтам SharePoint Online, а не современным порталам.</span><span class="sxs-lookup"><span data-stu-id="10ba4-108">This topic applies to SharePoint Online classic publishing sites, not modern portal sites.</span></span> <span data-ttu-id="10ba4-109">Сведения об оптимизации изображений в SharePoint веб SharePoint веб-сайтах современных порталов см. в странице Оптимизируйте изображения [SharePoint Online.](modern-image-optimization.md)</span><span class="sxs-lookup"><span data-stu-id="10ba4-109">For information about image optimization in SharePoint Online modern portal sites, see [Optimize images in SharePoint Online modern portal pages](modern-image-optimization.md).</span></span>
  
## <a name="using-sprites-to-speed-up-image-loading"></a><span data-ttu-id="10ba4-110">Использование спрайтов для ускорения загрузки изображений</span><span class="sxs-lookup"><span data-stu-id="10ba4-110">Using sprites to speed up image loading</span></span>

|||
|:-----|:-----|
| <span data-ttu-id="10ba4-111">Спрайт изображения содержит множество изображений меньшего размеров.</span><span class="sxs-lookup"><span data-stu-id="10ba4-111">An image sprite contains many smaller images.</span></span> <span data-ttu-id="10ba4-112">С помощью CSS вы выбираете часть композитного изображения для отображения на определенной части страницы с абсолютным расположением.</span><span class="sxs-lookup"><span data-stu-id="10ba4-112">Using CSS you select a part of the composite image to display on a particular part of the page with absolute positioning.</span></span> <span data-ttu-id="10ba4-113">В основном вы перемещаете одно изображение по странице вместо загрузки нескольких изображений и делаете небольшую часть этого изображения видимой через небольшое окно, где необходимая часть спрайта отображается конечному пользователю.</span><span class="sxs-lookup"><span data-stu-id="10ba4-113">Basically, you move a single image around the page instead of loading multiple images, and make a small part of that image visible through a small window where the required part of the sprite image is shown to the end user.</span></span> <span data-ttu-id="10ba4-114">SharePoint Он-лайн использует спрайты для отображения различных значков в spcommon.png.</span><span class="sxs-lookup"><span data-stu-id="10ba4-114">SharePoint Online uses sprites to display its various icons in the sprite spcommon.png.</span></span>  <br/>  <span data-ttu-id="10ba4-115">Что здесь покрыно:</span><span class="sxs-lookup"><span data-stu-id="10ba4-115">What's covered here:</span></span>  <br/>  <span data-ttu-id="10ba4-116">Сжатие изображений</span><span class="sxs-lookup"><span data-stu-id="10ba4-116">Image compression</span></span>  <br/>  <span data-ttu-id="10ba4-117">Оптимизация изображений</span><span class="sxs-lookup"><span data-stu-id="10ba4-117">Image optimization</span></span>  <br/>  <span data-ttu-id="10ba4-118">SharePoint изображений</span><span class="sxs-lookup"><span data-stu-id="10ba4-118">SharePoint image renditions</span></span>  <br/> |![Снимок экрана spcommon](../media/cc5cdee1-8e54-4537-9a8a-8854f4ee849f.png)|
   
<span data-ttu-id="10ba4-120">Это может повысить производительность, так как вы скачиваете только одно изображение, а не несколько, а затем кэш и повторное использование этого изображения.</span><span class="sxs-lookup"><span data-stu-id="10ba4-120">This can increase performance because you download only one image instead of several and then cache and reuse that image.</span></span> <span data-ttu-id="10ba4-121">Даже если изображение не остается кэшным, имея одно изображение вместо нескольких изображений, этот метод сокращает общее количество запросов HTTP на сервер, что позволит сократить время загрузки страниц.</span><span class="sxs-lookup"><span data-stu-id="10ba4-121">Even if the image does not remain cached, by having a single image instead of multiple images, this method reduces the total number of HTTP requests to the server which will reduce page loading times.</span></span> <span data-ttu-id="10ba4-122">Это действительно форма комплектов изображений.</span><span class="sxs-lookup"><span data-stu-id="10ba4-122">This is really a form of image bundling.</span></span> <span data-ttu-id="10ba4-123">Это очень полезный метод, если изображения не меняются очень часто, например значки, как показано в SharePoint примере, представленного выше.</span><span class="sxs-lookup"><span data-stu-id="10ba4-123">This is a very useful technique if the images are not changing very often, for example, icons, as shown in the SharePoint example provided above.</span></span> <span data-ttu-id="10ba4-124">Вы можете использовать [Web Essentials](https://vswebessentials.com/)— сторонний проект с открытым исходным кодом, основанный на сообществе, чтобы легко добиться этого в Microsoft Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="10ba4-124">You can how to use [Web Essentials](https://vswebessentials.com/), a third-party, open-source, community-based project to achieve this easily in Microsoft Visual Studio.</span></span> <span data-ttu-id="10ba4-125">Дополнительные сведения см. в [сайте Minification and bundling in SharePoint Online.](./minification-and-bundling-in-sharepoint-online.md)</span><span class="sxs-lookup"><span data-stu-id="10ba4-125">For more information, see [Minification and bundling in SharePoint Online](./minification-and-bundling-in-sharepoint-online.md).</span></span>
  
## <a name="using-image-compression-and-optimization-to-speed-up-page-loading"></a><span data-ttu-id="10ba4-126">Использование сжатия изображений и оптимизации для ускорения загрузки страниц</span><span class="sxs-lookup"><span data-stu-id="10ba4-126">Using image compression and optimization to speed up page loading</span></span>

<span data-ttu-id="10ba4-127">Сжатие и оптимизация изображений — это уменьшение размера файла изображений, которые вы используете на своем сайте.</span><span class="sxs-lookup"><span data-stu-id="10ba4-127">Image compression and optimization is about reducing the file size of the images you use on your site.</span></span> <span data-ttu-id="10ba4-128">Часто наиболее оптимальным методом для уменьшения размера изображения является возможность повторного размера изображения до максимального размера, которое будет просматриваться на сайте.</span><span class="sxs-lookup"><span data-stu-id="10ba4-128">Often, the best technique to reduce the size of an image is to resize the image to the maximum dimensions that it will be viewed on the site.</span></span> <span data-ttu-id="10ba4-129">Нет смысла в том, чтобы изображение было больше, чем когда-либо просматривалось.</span><span class="sxs-lookup"><span data-stu-id="10ba4-129">There is no sense in having an image larger than it will ever be viewed.</span></span> <span data-ttu-id="10ba4-130">Чтобы убедиться, что изображения имеют правильные размеры с помощью редактора изображений, это быстрый и простой способ уменьшить размер страницы.</span><span class="sxs-lookup"><span data-stu-id="10ba4-130">Making sure images are of the correct dimensions using an image editor is a quick and easy way to reduce the size of your page.</span></span>
  
<span data-ttu-id="10ba4-131">После правильного размера изображения необходимо оптимизировать сжатие этих изображений.</span><span class="sxs-lookup"><span data-stu-id="10ba4-131">Once images are the right size, the next step is to optimize the compression of these images.</span></span> <span data-ttu-id="10ba4-132">Для сжатия и оптимизации доступны различные средства, в том числе Фотогалерея и сторонние средства.</span><span class="sxs-lookup"><span data-stu-id="10ba4-132">There are various tools available to use for compression and optimization, including Photo Gallery and third-party tools.</span></span> <span data-ttu-id="10ba4-133">Ключ к сжатию — максимально уменьшить размер файла без потери заметного качества для конечных пользователей.</span><span class="sxs-lookup"><span data-stu-id="10ba4-133">The key to compression is to reduce the file size as much as possible without losing any discernible quality for end users.</span></span> <span data-ttu-id="10ba4-134">Убедитесь, что сжатые файлы проверяются на дисплее высокой четкости, чтобы убедиться, что они по-прежнему будут выглядеть хорошо.</span><span class="sxs-lookup"><span data-stu-id="10ba4-134">Make sure you test your compressed files on a high-definition display to ensure they will still look good.</span></span>
  
## <a name="speed-up-page-downloads-by-using-sharepoint-image-renditions"></a><span data-ttu-id="10ba4-135">Ускорение скачивания страниц с помощью SharePoint изображений</span><span class="sxs-lookup"><span data-stu-id="10ba4-135">Speed up page downloads by using SharePoint image renditions</span></span>

<span data-ttu-id="10ba4-136">Renditions изображения — это функция SharePoint Online, которая позволяет обслуживать различные версии изображений на основе заранее определенных размеров изображения.</span><span class="sxs-lookup"><span data-stu-id="10ba4-136">Image renditions are a feature in SharePoint Online that allows you to serve up different versions of images based on pre-defined image dimensions.</span></span> <span data-ttu-id="10ba4-137">Это особенно важно, когда контент изображения, созданный пользователем, или размеры изображения, такие как ширина и высота, фиксируются CSS на сайте.</span><span class="sxs-lookup"><span data-stu-id="10ba4-137">This is especially important when there is user-generated image content or the image dimensions such as width and height are fixed by the CSS on the site.</span></span> <span data-ttu-id="10ba4-138">Даже если изображение исправлено CSS, изображение полного разрешения по-прежнему загружается.</span><span class="sxs-lookup"><span data-stu-id="10ba4-138">Even if an image is fixed by CSS, the full resolution image is still loaded.</span></span> <span data-ttu-id="10ba4-139">В этом случае размер файла можно уменьшить с помощью renditions изображений.</span><span class="sxs-lookup"><span data-stu-id="10ba4-139">In this case the file size can be reduced by using image renditions.</span></span>
  
> [!NOTE]
> <span data-ttu-id="10ba4-140">Эти возможности доступны только для SharePoint при включенной публикации.</span><span class="sxs-lookup"><span data-stu-id="10ba4-140">Renditions are only available for SharePoint when publishing is enabled.</span></span> <span data-ttu-id="10ba4-141">Вы можете включить публикацию в Параметры site Параметры Управление функциями сайта \> \> SharePoint Server \> Publishing.</span><span class="sxs-lookup"><span data-stu-id="10ba4-141">You can enable publishing under Settings \> Site Settings \> Manage site features \> SharePoint Server Publishing.</span></span> <span data-ttu-id="10ba4-142">В противном случае параметр не появится.</span><span class="sxs-lookup"><span data-stu-id="10ba4-142">The option will not appear otherwise.</span></span>
  
<span data-ttu-id="10ba4-143">Параметр rendition rendition работает, принимая наименьшее измерение, которое вы определяете, ширину или высоту, а затем меняя размер изображения таким образом, чтобы другое измерение автоматически менялось в зависимости от запертого соотношения аспектов.</span><span class="sxs-lookup"><span data-stu-id="10ba4-143">The image rendition resizing works by taking the smallest dimension you define, either width or height, and then resizing the image so that the other dimension is automatically resized based on the locked aspect ratio.</span></span> <span data-ttu-id="10ba4-144">По умолчанию он будет обрезать изображение из центра по оставшимся измерениям.</span><span class="sxs-lookup"><span data-stu-id="10ba4-144">By default, it will crop the image from the center by the remaining dimensions.</span></span> <span data-ttu-id="10ba4-145">Например, если вы определяете rendition шириной 100px и высотой 50px и исходное изображение шириной 1000px и высотой 800px, оно будет повторно размером 800px теперь 50px и измерением 1000px (теперь 62.5px) обрезано из центра изображения.</span><span class="sxs-lookup"><span data-stu-id="10ba4-145">For example, if you define a rendition of 100px wide and 50px high and your original image is 1000px wide and 800px high, it will be resized so that the 800px dimension is now 50px and the 1000px dimension (now 62.5px) is cropped from the center of the image.</span></span>
  
<span data-ttu-id="10ba4-146">Действия относительно просты, но для изображений для использования renditions необходимо, чтобы эти SharePoint были добавлены изображения.</span><span class="sxs-lookup"><span data-stu-id="10ba4-146">The steps are relatively simple but for images to use the renditions, the renditions need to be on the SharePoint site before you add the images.</span></span> <span data-ttu-id="10ba4-147">Кроме того, необходимо также использовать функции SharePoint Server Publishing Infrastructure (уровень коллекций сайтов) и SharePoint Server Publishing (Уровень сайта).</span><span class="sxs-lookup"><span data-stu-id="10ba4-147">In addition, you also need to have the SharePoint Server Publishing Infrastructure (Site Collection Level) and SharePoint Server Publishing (Site Level) features turned on.</span></span>
  
### <a name="add-an-image-rendition-to-speed-up-page-loading"></a><span data-ttu-id="10ba4-148">Добавление переименовки изображений для ускорения загрузки страницы</span><span class="sxs-lookup"><span data-stu-id="10ba4-148">Add an image rendition to speed up page loading</span></span>
  
1. <span data-ttu-id="10ba4-149">Убедитесь, что учетная запись пользователя, которая выполняет эту процедуру, имеет как минимум разрешения на разработку верхнего уровня сайта коллекции сайтов и что сайт публикуется на веб-страницу.</span><span class="sxs-lookup"><span data-stu-id="10ba4-149">Verify that the user account that is performing this procedure has, at minimum, Design permissions to the top-level site of the site collection, and that the site is being published to a webpage.</span></span>

2. <span data-ttu-id="10ba4-150">В веб-браузере перейдите на сайт верхнего уровня коллекции сайтов публикации.</span><span class="sxs-lookup"><span data-stu-id="10ba4-150">In a web browser, go to the top-level site of the publishing site collection.</span></span>

3. <span data-ttu-id="10ba4-151">Щелкните значок **Параметры**.</span><span class="sxs-lookup"><span data-stu-id="10ba4-151">Choose the **Settings** icon.</span></span>

4. <span data-ttu-id="10ba4-152">На странице **Параметры** в разделе **Внешний** вид и внешний вид вы увидите встроенные переименовки изображений.</span><span class="sxs-lookup"><span data-stu-id="10ba4-152">On the **Site Settings** page, in the **Look and Feel** section, you will see the built-in image renditions.</span></span>

    <span data-ttu-id="10ba4-153">Чтобы создать новый, можно использовать вне поле renditions или выбрать **renditions** image.</span><span class="sxs-lookup"><span data-stu-id="10ba4-153">You can use the out of the box renditions or choose **Image Renditions** to create a new one.</span></span>

    ![Снимок экрана изображения Rendition](../media/eaae0d53-657d-47ef-b687-65c5167eae4d.PNG)
  
5. <span data-ttu-id="10ba4-155">На странице **Представления изображений** выберите команду **Добавить элемент**.</span><span class="sxs-lookup"><span data-stu-id="10ba4-155">On the **Image Renditions** page, choose **Add new item**.</span></span>

    ![Снимок экрана: "Добавить новый элемент"](../media/8cede22e-52bf-4d9d-99cb-162f2f6ce92b.PNG)
  
6. <span data-ttu-id="10ba4-157">На странице **Новый представление изображения** в поле **имя** введите имя нового представления.</span><span class="sxs-lookup"><span data-stu-id="10ba4-157">On the **New Image Rendition** page, in the **Name** box, enter a name for the rendition.</span></span>

7. <span data-ttu-id="10ba4-158">В текстовых полях **Ширина** и **Высота** введите ширину и высоту (в пикселях) представления и нажмите кнопку **Сохранить**.</span><span class="sxs-lookup"><span data-stu-id="10ba4-158">In the **Width** and **Height** text boxes, enter the width and height, in pixels, of the rendition, and then choose **Save**.</span></span>

    ![Снимок экрана: имя представления изображений](../media/5a6119ed-c163-40df-a4db-ec629d15607d.PNG)
  
## <a name="custom-cropping-with-image-renditions"></a><span data-ttu-id="10ba4-160">Настраиваемая обрезка с переименовкой изображений</span><span class="sxs-lookup"><span data-stu-id="10ba4-160">Custom cropping with image renditions</span></span>

<span data-ttu-id="10ba4-161">По умолчанию представление изображения создается в центре изображения.</span><span class="sxs-lookup"><span data-stu-id="10ba4-161">By default, an image rendition is generated from the center of the image.</span></span> <span data-ttu-id="10ba4-162">Можно изменить представление изображения для отдельных изображений, обрезки часть изображения, которое требуется использовать.</span><span class="sxs-lookup"><span data-stu-id="10ba4-162">You can adjust the image rendition for individual images by cropping the portion of the image that you want to use.</span></span> <span data-ttu-id="10ba4-163">Вы можете обрезать изображения на индивидуальной основе в каждой из них.</span><span class="sxs-lookup"><span data-stu-id="10ba4-163">You can crop the images on an individual basis, per rendition.</span></span> <span data-ttu-id="10ba4-164">Обрезка изображений ускоряет загрузку страницы с помощью кэша BLOB SharePoint для создания версии изображения для каждого rendition.</span><span class="sxs-lookup"><span data-stu-id="10ba4-164">Cropping the images speeds up page loading by using SharePoint's blob cache to create a version of the image for each rendition.</span></span> <span data-ttu-id="10ba4-165">Таким образом нагрузка на сервер снижается, так как изображение размером только один раз, а затем готово несколько раз служить конечным пользователям.</span><span class="sxs-lookup"><span data-stu-id="10ba4-165">This way the server load is reduced because the image is only resized once and is then ready to serve to end users multiple times.</span></span> <span data-ttu-id="10ba4-166">Дополнительные сведения о том, как обрезать представление изображения, см. в [разделах Crop an image rendition.](/sharepoint/dev/general-development/sharepoint-design-manager-device-channels)</span><span class="sxs-lookup"><span data-stu-id="10ba4-166">For more information on how to crop an image rendition, see [Crop an image rendition](/sharepoint/dev/general-development/sharepoint-design-manager-device-channels).</span></span>
