---
title: Оптимизация изображений для классических сайтов публикации SharePoint Online
ms.author: kvice
author: kelleyvice-msft
manager: laurawi
ms.date: 9/18/2019
audience: Admin
ms.topic: troubleshooting
ms.service: o365-administration
localization_priority: Normal
ms.collection:
- Ent_O365
- SPO_Content
f1.keywords:
- CSH
ms.custom: Adm_O365
search.appverid:
- SPO160
- MET150
ms.assetid: c7edb02a-fdab-4f91-9a20-cba01dad28ef
description: Узнайте, как использовать представления и спрайты для улучшения производительности изображений на классических сайтах публикации SharePoint Online.
ms.openlocfilehash: 47d0f085c13c192417842fcef88c695fe875124c
ms.sourcegitcommit: 79065e72c0799064e9055022393113dfcf40eb4b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/14/2020
ms.locfileid: "46693197"
---
# <a name="image-optimization-for-sharepoint-online-classic-publishing-sites"></a><span data-ttu-id="7201b-103">Оптимизация изображений для классических сайтов публикации SharePoint Online</span><span class="sxs-lookup"><span data-stu-id="7201b-103">Image optimization for SharePoint Online classic publishing sites</span></span>

<span data-ttu-id="7201b-104">Скорость загрузки веб-страницы зависит от общего размера всех компонентов, необходимых для отображения страницы, в том числе изображений, HTML, JavaScript и CSS.</span><span class="sxs-lookup"><span data-stu-id="7201b-104">The loading speed of a webpage depends on the combined size of all the components required to render the page including images, HTML, JavaScript, and CSS.</span></span> <span data-ttu-id="7201b-105">Изображения — это отличный способ повысить привлекательность сайта, но их размер может повлиять на производительность.</span><span class="sxs-lookup"><span data-stu-id="7201b-105">Images are a great way to make your site more appealing, but their size can affect performance.</span></span> <span data-ttu-id="7201b-106">Оптимизируя изображения с помощью сжатия и изменения размера, а также с помощью спрайтов, вы можете сместить влияние очень больших изображений.</span><span class="sxs-lookup"><span data-stu-id="7201b-106">By optimizing your images with compression and resizing, and using sprites, you can offset the effects of very large images.</span></span> <span data-ttu-id="7201b-107">С помощью представлений изображений SharePoint можно отправлять одно большое изображение и отображать разделы изображения, позволяющие повторно использовать их, а не загружать повторно.</span><span class="sxs-lookup"><span data-stu-id="7201b-107">Using SharePoint image renditions, you can upload a single large image, and display sections of the image allowing it to be reused rather than reloaded.</span></span>

>[!NOTE]
><span data-ttu-id="7201b-108">Эта статья относится к классическим сайтам публикации SharePoint Online, а не к современным сайтам портала.</span><span class="sxs-lookup"><span data-stu-id="7201b-108">This topic applies to SharePoint Online classic publishing sites, not modern portal sites.</span></span> <span data-ttu-id="7201b-109">Сведения о оптимизации изображений на современных сайтах SharePoint Online можно найти в статье [Оптимизация изображений на современных страницах портала SharePoint Online](modern-image-optimization.md).</span><span class="sxs-lookup"><span data-stu-id="7201b-109">For information about image optimization in SharePoint Online modern portal sites, see [Optimize images in SharePoint Online modern portal pages](modern-image-optimization.md).</span></span>
  
## <a name="using-sprites-to-speed-up-image-loading"></a><span data-ttu-id="7201b-110">Использование спрайтов для ускорения загрузки изображений</span><span class="sxs-lookup"><span data-stu-id="7201b-110">Using sprites to speed up image loading</span></span>

|||
|:-----|:-----|
| <span data-ttu-id="7201b-111">Спрайт изображения содержит множество изображений меньшего размера.</span><span class="sxs-lookup"><span data-stu-id="7201b-111">An image sprite contains many smaller images.</span></span> <span data-ttu-id="7201b-112">С помощью CSS вы выбираете часть составного изображения для отображения в определенной части страницы с абсолютным позиционированием.</span><span class="sxs-lookup"><span data-stu-id="7201b-112">Using CSS you select a part of the composite image to display on a particular part of the page with absolute positioning.</span></span> <span data-ttu-id="7201b-113">По сути, вы перемещаете одно изображение на страницу, а не загружаете несколько изображений, и сделаете небольшую часть этого изображения видимой через небольшое окно, в котором нужная часть изображения спрайта отображается конечному пользователю.</span><span class="sxs-lookup"><span data-stu-id="7201b-113">Basically, you move a single image around the page instead of loading multiple images, and make a small part of that image visible through a small window where the required part of the sprite image is shown to the end user.</span></span> <span data-ttu-id="7201b-114">В SharePoint Online спрайты используют спрайты, чтобы отображать различные значки в спрайте spcommon.png.</span><span class="sxs-lookup"><span data-stu-id="7201b-114">SharePoint Online uses sprites to display its various icons in the sprite spcommon.png.</span></span>  <br/>  <span data-ttu-id="7201b-115">Что описано здесь:</span><span class="sxs-lookup"><span data-stu-id="7201b-115">What's covered here:</span></span>  <br/>  <span data-ttu-id="7201b-116">Сжатие изображений</span><span class="sxs-lookup"><span data-stu-id="7201b-116">Image compression</span></span>  <br/>  <span data-ttu-id="7201b-117">Оптимизация изображения</span><span class="sxs-lookup"><span data-stu-id="7201b-117">Image optimization</span></span>  <br/>  <span data-ttu-id="7201b-118">Представления изображений SharePoint</span><span class="sxs-lookup"><span data-stu-id="7201b-118">SharePoint image renditions</span></span>  <br/> |![Снимок экрана с распространенным](../media/cc5cdee1-8e54-4537-9a8a-8854f4ee849f.png)|
   
<span data-ttu-id="7201b-120">Это может повысить производительность, так как загрузка только одного изображения вместо нескольких, а затем кэширование и повторное использование этого изображения.</span><span class="sxs-lookup"><span data-stu-id="7201b-120">This can increase performance because you download only one image instead of several and then cache and reuse that image.</span></span> <span data-ttu-id="7201b-121">Даже если изображение не остается в кэше, с помощью одного изображения вместо нескольких изображений этот метод уменьшает общее количество HTTP-запросов к серверу, что уменьшает время загрузки страниц.</span><span class="sxs-lookup"><span data-stu-id="7201b-121">Even if the image does not remain cached, by having a single image instead of multiple images, this method reduces the total number of HTTP requests to the server which will reduce page loading times.</span></span> <span data-ttu-id="7201b-122">На самом деле это форма объединения изображений.</span><span class="sxs-lookup"><span data-stu-id="7201b-122">This is really a form of image bundling.</span></span> <span data-ttu-id="7201b-123">Это очень полезная методика, если изображения не меняются очень часто, например значки, как показано в примере SharePoint, приведенном выше.</span><span class="sxs-lookup"><span data-stu-id="7201b-123">This is a very useful technique if the images are not changing very often, for example, icons, as shown in the SharePoint example provided above.</span></span> <span data-ttu-id="7201b-124">Для упрощения этого в Microsoft Visual Studio можно легко использовать [веб-компоненты](https://vswebessentials.com/), сторонние проекты на основе открытых источников</span><span class="sxs-lookup"><span data-stu-id="7201b-124">You can how to use [Web Essentials](https://vswebessentials.com/), a third-party, open-source, community-based project to achieve this easily in Microsoft Visual Studio.</span></span> <span data-ttu-id="7201b-125">Дополнительные сведения см. [в статье минификации and пучкing in SharePoint Online](https://go.microsoft.com/fwlink/?LinkId=708698).</span><span class="sxs-lookup"><span data-stu-id="7201b-125">For more information, see [Minification and bundling in SharePoint Online](https://go.microsoft.com/fwlink/?LinkId=708698).</span></span>
  
## <a name="using-image-compression-and-optimization-to-speed-up-page-loading"></a><span data-ttu-id="7201b-126">Использование сжатия и оптимизации изображений для ускорения загрузки страниц</span><span class="sxs-lookup"><span data-stu-id="7201b-126">Using image compression and optimization to speed up page loading</span></span>

<span data-ttu-id="7201b-127">Сжатие изображений и оптимизация — это уменьшение размера файлов изображений, используемых на сайте.</span><span class="sxs-lookup"><span data-stu-id="7201b-127">Image compression and optimization is about reducing the file size of the images you use on your site.</span></span> <span data-ttu-id="7201b-128">Часто лучшим способом уменьшения размера изображения является изменение размеров изображения до максимальных измерений, которые он будет просматривать на сайте.</span><span class="sxs-lookup"><span data-stu-id="7201b-128">Often, the best technique to reduce the size of an image is to resize the image to the maximum dimensions that it will be viewed on the site.</span></span> <span data-ttu-id="7201b-129">Нет смысла в том, чтобы изображение было больше, чем будет просматриваться.</span><span class="sxs-lookup"><span data-stu-id="7201b-129">There is no sense in having an image larger than it will ever be viewed.</span></span> <span data-ttu-id="7201b-130">Убедиться в том, что изображения имеют правильные размеры с помощью редактора изображений — это простой и быстрый способ уменьшить размер страницы.</span><span class="sxs-lookup"><span data-stu-id="7201b-130">Making sure images are of the correct dimensions using an image editor is a quick and easy way to reduce the size of your page.</span></span>
  
<span data-ttu-id="7201b-131">После того как изображения имеют правильный размер, следующим шагом будет Оптимизация сжатия этих изображений.</span><span class="sxs-lookup"><span data-stu-id="7201b-131">Once images are the right size, the next step is to optimize the compression of these images.</span></span> <span data-ttu-id="7201b-132">Существуют различные средства, которые можно использовать для сжатия и оптимизации, включая фотоальбом и сторонние средства.</span><span class="sxs-lookup"><span data-stu-id="7201b-132">There are various tools available to use for compression and optimization, including Photo Gallery and third-party tools.</span></span> <span data-ttu-id="7201b-133">Ключ к сжатию состоит в том, чтобы уменьшить размер файла, как можно больше без потери качества перехватываются для конечных пользователей.</span><span class="sxs-lookup"><span data-stu-id="7201b-133">The key to compression is to reduce the file size as much as possible without losing any discernible quality for end users.</span></span> <span data-ttu-id="7201b-134">Убедитесь, что вы протестируете сжатые файлы на дисплее высокой четкости, чтобы убедиться, что они по-прежнему будут выглядеть хорошо.</span><span class="sxs-lookup"><span data-stu-id="7201b-134">Make sure you test your compressed files on a high-definition display to ensure they will still look good.</span></span>
  
## <a name="speed-up-page-downloads-by-using-sharepoint-image-renditions"></a><span data-ttu-id="7201b-135">Ускорение загрузки страниц с помощью представлений изображений SharePoint</span><span class="sxs-lookup"><span data-stu-id="7201b-135">Speed up page downloads by using SharePoint image renditions</span></span>

<span data-ttu-id="7201b-136">Представления изображений — это функция SharePoint Online, позволяющая обслуживать различные версии изображений на основе предварительно заданных размеров изображения.</span><span class="sxs-lookup"><span data-stu-id="7201b-136">Image renditions are a feature in SharePoint Online that allows you to serve up different versions of images based on pre-defined image dimensions.</span></span> <span data-ttu-id="7201b-137">Это особенно важно при наличии контента изображения, созданного пользователем, или при использовании CSS на сайте в соответствии с размерами изображения, такими как ширина и высота.</span><span class="sxs-lookup"><span data-stu-id="7201b-137">This is especially important when there is user-generated image content or the image dimensions such as width and height are fixed by the CSS on the site.</span></span> <span data-ttu-id="7201b-138">Даже если в CSS Исправлена изображение, изображение с полным разрешением все еще загружается.</span><span class="sxs-lookup"><span data-stu-id="7201b-138">Even if an image is fixed by CSS, the full resolution image is still loaded.</span></span> <span data-ttu-id="7201b-139">В этом случае размер файла можно уменьшить с помощью представлений изображений.</span><span class="sxs-lookup"><span data-stu-id="7201b-139">In this case the file size can be reduced by using image renditions.</span></span>
  
> [!NOTE]
> <span data-ttu-id="7201b-140">Представления доступны только для SharePoint, если включена публикация.</span><span class="sxs-lookup"><span data-stu-id="7201b-140">Renditions are only available for SharePoint when publishing is enabled.</span></span> <span data-ttu-id="7201b-141">Публикацию можно включить в разделе Параметры \> сайта параметры \> Управление возможностями сайта \> Публикация SharePoint Server.</span><span class="sxs-lookup"><span data-stu-id="7201b-141">You can enable publishing under Settings \> Site Settings \> Manage site features \> SharePoint Server Publishing.</span></span> <span data-ttu-id="7201b-142">В противном случае параметр не отображается.</span><span class="sxs-lookup"><span data-stu-id="7201b-142">The option will not appear otherwise.</span></span>
  
<span data-ttu-id="7201b-143">Для изменения размера изображения используется наименьшее заданное измерение (ширина или высота), а затем изменяется размер изображения, чтобы размер другого измерения автоматически изменялись на основе заблокированных пропорций.</span><span class="sxs-lookup"><span data-stu-id="7201b-143">The image rendition resizing works by taking the smallest dimension you define, either width or height, and then resizing the image so that the other dimension is automatically resized based on the locked aspect ratio.</span></span> <span data-ttu-id="7201b-144">По умолчанию изображение будет обрезано от центра к остальным измерениям.</span><span class="sxs-lookup"><span data-stu-id="7201b-144">By default, it will crop the image from the center by the remaining dimensions.</span></span> <span data-ttu-id="7201b-145">Например, если вы определили представление 100px Wide и 50px High, а исходное изображение — 1000px Wide и 800px High, размер будет изменен таким образом, чтобы измерение 800px стало 50px, а измерение 1000px (теперь 62.5 px) обрезано от центра изображения.</span><span class="sxs-lookup"><span data-stu-id="7201b-145">For example, if you define a rendition of 100px wide and 50px high and your original image is 1000px wide and 800px high, it will be resized so that the 800px dimension is now 50px and the 1000px dimension (now 62.5px) is cropped from the center of the image.</span></span>
  
<span data-ttu-id="7201b-146">Эти действия являются относительно простыми, но для использования изображений представления должны находиться на сайте SharePoint перед добавлением изображений.</span><span class="sxs-lookup"><span data-stu-id="7201b-146">The steps are relatively simple but for images to use the renditions, the renditions need to be on the SharePoint site before you add the images.</span></span> <span data-ttu-id="7201b-147">Кроме того, необходимо включить функции инфраструктуры публикации SharePoint Server (на уровне семейства веб-сайтов) и публикации SharePoint Server (на уровне сайта).</span><span class="sxs-lookup"><span data-stu-id="7201b-147">In addition, you also need to have the SharePoint Server Publishing Infrastructure (Site Collection Level) and SharePoint Server Publishing (Site Level) features turned on.</span></span>
  
### <a name="add-an-image-rendition-to-speed-up-page-loading"></a><span data-ttu-id="7201b-148">Добавление представления изображения для ускорения загрузки страниц</span><span class="sxs-lookup"><span data-stu-id="7201b-148">Add an image rendition to speed up page loading</span></span>
  
1. <span data-ttu-id="7201b-149">Убедитесь, что учетная запись пользователя, с помощью которой выполняется данная процедура, имеет как минимум разрешение на разработку сайта верхнего уровня семейства веб-сайтов и что сайт публикуется на веб-странице.</span><span class="sxs-lookup"><span data-stu-id="7201b-149">Verify that the user account that is performing this procedure has, at minimum, Design permissions to the top-level site of the site collection, and that the site is being published to a webpage.</span></span>

2. <span data-ttu-id="7201b-150">В веб-браузере перейдите на сайт верхнего уровня в семействе веб-сайтов публикации.</span><span class="sxs-lookup"><span data-stu-id="7201b-150">In a web browser, go to the top-level site of the publishing site collection.</span></span>

3. <span data-ttu-id="7201b-151">Щелкните значок **Параметры**.</span><span class="sxs-lookup"><span data-stu-id="7201b-151">Choose the **Settings** icon.</span></span>

4. <span data-ttu-id="7201b-152">На странице **Параметры сайта** в разделе **внешний вид и** функции вы увидите встроенные представления изображений.</span><span class="sxs-lookup"><span data-stu-id="7201b-152">On the **Site Settings** page, in the **Look and Feel** section, you will see the built-in image renditions.</span></span>

    <span data-ttu-id="7201b-153">Вы можете использовать представления "out of" или " **представления изображений** ", чтобы создать новое.</span><span class="sxs-lookup"><span data-stu-id="7201b-153">You can use the out of the box renditions or choose **Image Renditions** to create a new one.</span></span>

    ![Снимок экрана: представление изображения](../media/eaae0d53-657d-47ef-b687-65c5167eae4d.PNG)
  
5. <span data-ttu-id="7201b-155">На странице **Представления изображений** выберите команду **Добавить элемент**.</span><span class="sxs-lookup"><span data-stu-id="7201b-155">On the **Image Renditions** page, choose **Add new item**.</span></span>

    ![Снимок экрана: "Добавить новый элемент"](../media/8cede22e-52bf-4d9d-99cb-162f2f6ce92b.PNG)
  
6. <span data-ttu-id="7201b-157">На странице **Новый представление изображения** в поле **имя** введите имя нового представления.</span><span class="sxs-lookup"><span data-stu-id="7201b-157">On the **New Image Rendition** page, in the **Name** box, enter a name for the rendition.</span></span>

7. <span data-ttu-id="7201b-158">В текстовых полях **Ширина** и **Высота** введите ширину и высоту (в пикселях) представления и нажмите кнопку **Сохранить**.</span><span class="sxs-lookup"><span data-stu-id="7201b-158">In the **Width** and **Height** text boxes, enter the width and height, in pixels, of the rendition, and then choose **Save**.</span></span>

    ![Снимок экрана: имя представления изображений](../media/5a6119ed-c163-40df-a4db-ec629d15607d.PNG)
  
## <a name="custom-cropping-with-image-renditions"></a><span data-ttu-id="7201b-160">Настраиваемая обрезка с представлениями изображений</span><span class="sxs-lookup"><span data-stu-id="7201b-160">Custom cropping with image renditions</span></span>

<span data-ttu-id="7201b-161">По умолчанию представление изображения создается в центре изображения.</span><span class="sxs-lookup"><span data-stu-id="7201b-161">By default, an image rendition is generated from the center of the image.</span></span> <span data-ttu-id="7201b-162">Можно изменить представление изображения для отдельных изображений, обрезки часть изображения, которое требуется использовать.</span><span class="sxs-lookup"><span data-stu-id="7201b-162">You can adjust the image rendition for individual images by cropping the portion of the image that you want to use.</span></span> <span data-ttu-id="7201b-163">Изображения можно обрезать отдельно для каждого представления.</span><span class="sxs-lookup"><span data-stu-id="7201b-163">You can crop the images on an individual basis, per rendition.</span></span> <span data-ttu-id="7201b-164">Обрезка изображений ускоряет загрузку страниц с помощью кэша больших двоичных объектов SharePoint для создания версии изображения для каждого представления.</span><span class="sxs-lookup"><span data-stu-id="7201b-164">Cropping the images speeds up page loading by using SharePoint's blob cache to create a version of the image for each rendition.</span></span> <span data-ttu-id="7201b-165">Таким образом, нагрузка на сервер уменьшается, так как размер изображения изменяется только один раз, а затем все готово к отправке конечному пользователю несколько раз.</span><span class="sxs-lookup"><span data-stu-id="7201b-165">This way the server load is reduced because the image is only resized once and is then ready to serve to end users multiple times.</span></span> <span data-ttu-id="7201b-166">Дополнительные сведения о обрезке представления изображений можно найти в разделе [Кадрирование представления изображения](https://go.microsoft.com/fwlink/p/?LinkId=525626).</span><span class="sxs-lookup"><span data-stu-id="7201b-166">For more information on how to crop an image rendition, see [Crop an image rendition](https://go.microsoft.com/fwlink/p/?LinkId=525626).</span></span>
  

