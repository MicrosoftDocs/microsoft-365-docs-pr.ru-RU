---
title: Минификация и объединение в SharePoint Online
ms.author: kvice
author: kelleyvice-msft
manager: laurawi
ms.date: 3/1/2017
audience: Admin
ms.topic: troubleshooting
ms.service: o365-administration
localization_priority: Normal
ms.collection:
- Ent_O365
- SPO_Content
f1.keywords:
- CSH
ms.custom:
- Adm_O365
- seo-marvel-apr2020
search.appverid:
- SPO160
- MET150
ms.assetid: 87a52468-994e-43a2-b155-7229ed659291
description: Узнайте, как использовать минификации и объединение технологий с помощью Web Essentials, чтобы сократить количество HTTP-запросов и время, необходимое для загрузки страниц в SharePoint Online.
ms.openlocfilehash: 2e2ff7b9d36a6c28ca3840304d896782e1096e85
ms.sourcegitcommit: 79065e72c0799064e9055022393113dfcf40eb4b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/14/2020
ms.locfileid: "46692995"
---
# <a name="minification-and-bundling-in-sharepoint-online"></a>Минификация и объединение в SharePoint Online

В этой статье описывается, как использовать минификации и объединение технологий с помощью веб-компонентов Web Essentials для уменьшения количества HTTP-запросов и сокращения времени, необходимого для загрузки страниц в SharePoint Online.
  
Когда вы настраиваете свой веб-сайт, вы можете добавить на сервер большое количество дополнительных файлов для поддержки настройки. Добавление дополнительного кода JavaScript, CSS и изображений увеличивает количество HTTP-запросов к серверу, которое, в свою очередь, увеличивает время, необходимое для отображения веб-страницы. Если у вас есть несколько файлов одного типа, вы можете объединить эти файлы, чтобы быстрее скачать эти файлы.
  
Для файлов JavaScript и CSS также можно использовать подход под названием минификации, в котором можно уменьшить общий размер файлов, удалив пробелы и другие ненужные символы.
  
## <a name="minification-and-bundling-javascript-and-css-files-with-web-essentials"></a>Минификации и объединение файлов JavaScript и CSS с помощью Web Essentials

Вы можете использовать сторонние программы, такие как Web Essentials, для объединения файлов CSS и JavaScript.
  
> [!IMPORTANT]
> Веб-Essentials — это проект на основе сторонних поставщиков с открытым кодом и сообществом. Программное обеспечение — это расширение Visual Studio 2012 и Visual Studio 2013, которое не поддерживается корпорацией Майкрософт. Чтобы скачать веб-Essentials, посетите веб-сайт по адресу [https://vswebessentials.com/download](https://go.microsoft.com/fwlink/p/?LinkId=525629) . 
  
Веб-компоненты предлагают две формы объединения:
  
- . пакет: для файлов CSS и JavaScript
    
- . спрайт: для изображений (доступно только в Visual Studio 2013)
    
Вы можете использовать Web Essentials, если у вас есть компонент с элементами фирменной символики, на которые ссылается настраиваемая эталонная страница, например:
  
![Снимок экрана: элемент фирменной символики на настраиваемой эталонной странице](../media/3a6eba36-973d-482b-8556-a9394b8ba19f.png)
  
 **Создание пакета TE000127218 и CSS в Web Essentials**
  
1. В обозревателе решений Visual Studio выберите файлы, которые нужно включить в пакет.
    
2. Щелкните правой кнопкой мыши выбранные файлы, а затем **Web Essentials** \> в контекстном меню выберите команду **создать файл пакета JavaScript** . Например: 
    
    ![Снимок экрана: параметры меню Web Essentials](../media/41aac84c-4538-4f78-b454-46e651f868a3.png)
  
## <a name="viewing-the-results-of-bundling-javascript-and-css-files"></a>Просмотр результатов объединения файлов JavaScript и CSS

При создании набора JavaScript и CSS Web Essentials создает XML-файл с именем рецепта, который определяет файлы JavaScript и CSS, а также другие сведения о конфигурации: 
  
![Снимок экрана: файл инструкций JavaScript и CSS](../media/7ba891f8-52d8-467b-a0f6-b062dd1137a4.png)
  
Кроме того, если в рецепте объединения для параметра Минификация задано значение true, размер файлов сокращается и объединяется вместе. Это означает, что были созданы новые версии файлов JavaScript сжатые, на которые можно ссылаться на главной странице.
  
![Снимок экрана: флаг минификации со значением true](../media/50523af2-6412-4117-ac3d-5bd26f6d562e.png)
  
Когда вы загружаете страницу со своего веб-сайта, вы можете использовать средства разработчика в веб-браузере, например Internet Explorer 11, чтобы увидеть количество запросов, отправленных на сервер, и сколько времени занимает загрузка каждого файла.
  
На следующем рисунке показан результат загрузки файлов JavaScript и CSS перед минификации.
  
![Снимок экрана: скачивание 80 элементов](../media/e2df3912-1923-46e6-8cf2-3015a31554e1.png)
  
После объединения файлов CSS и JavaScript число запросов, отброшенных до 74 и потребовалось лишь немного больше времени, чем исходные файлы для загрузки по отдельности:
  
![Снимок экрана: скачивание 74 элементов](../media/686c4387-70e8-4a74-9d45-059f33a91184.png)
  
После объединения файл пакета JavaScript значительно сокращается с 815KB до 365KB:
  
![Снимок экрана: сокращение размера скачиваемых элементов](../media/5e7dbd98-faff-4f68-b320-108fb252e395.png)
  
## <a name="bundling-images-by-creating-an-image-sprite"></a>Объединение изображений путем создания спрайта изображений

Аналогично объединению файлов JavaScript и CSS можно объединять многие мелкие значки и другие общие изображения на более крупный лист спрайта, а затем использовать CSS для отображения отдельных изображений. Вместо того чтобы скачивать каждое отдельное изображение, веб-браузер пользователя загружает лист спрайт один раз, а затем кэширует его на локальном компьютере. Это повышает производительность загрузки страниц за счет уменьшения числа Скачиваний и циклов обработки на веб-сервере.
  
 **Создание спрайта изображений в Web Essentials**
  
1. В обозревателе решений Visual Studio выберите файлы, которые нужно включить в пакет.
    
2. Щелкните правой кнопкой мыши выбранные файлы, а затем **Web Essentials** в \> контекстном меню выберите команду **создать спрайт изображения** Web Essentials. Например: 
    
    ![Снимок экрана: как создать спрайт изображения](../media/de0fe741-4ef7-4e3b-bafa-ef9f4822dac6.png)
  
3. Выберите расположение для сохранения файла спрайта. Спрайт-файл — это XML-файл, описывающий параметры и файлы в спрайте. На следующих рисунках показан пример файла PNG спрайта и соответствующего XML-файла спрайта.
    
    ![Снимок экрана: файл спрайта](../media/0876bb2a-d1b9-4169-8e95-9c290d628d90.png)
  
    ![Снимок экрана: XML-файл спрайта](../media/d1f94776-280d-4d56-abb5-384f145d9989.png)
  

