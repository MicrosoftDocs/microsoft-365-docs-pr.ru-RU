---
title: Мониторинг и самовосстановление Microsoft 365
ms.author: robmazz
author: robmazz
manager: laurawi
audience: ITPro
ms.topic: article
ms.service: O365-seccomp
localization_priority: Normal
search.appverid:
- MET150
ms.collection:
- Strat_O365_IP
- M365-security-compliance
f1.keywords:
- NOCSH
ms.custom:
- seo-marvel-apr2020
description: В этой статье вы узнаете о возможностях мониторинга и самостоятельной восстановления Microsoft 365.
ms.openlocfilehash: ec9cf3a7fa84d80acf7fdbc22b08e35f6ca3ebdc
ms.sourcegitcommit: c029834c8a914b4e072de847fc4c3a3dde7790c5
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/02/2020
ms.locfileid: "47332272"
---
# <a name="microsoft-365-monitoring-and-self-healing"></a>Мониторинг и самовосстановление Microsoft 365

Имея масштаб Microsoft 365, вы не сможете хранить данные клиентов как надежные и безопасных от вредоносных программ без встроенных средств мониторинга, которые являются исчерпывающими и надежными, что является быстрым и надежным. Мониторинг набора служб в масштабе Microsoft 365 очень проблематично. Новые методологии и методологии, которые необходимо представить, и все новые наборы технологий, которые необходимо создать для работы и управления службой в подключенной глобальной среде. Мы перешли с традиционного средства мониторинга сбора и фильтрации данных, чтобы создавать оповещения для подхода, основанного на анализе данных; получение сигналов и создание уверенности в этих данных, а затем использование автоматизации для восстановления или устранения проблемы. Такой подход помогает отвлекаться от использования уравнения восстановления, что в свою очередь делает операции менее дорогостоящими, быстрее и менее подверженными ошибкам. 

Базовый для мониторинга Microsoft 365 — это набор технологий, включающих наш модуль аналитических данных, который основан на Azure, SQL Azure и [технологии потоковой базы данных с открытым кодом](https://cassandra.apache.org/). Он предназначен для сбора и агрегирования данных, а также для достижения вызываемых данных. В настоящее время он обрабатывает более 500 000 000 событий в час с более чем 100 000 серверов (~ 15 ТБ в день), разбитых на десятки центров обработки данных во многих регионах, и эти номера растут. 

Microsoft 365 использует *внешний мониторинг*, который включает в себя создание искусственных транзакций для тестирования всех важных компонентов. Например, в Exchange Online каждый сценарий тестирует каждую базу данных по всему миру каждые пять минут в рассеиваниех, предоставляя почти непрерывное покрытие всех компонентов системы. В нескольких расположениях тестовые транзакции 250 000 000 выполняются для создания надежного базового или пульса службы. 

В Microsoft 365 также используется концепция *Красного оповещения*, которая сжимает все сигналы мониторинга со всех компьютеров в наших центрах обработки данных, что позволяет управлять ими. Концепция довольно проста: если что-то происходит между несколькими сигналами, должно быть что-то должно происходить. В одном из них нет уверенности в том, что для каждого сигнала существует разумная точность, что обеспечивает более высокую точность. Эта система мониторинга настолько эффективна, что у нас не будет нештатно смотреть наши мониторы; все у нас есть оборудование, которое пробуждается, если обнаруживает проблему, в этом случае будет выводиться на экран подходящие сотрудники для звонков или чаще, как это происходит, и решение проблемы. После того как вы начнете сбор сигналов и создавать красные оповещения, мы можем начать триангуляцию между всеми разделами служб. 

В зависимости от сочетания предупреждения о сбое и красных оповещений это предупреждение указывает на то, какие компоненты могут иметь проблемы, а также о том, что система попытается устранить проблему самостоятельно путем перезапуска сервера почтовых ящиков. 

В дополнение к функциям самовосстановления, таким как восстановление отдельных страниц, в Exchange Online есть несколько функций, которые приводят к мониторингу и самовосстановлению, что позволяет сохранить взаимодействие с конечными пользователями. Эти функции включают *управляемую доступность*, которая предоставляет встроенные действия мониторинга и восстановления, а также AutoReseed, которые автоматически восстанавливают избыточность базы данных после сбоя диска. 

## <a name="managed-availability"></a>Управляемая доступность 

Управляемая доступность предоставляет решение для проверки работоспособности и восстановления, которое отслеживает и защищает интерфейс конечного пользователя с помощью действий, ориентированных на восстановление. Управляемая доступность — это интеграция встроенных действий мониторинга и восстановления с платформой высокой доступности Exchange. Она создана для обнаружения проблем и восстановления после них сразу после их возникновения и обнаружения системой. В отличие от предыдущих решений и методов мониторинга для Exchange функция управляемой доступности не пытается определить основную причину проблемы или уведомить о ней пользователей. Вместо этого он фокусируется на аспектах восстановления, которые устраняют три основные области взаимодействия конечных пользователей:

- **Доступность** — могут пользователи получать доступ к службе? 
- **Задержка** — как работает пользователь? 
- **Ошибки** — пользователи могут выполнять нужные действия? 

Управляемая доступность — это внутренний компонент, выполняемый на каждом сервере Microsoft 365 с Exchange Online. Он каждую секунду опрашивает и анализирует сотни метрик работоспособности. Если что-то не так, то большая часть времени будет исправлена автоматически. Однако при этом всегда будут возникнет проблемы, связанные с управляемой доступностью. В таких случаях управляемая доступность будет расширять неполадку в группе поддержки Microsoft 365 с помощью журнала событий.

## <a name="autoreseed"></a>AutoReseed

Серверы Exchange Online развернуты в конфигурации, в которой хранятся несколько баз данных и их потоки журналов на одном диске без RAID. Такая конфигурация часто называется лишь набором *дисков* (JBOD), так как для дублирования данных на диске используются механизмы избыточности хранилища, такие как RAID. При сбое диска в среде JBOD данные на этом диске теряются. 

С учетом размера Exchange Online и того, что развернута в ней, — миллионы дисковых накопителей, неисправностей жесткого диска является регулярным событием в Exchange Online. На самом деле, более 100 ошибок ежедневно. При сбое диска в локальном развертывании предприятия администратор должен вручную заменить неисправный диск и восстановить затронутые данные. В облачном развертывании размер Microsoft 365 с операторами (облачные администраторы), вручную заменяющих диски, не является ни практичным, ни економикалли возможным. 

Автоматическое повторное заполнение или *AutoReseed*— это функция, которая заменяет действия, выполняемые на основе оператора в ответ на сбой диска, событие повреждения базы данных или другие проблемы, которые требуют повторного заполнения копии базы данных. Функция Autoreseed была создана для автоматического восстановления избыточности базы данных после сбоя диска с помощью запасных дисков, настроенных в системе. При сбое диска копии базы данных, хранящиеся на этом диске, автоматически перестраиваются на предварительно настроенный запасной диск на сервере, что позволяет восстановить избыточность. 