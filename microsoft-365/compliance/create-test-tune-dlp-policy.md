---
title: Создание, тестирование и настройка политики защиты от потери данных
f1.keywords:
- NOCSH
ms.author: chrfox
author: chrfox
manager: laurawi
audience: Admin
ms.topic: article
f1_keywords:
- ms.o365.cc.NewPolicyFromTemplate
ms.service: O365-seccomp
localization_priority: Normal
ms.collection:
- M365-security-compliance
search.appverid:
- MET150
ms.custom:
- seo-marvel-mar2020
ms.assetid: 59414438-99f5-488b-975c-5023f2254369
description: В этой статье вы узнаете, как создавать, тестировать и настраивать политику DLP в соответствии с потребностями организации.
ms.openlocfilehash: 9b43899969ab0fdc5d67b051db36c0b245f7811e
ms.sourcegitcommit: 47de4402174c263ae8d70c910ca068a7581d04ae
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/12/2020
ms.locfileid: "49663196"
---
# <a name="create-test-and-tune-a-dlp-policy"></a>Создание, тестирование и настройка политики защиты от потери данных

Предотвращение потери данных (DLP) помогает предотвратить непреднамеренное или случайное совместное использование конфиденциальной информации.

DLP проверяет сообщения электронной почты и файлы на конфиденциальные сведения, например номер кредитной карты. С помощью DLP вы можете обнаруживать конфиденциальную информацию и принимать такие меры, как:

- Занося событие в журнал для целей аудита
- Отображение предупреждения для пользователя, отправившего сообщение электронной почты или поделившегося файлом
- Активно блокировать обмен электронной почтой или файлами

## <a name="permissions"></a>Разрешения

Членам группы обеспечения соответствия требованиям, которые будут создавать политики защиты от потери данных, потребуются разрешения для работы в Центре соответствия требованиям. По умолчанию администратор клиента может предоставить доступ сотрудникам по обеспечению соответствия требованиям и другим людям. Выполните приведенные ниже действия.
  
1. Создайте группу в Microsoft 365 и добавьте в нее сотрудников, ответственных за обеспечение соответствия требованиям.
    
2. Создайте группу ролей на странице **Разрешения** в Центре безопасности и соответствия требованиям. 

3. При создании группы ролей используйте раздел **"Выбор** ролей", чтобы добавить в группу ролей следующую роль: управление соответствием **требованиям DLP.**
    
4. Используйте раздел **Выбор участников**, чтобы добавить созданную ранее группу Microsoft 365 в эту группу ролей.

Используйте роль **управления соответствием DLP** только для просмотра, чтобы создать группу ролей с привилегиями только для просмотра политик DLP и отчетов DLP.

Дополнительные сведения см. в статье [Предоставление пользователям доступа к Центру безопасности и соответствия требованиям Office 365](../security/office-365-security/grant-access-to-the-security-and-compliance-center.md).
  
Эти разрешения необходимы для создания и применения политики DLP, чтобы не применять политики.

## <a name="how-sensitive-information-is-detected-by-dlp"></a>Как DLP обнаруживает конфиденциальную информацию

DLP находит конфиденциальную информацию по шаблону регулярного выражения (RegEx) в сочетании с другими индикаторами, такими как близость определенных ключевых слов к шаблонам совпадения. Например, номер кредитной карты VISA имеет 16 цифр. Однако эти цифры могут быть написаны различными способами, например 1111-1111-1111-1111, 1111 1111 1111 1111 или 1111111111111111111111111111.

Любая 16-значная строка не обязательно является номером кредитной карты, она может быть номером билета из службы поддержки или серийным номером аппаратного обеспечения. Чтобы отличить номер кредитной карты от безвредной 16-значной строки, выполняется вычисление (контрольная сумма), чтобы подтвердить, что номера соответствуют известному шаблону различных производителей кредитных карт.

Если DLP находит ключевые слова, такие как "VISA" или "AMEX", значения даты, которые могут быть датой окончания срока действия кредитной карты, DLP также использует эти данные, чтобы помочь ей решить, является ли строка номером кредитной карты или нет.

Другими словами, политика DLP достаточно интеллектуальна, чтобы распознать разницу между этими двумя строками текста в сообщении электронной почты:

- "Вы можете заказать мне новый ноутбук. Используйте мой номер VISA 1111-1111-1111-1111 с истечением срока действия 11/22 и отправьте мне примерную дату доставки, когда она у вас есть".
- "Серийный номер ноутбука 2222-2222-2222-2222 и приобретен 11.01.2010. By the way, is my travel visa approved yet?"

См. [определения сущности типа конфиденциальной](sensitive-information-type-entity-definitions.md) информации, в которых объясняется, как обнаруживается каждый тип информации.

## <a name="where-to-start-with-data-loss-prevention"></a>С чего начать с защиты от потери данных

Если риски утечки данных не полностью очевидны, сложно определить, где именно следует начать с реализации DLP. К счастью, политики DLP можно запускать в "тестовом режиме", что позволяет оценить их эффективность и точность, прежде чем включить их.

Управление политиками DLP для Exchange Online можно с помощью Центра администрирования Exchange. Но вы можете настроить политики DLP для всех рабочих нагрузок с помощью Центра безопасности & соответствия требованиям, поэтому я буду использовать его для демонстраций в этой статье. В Центре безопасности & вы найдете политики защиты от потери данных в политике **защиты** от  >  **потери данных.** Выберите **"Создать политику для** запуска".

Microsoft 365 предоставляет ряд шаблонов политик [DLP,](what-the-dlp-policy-templates-include.md) которые можно использовать для создания политик. Предположим, что вы в Австралии. Вы можете фильтровать шаблоны в Австралии и выбирать финансовые, медицинские и медицинские учреждения и конфиденциальность.

![Возможность выбора страны или региона](../media/DLP-create-test-tune-choose-country.png)

В этой демонстрации я выберу персональные данные для Австралии, которые включают в себя сведения о налоговых номерах (TFN) для Австралии и номере водительского удостоверения.

![Возможность выбора шаблона политики](../media/DLP-create-test-tune-choose-policy-template.png)

Придайте новой политике DLP имя. Имя по умолчанию будет соответствовать шаблону политики DLP, но следует выбрать другое описательное имя, так как на одном шаблоне можно создать несколько политик.

![Возможность именовки политики](../media/DLP-create-test-tune-name-policy.png)

Выберите расположения, к которые будет применяться политика. Политики DLP могут применяться к Exchange Online, SharePoint Online и OneDrive для бизнеса. Я оставьте эту политику настроенной для применения во всех расположениях.

![Возможность выбора всех местоположений](../media/DLP-create-test-tune-choose-locations.png)

На первом **шаге "Параметры политики"** примите параметры по умолчанию. Вы можете настроить политики DLP, но по умолчанию можно начать.

![Параметры для настройки типа защищаемого контента](../media/DLP-create-test-tune-default-customization-settings.png)

After clicking Next,** you'll be presented with an additional **Policy Settings** page with more customization options. Для политики, которую вы только что тестируете, можно начать вносить некоторые изменения.

- Я отключил подсказки политики на данный момент, что является разумной возможностью, если вы просто тестируете все и еще не хотите отображать что-либо для пользователей. Подсказки политики отображают предупреждения для пользователей о том, что они будут нарушать политику DLP. Например, пользователь Outlook увидит предупреждение о том, что вложенный файл содержит номера кредитных карт и что его электронная почта будет отклонена. Цель подсказок политики — остановить неуместные действия, прежде чем это произойдет.
- Я также снизил число экземпляров с 10 до 1, чтобы эта политика обнаруживла общий доступ к данным персональных данных в Австралии, а не только массовый обмен данными.
- Я также добавил другого получателя в сообщение с отчетом об инциденте.

![Дополнительные параметры политики](../media/DLP-create-test-tune-more-policy-settings.png)

Наконец, я настроил эту политику для первоначального запуска в тестовом режиме. Обратите внимание, что здесь также можно отключить подсказки политики в тестовом режиме. Это дает возможность включить подсказки политики в политике, но затем решить, следует ли их показывать или отключать во время тестирования.

![Возможность сначала протестировать политику](../media/DLP-create-test-tune-test-mode.png)

На экране последней проверки нажмите **кнопку "Создать",** чтобы завершить создание политики.

## <a name="test-a-dlp-policy"></a>Тестирование политики DLP

Новая политика DLP начнет действовать в течение примерно 1 часа. Вы можете подождите, пока она будет активна обычной активностью пользователя, или попытаться активовать ее самостоятельно. Предыдущий I связан [с](sensitive-information-type-entity-definitions.md)определениями сущности типа конфиденциальной информации, которая предоставляет сведения о том, как запускать совпадения DLP.

Например, политика DLP, созданная для этой статьи, определяет налоговые номера (TFN) для Австралии. В соответствии с документацией соответствие основано на следующих критериях.

![Документация по номеру налоговых файлов для Австралии](../media/DLP-create-test-tune-Australia-Tax-File-Number-doc.png)
 
Чтобы продемонстрировать обнаружение TFN в довольно сложном порядке, сообщение электронной почты со словами "Налоговый номер файла" и 9-значная строка в непосредственной близости будет проходить без каких-либо проблем. Причина, по которой политика DLP не запускается, заключается в том, что 9-значная строка должна передавать контрольную сумму, которая указывает, что это действительное TFN, а не только безвредная строка чисел.

![Номер налогового файла для Австралии, который не проходит проверку](../media/DLP-create-test-tune-email-test1.png)

Для сравнения, при запуске политики запускается сообщение электронной почты со словами "Номер налогового файла" и допустимым TFN, которое передает контрольнуюмбу. Для записи здесь используемая TFN была взята с веб-сайта, который создает допустимые, но не подлинные TFN. Такие сайты очень полезны, так как одна из наиболее распространенных ошибок при тестировании политики DLP — использование ненастояжного номера, который не пройдет контрольную контрольнуюмбу (и, следовательно, не активирует политику).

![Номер налогового файла для Австралии, который передает контрольнуюмбу](../media/DLP-create-test-tune-email-test2.png)

Сообщение электронной почты отчета об инциденте содержит тип обнаруженной конфиденциальной информации, количество обнаруженных экземпляров и уровень достоверности обнаружения.

![Отчет об инциденте с обнаруженным номером налоговых файлов](../media/DLP-create-test-tune-email-incident-report.png)

Если вы оставляете политику DLP в тестовом режиме и анализируете сообщения электронной почты с отчетами об инцидентах, вы можете приступить к оценке точности политики DLP и ее эффективности при ее принудительном применение. В дополнение к отчетам об инцидентах можно использовать отчеты [DLP](view-the-dlp-reports.md) для просмотра сводного представления совпадений политик в клиенте.

## <a name="tune-a-dlp-policy"></a>Настройка политики DLP

При анализе нанесения изменений в политику может потребоваться внести некоторые изменения в поведение политик. В качестве простого примера можно определить, что одно TFN в сообщении электронной почты не является проблемой (я по-прежнему это так, но давайте рассмотрим его для демонстрации), но два или более экземпляров являются проблемой. Несколько экземпляров могут быть рискованным сценарием, например, если сотрудник передает экспорт CSV из базы данных отдела кадров внешней стороне, например внешней службе бухгалтерского учета. Определенно то, что вы предпочитаете обнаружить и заблокировать.

В Центре безопасности & соответствия требованиям можно изменить существующую политику, чтобы изменить поведение.

![Возможность изменения политики](../media/DLP-create-test-tune-edit-policy.png)
 
Параметры расположения можно настроить таким образом, чтобы политика применялась только к определенным рабочим нагрузкам, а также к определенным сайтам и учетным записям.

![Варианты выбора определенных местоположений](../media/DLP-create-test-tune-edit-locations.png)

Вы также можете настроить параметры политики и изменить правила в соответствии с вашими потребностями.

![Возможность изменения правила](../media/DLP-create-test-tune-edit-rule.png)

При редактировании правила в политике DLP можно изменить:

- Условия, включая тип и количество экземпляров конфиденциальных данных, которые запускают правило.
- Действия, которые принимаются, например ограничение доступа к контенту.
- Уведомления пользователя, которые являются подсказками политики, которые отображаются для пользователя в почтовом клиенте или веб-браузере.
- Переопределения пользователей, которые определяют, могут ли пользователи в любом случае продолжить обмен электронной почтой или файлами.
- Отчеты об инцидентах для уведомления администраторов.

![Параметры для изменения частей правила](../media/DLP-create-test-tune-editing-options.png)

В этой демонстрации я добавил уведомления пользователей в политику (будьте осторожны при этом без надлежащего обучения осведомленности пользователей) и разрешил пользователям переопределять политику с коммерческим обоснованием или пометив ее как ложное срабатывание. Обратите внимание, что вы также можете настроить текст подсказки по электронной почте и политике, если вы хотите включить дополнительные сведения о политиках вашей организации, или обратиться в службу поддержки, если у них возникли вопросы.

![Параметры уведомлений и переопределещений пользователей](../media/DLP-create-test-tune-user-notifications.png)

Политика содержит два правила для обработки большого и малого тома, поэтому обязательно отредактируете оба действия с нужными действиями. Это возможность обрабатывать дела по-разному в зависимости от их характеристик. Например, можно разрешить переопределения для нарушений низкой громкости, но не разрешить переопределения для нарушений большого объема.

![Одно правило для большого объема и одно правило для малого тома](../media/DLP-create-test-tune-two-rules.png)

Кроме того, если вы хотите заблокировать или ограничить доступ к содержимому, нарушая политику, необходимо настроить действие с правилом для этого.

![Возможность ограничить доступ к контенту](../media/DLP-create-test-tune-restrict-access-action.png)

После сохранения этих изменений в параметрах политики необходимо вернуться на главную страницу параметров политики и включить возможность показывать пользователям подсказки политики, пока политика находится в тестовом режиме. Это эффективный способ ввести политики DLP для конечных пользователей и обучение пользователей информированию пользователей, не рискуя слишком много ложных срабатывающих срабатывающих методов, которые влияют на их производительность.

![Возможность показывать подсказки политики в тестовом режиме](../media/DLP-create-test-tune-show-policy-tips.png)

На стороне сервера (или на стороне облака, если вы предпочитаете) изменение может в силу не сразу из-за различных интервалов обработки. Если вы изменяете политику DLP, которая отображает новые подсказки политики для пользователя, пользователь может не сразу увидеть, что изменения вступает в силу в клиенте Outlook, который проверяет наличие изменений политики каждые 24 часа. Если вы хотите ускорить тестирование, вы можете использовать это исправление реестра, чтобы очистить отметку времени последней загрузки из ключа [PolicyNudges.](https://support.microsoft.com/en-au/help/2823261/changes-to-a-data-loss-prevention-policy-don-t-take-effect-in-outlook?__hstc=18650278.46377037dc0a82baa8a30f0ef07a7b2f.1538687978676.1538693509953.1540315763430.3&__hssc=18650278.1.1540315763430&__hsfp=3446956451) Outlook скачивает последние сведения о политике при следующем перезапуске и начале разработки сообщения электронной почты.

Если советы политики включены, пользователь начнет видеть советы в Outlook и сможет сообщить вам о ложных срабатывах при их отсказок.

![Подсказка политики с возможностью сообщить о ложном срабатывии](../media/DLP-create-test-tune-policy-tip-in-outlook.png)

## <a name="investigate-false-positives"></a>Исследование ложных срабатывава

Шаблоны политики DLP не являются идеальными сразу. Скорее всего, в вашей среде происходят ложные срабатывающие срабатывания, поэтому так важно упростить свой путь к развертыванию DLP, устроив время на адекватное тестирование и настройку политик.

Ниже показан пример ложного срабатыва. Это сообщение совершенно безвредно. Пользователь предоставляет свой номер мобильного телефона другому пользователю и включит подпись электронной почты.

![Сообщение электронной почты, в котором отображаются сведения о ложном срабаты](../media/DLP-create-test-tune-false-positive-email.png)
 
Однако пользователь видит подсказку политики, предупреждая о том, что сообщение содержит конфиденциальную информацию, в частности номер водительского удостоверения в Австралии.

![Возможность сообщить о ложном срабатывии в подсказке политики](../media/DLP-create-test-tune-policy-tip-closeup.png)

Пользователь может сообщить о ложном срабатывии, а администратор может понять, почему это произошло. В сообщении с отчетом об инциденте сообщение помечается как ложное срабатывае.

![Отчет об инциденте с ложным срабатыва](../media/DLP-create-test-tune-false-positive-incident-report.png)

Этот пример является хорошим примером для получения лицензии на драйвер. Это ложное срабатываение вызвано тем, что тип "Водительское удостоверение Для Австралии" будет активен любой 9-значной строкой (даже в том случае, если она является частью 10-значной строки) в пределах 300 символов, близкого к ключевым словам "@nsw" (без чувствительность к букве). Таким образом, он активируется номером телефона и подписью электронной почты, только потому, что пользователь в Москве.


Один из вариантов — удалить из политики тип сведений о водительской лицензии для Австралии. Он там, потому что он является частью шаблона политики DLP, но мы не должны его использовать. Если вас интересуют только налоговые номера, а не лицензии на драйверы, их можно просто удалить. Например, вы можете удалить его из правила малого тома в политике, но оставить его в правиле с высоким уровнем громкости, чтобы списки нескольких лицензий драйверов по-прежнему обнаруживались.

![Возможность удаления типа конфиденциальной информации из правила](../media/DLP-create-test-tune-delete-low-volume-rule.png)
 
Другим вариантом является простое увеличение числа экземпляров, чтобы небольшой объем лицензий драйверов обнаруживался только при нескольких экземплярах.

![Возможность изменения подсчета экземпляров](../media/DLP-create-test-tune-edit-instance-count.png)

Помимо изменения подсчета экземпляров, можно также настроить точность совпадения (или уровень достоверности). Если тип конфиденциальной информации имеет несколько шаблонов, вы можете настроить точность совпадения в правиле, чтобы правило совпадает только с определенными шаблонами. Например, чтобы уменьшить ложные срабатываения, можно установить точность совпадения правила, чтобы оно совпадала только с шаблоном с наивысшим уровнем достоверности. Понять, как вычисляется уровень достоверности, немного сложно (и выходит за рамки этой публикации), но вот хорошее объяснение того, как использовать уровень уверенности для настройки [правил.](data-loss-prevention-policies.md#match-accuracy)

Наконец, если вы хотите получить дополнительные сведения, вы можете настроить любой тип конфиденциальной информации. Например, вы можете удалить [](sensitive-information-type-entity-definitions.md#australia-drivers-license-number)"Australia NSW" из списка ключевых слов для номера водительского удостоверения Для Австралии, чтобы исключить ложное срабатываний, срабатываемых выше. Сведения о том, как это сделать с помощью XML и PowerShell, см. в настройке встроенного [типа конфиденциальной информации.](customize-a-built-in-sensitive-information-type.md)

## <a name="turn-on-a-dlp-policy"></a>Включить политику DLP

Если вы рады тому, что политика DLP точно и эффективно обнаруживает типы конфиденциальной информации и что конечные пользователи готовы работать с политиками на месте, вы можете включить эту политику.

![Возможность включить политику](../media/DLP-create-test-tune-turn-on-policy.png)
 
Если вы ожидаете, когда политика вступает в силу, подключите [PowerShell](https://docs.microsoft.com/powershell/exchange/connect-to-scc-powershell) в Центре безопасности & соответствия требованиям и запустите [cmdlet Get-DlpCompliancePolicy,](https://docs.microsoft.com/powershell/module/exchange/get-dlpcompliancepolicy) чтобы увидеть DistributionStatus.

![Запуск cmdlet в PowerShell](../media/DLP-create-test-tune-PowerShell.png)

После включив политику DLP, необходимо выполнить собственные заключительные тесты, чтобы убедиться, что происходят ожидаемые действия политики. Если вы пытаетесь проверить данные кредитных карт, в Интернете есть веб-сайты с информацией о том, как создать образец кредитной карты или другую личную информацию, которая пройдет контрольные контрольные данные и активирует ваши политики.

Политики, которые позволяют переопределять пользователя, представляют этот параметр пользователю в составе подсказки политики.

![Подсказка политики, позволяющая пользователю переопределять](../media/DLP-create-test-tune-override-option.png)

Политики, ограничивающие содержимое, будут представлять пользователю предупреждение в качестве части подсказки политики и не смогут отправлять сообщение электронной почты.

![Подсказка политики об ограничении содержимого](../media/DLP-create-test-tune-restrict-warning.png)

## <a name="summary"></a>Аннотация

Политики защиты от потери данных полезны для организаций всех типов. Тестирование некоторых политик DLP — это упражнение с низким уровнем риска, так как вы контролируете такие факторы, как подсказки политик, переопределения конечных пользователей и отчеты об инцидентах. Вы можете без сообщений протестировать некоторые политики DLP, чтобы узнать, какие типы нарушений уже происходят в вашей организации, а затем создать политики с низким коэффициентом ложных срабатывающих, проучить пользователей о том, что разрешено и что запрещено, а затем разработать политики DLP в организации.
