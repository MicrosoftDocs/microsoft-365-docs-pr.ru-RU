---
title: Создание, тестирование и настройка политики защиты от потери данных
f1.keywords:
- NOCSH
ms.author: chrfox
author: chrfox
manager: laurawi
audience: Admin
ms.topic: article
f1_keywords:
- ms.o365.cc.NewPolicyFromTemplate
ms.service: O365-seccomp
localization_priority: Normal
ms.collection:
- M365-security-compliance
search.appverid:
- MET150
ms.custom:
- seo-marvel-mar2020
ms.assetid: 59414438-99f5-488b-975c-5023f2254369
description: В этой статье вы узнаете, как создавать, тестировать и настраивать политику DLP в соответствии с потребностями организации.
ms.openlocfilehash: d26412eb54176dfd3c5d881d82076b2a58330ebd
ms.sourcegitcommit: 27b2b2e5c41934b918cac2c171556c45e36661bf
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/19/2021
ms.locfileid: "50923455"
---
# <a name="create-test-and-tune-a-dlp-policy"></a>Создание, тестирование и настройка политики защиты от потери данных

Предотвращение потери данных (DLP) помогает предотвратить непреднамеренное или случайное распространение конфиденциальной информации.

DLP проверяет сообщения электронной почты и файлы для получения конфиденциальной информации, например номера кредитной карты. С помощью DLP вы можете обнаруживать конфиденциальные сведения и принимать меры, такие как:

- Журнал события для целей аудита
- Отображение предупреждения конечному пользователю, который отправляет электронную почту или делится файлом
- Активно блокировать доступ к электронной почте или файлу

## <a name="permissions"></a>Разрешения

Членам группы обеспечения соответствия требованиям, которые будут создавать политики защиты от потери данных, потребуются разрешения для работы в Центре соответствия требованиям. По умолчанию администратор клиента будет иметь доступ к сотрудникам по обеспечению соответствия требованиям и другим людям. Выполните следующие действия.
  
1. Создайте группу в Microsoft 365 и добавьте в нее сотрудников, ответственных за обеспечение соответствия требованиям.
    
2. Создайте группу ролей на странице **Разрешения** в Центре безопасности и соответствия требованиям. 

3. При создании группы ролей используйте раздел **Выбор** ролей, чтобы добавить следующую роль в группу ролей: управление соответствием **требованиям DLP.**
    
4. Используйте раздел **Выбор участников**, чтобы добавить созданную ранее группу Microsoft 365 в эту группу ролей.

Используйте роль управления соответствием требованиям только для просмотра для **DLP,** чтобы создать группу ролей с привилегиями только для просмотра политик DLP и отчетов DLP.

Дополнительные сведения см. в статье [Предоставление пользователям доступа к Центру безопасности и соответствия требованиям Office 365](../security/office-365-security/grant-access-to-the-security-and-compliance-center.md).
  
Эти разрешения необходимы для создания и применения политики DLP, чтобы не применять политики.

## <a name="how-sensitive-information-is-detected-by-dlp"></a>Обнаружение конфиденциальной информации DLP

DLP находит конфиденциальную информацию путем регулярного совпадения шаблона выражения (RegEx) в сочетании с другими показателями, такими как близость определенных ключевых слов к шаблонам. Например, номер кредитной карты VISA имеет 16 цифр. Но эти цифры могут быть написаны по-разному, например 1111-1111-1111-1111, 1111 1111 1111 1111 или 11111111111111111111111.

Любая 16-значная строка не обязательно является номером кредитной карты, это может быть номер билета из системы службы поддержки или серийный номер части оборудования. Чтобы отличить номер кредитной карты от безобидной 16-значной строки, выполняется вычисление (checksum), чтобы подтвердить, что номера соответствуют известному шаблону различных брендов кредитных карт.

Если DLP находит ключевые слова, такие как "VISA" или "AMEX", значения даты, которые могут быть датой истечения срока действия кредитной карты, DLP также использует эти данные, чтобы помочь ей решить, является ли строка номером кредитной карты или нет.

Другими словами, DLP достаточно умен, чтобы распознать разницу между этими двумя строками текста в электронной почте:

- "Можете ли вы заказать мне новый ноутбук. Используйте мой номер VISA 1111-1111-1111-1111 с истечением срока действия 11/22 и отправьте мне ориентировочная дата доставки, когда она будет у вас".
- "Мой серийный номер ноутбука 2222-2222-2222-2222 и был приобретен 11/2010. Кстати, моя выездная виза еще утверждена?

См. [определения типа](sensitive-information-type-entity-definitions.md) конфиденциальной информации, которые объясняют обнаружение каждого типа информации.

## <a name="where-to-start-with-data-loss-prevention"></a>С чего начать с предотвращения потери данных

Если риски утечки данных не совсем очевидны, трудно определить, с чего именно следует начать с реализации DLP. К счастью, политики DLP можно запускать в "тестовом режиме", что позволяет оценить их эффективность и точность, прежде чем включить их.

Политики DLP для Exchange Online можно управлять через центр администрирования Exchange. Но вы можете настроить политики DLP для всех рабочих нагрузок через Центр соответствия требованиям & безопасности, так что это то, что я буду использовать для демонстраций в этой статье. В Центре & безопасности вы найдете политики DLP в политике предотвращения **потери**  >  **данных.** Выберите **Создать политику для** запуска.

Microsoft 365 предоставляет ряд шаблонов политики [DLP,](what-the-dlp-policy-templates-include.md) которые можно использовать для создания политик. Допустим, вы австралийский бизнес. Вы можете фильтровать шаблоны в Австралии, а также выбрать финансовые, медицинские и медицинские и конфиденциальности.

![Выбор страны или региона](../media/DLP-create-test-tune-choose-country.png)

Для этой демонстрации я выберу данные австралийских персональных данных (PII), которые включают типы сведений о номере австралийских налоговых файлов (TFN) и номере лицензии водителя.

![Выбор шаблона политики](../media/DLP-create-test-tune-choose-policy-template.png)

Дайте новой политике DLP имя. Имя по умолчанию будет соответствовать шаблону политики DLP, но следует выбрать собственное имя, так как из одного шаблона можно создать несколько политик.

![Возможность имени политики](../media/DLP-create-test-tune-name-policy.png)

Выберите расположения, к которые будет применяться политика. Политики DLP могут применяться к Exchange Online, SharePoint Online и OneDrive для бизнеса. Я оставлю эту политику настроенной для применения во всех расположениях.

![Параметр выбора всех местоположений](../media/DLP-create-test-tune-choose-locations.png)

На первом **шаге Параметры политики** просто примите по умолчанию на данный момент. Вы можете настроить политики DLP, но по умолчанию это прекрасное место для начала.

![Параметры настройки типа контента для защиты](../media/DLP-create-test-tune-default-customization-settings.png)

После нажатия кнопку Далее*** вам  будет представлена дополнительная страница Параметры политики с дополнительными вариантами настройки. Для политики, которую вы только тестируете, здесь можно приступить к внесению некоторых изменений.

- На данный момент я отключил советы по политике, что является разумным шагом, если вы просто тестируете все и еще не хотите отображать что-либо пользователям. Советы по политике отображают предупреждения пользователям о том, что они нарушают политику DLP. Например, пользователь Outlook увидит предупреждение о том, что присоединенный к нему файл содержит номера кредитных карт и приведет к отклонению электронной почты. Цель советов политики заключается в том, чтобы остановить поведение, не соблюдаемое до того, как оно произойдет.
- Кроме того, я сократил число экземпляров с 10 до 1, чтобы эта политика обнаружила любое совместное использование австралийских данных PII, а не просто массовый обмен данными.
- Я также добавила другого получателя в сообщение отчета об инциденте.

![Дополнительные параметры политики](../media/DLP-create-test-tune-more-policy-settings.png)

Наконец, я настроил эту политику на первоначальное запуск в тестовом режиме. Обратите внимание, что здесь также можно отключить советы по политике в тестовом режиме. Это обеспечивает гибкость включения советов политик в политике, а затем принимает решение о том, следует ли показывать или пресекать их во время тестирования.

![Параметр для проверки политики в первую очередь](../media/DLP-create-test-tune-test-mode.png)

На заключительном экране обзора нажмите **кнопку Создать,** чтобы завершить создание политики.

## <a name="test-a-dlp-policy"></a>Тестирование политики DLP

Ваша новая политика DLP начнет действовать в течение примерно 1 часа. Вы можете сидеть и ждать, пока она будет вызвана нормальной активностью пользователя, или вы можете попытаться вызвать его самостоятельно. Ранее я соединяла с определениями сущности типа конфиденциальной информации, которая предоставляет вам сведения о том, как запускать совпадения DLP. [](sensitive-information-type-entity-definitions.md)

Например, политика DLP, созданная для этой статьи, определяет австралийские номера налоговых файлов (TFN). Согласно документации, совпадение основано на следующих критериях.

![Документация по номеру налогового файла Австралии](../media/DLP-create-test-tune-Australia-Tax-File-Number-doc.png)
 
Чтобы продемонстрировать обнаружение TFN довольно тупым образом, без проблем будет проходить сообщение со словами "Номер налогового файла" и строка из 9 цифр в непосредственной близости. Причина, по которой политика DLP не запускается, заключается в том, что 9-значная строка должна пройти проверку, которая указывает, что это допустимый TFN, а не только безобидная строка чисел.

![Номер налогового файла Австралии, который не проходит проверку](../media/DLP-create-test-tune-email-test1.png)

Для сравнения, с помощью электронной почты со словами "Номер налогового файла" и действительным TFN, который проходит проверку, запускает политику. Для записи здесь используется TFN, который я использую, был взят с веб-сайта, который создает допустимые, но не подлинные TFNs. Такие сайты очень полезны, так как одна из наиболее распространенных ошибок при тестировании политики DLP — использование поддельного номера, который не является допустимым и не будет проходить проверку (поэтому политика не запускается).

![Номер налогового файла Австралии, который проходит проверку](../media/DLP-create-test-tune-email-test2.png)

Сообщение отчета об инциденте включает тип обнаруженной конфиденциальной информации, количество обнаруженных экземпляров и уровень уверенности в обнаружении.

![Отчет об инциденте с обнаруженным номером налогового файла](../media/DLP-create-test-tune-email-incident-report.png)

Если оставить политику DLP в тестовом режиме и проанализировать сообщения отчетов об инцидентах, вы можете начать ощущать точность политики DLP и ее эффективность при ее принудительном обеспечении. В дополнение к отчетам об инцидентах можно использовать отчеты [DLP](view-the-dlp-reports.md) для просмотра сводного представления совпадений политик в клиенте.

## <a name="tune-a-dlp-policy"></a>Настройка политики DLP

При анализе хитов политики может потребоваться внести некоторые изменения в поведение политик. В качестве простого примера можно определить, что один TFN в электронной почте не является проблемой (я думаю, что это все еще есть, но давайте пойдем с ним ради демонстрации), но два или более экземпляров является проблемой. Несколько экземпляров могут быть рискованным сценарием, например, если сотрудник по электронной почте передает экспорт CSV из базы данных кадров во внешнюю сторону, например внешнюю службу бухгалтерского учета. Определенно то, что вы предпочитаете обнаруживать и блокировать.

В Центре & безопасности можно изменить существующую политику, чтобы изменить поведение.

![Параметр для редактирования политики](../media/DLP-create-test-tune-edit-policy.png)
 
Параметры расположения можно настроить так, чтобы политика применялась только к определенным рабочим нагрузкам или определенным сайтам и учетным записям.

![Параметры выбора определенных местоположений](../media/DLP-create-test-tune-edit-locations.png)

Вы также можете изменить параметры политики и изменить правила в соответствии с вашими потребностями.

![Параметр для изменения правила](../media/DLP-create-test-tune-edit-rule.png)

При редактировании правила в политике DLP можно изменить:

- Условия, в том числе тип и количество экземпляров конфиденциальных данных, которые будут запускать правило.
- Действия, которые принимаются, например ограничение доступа к содержимому.
- Уведомления пользователей, которые являются советами политики, отображаемой пользователю в клиенте электронной почты или веб-браузере.
- Пользователь переопределяет, что определяет, могут ли пользователи продолжать свой обмен электронной почтой или файлами в любом случае.
- Отчеты об инцидентах, чтобы уведомить администраторов.

![Параметры редактирования частей правила](../media/DLP-create-test-tune-editing-options.png)

Для этой демонстрации я добавил уведомления пользователей в политику (будьте осторожны, не занимайтесь этим без надлежащей подготовки по информированию пользователей) и разрешил пользователям переопределять политику с помощью бизнес-обоснования или помиловки ее как ложного срабатывания. Обратите внимание, что вы также можете настроить текст отзывов по электронной почте и политике, если вы хотите включить какие-либо дополнительные сведения о политиках организации, или побудить пользователей обращаться в службу поддержки, если у них есть вопросы.

![Параметры уведомлений и переопределей пользователей](../media/DLP-create-test-tune-user-notifications.png)

Политика содержит два правила для обработки с большим объемом и низким объемом, поэтому не забудьте изменить оба действия, которые вы хотите. Это возможность по-разному относиться к случаям в зависимости от их характеристик. Например, можно разрешить переопределения для нарушений с низким объемом, но не разрешить переопределения для нарушений с высоким уровнем громкости.

![Одно правило для высокой громкости и одно правило для низкого тома](../media/DLP-create-test-tune-two-rules.png)

Кроме того, если вы хотите фактически заблокировать или ограничить доступ к контенту, нарушаемому политикой, для этого необходимо настроить действие по правилу.

![Возможность ограничения доступа к содержимому](../media/DLP-create-test-tune-restrict-access-action.png)

После сохранения этих изменений в параметрах политики мне также необходимо вернуться на страницу основных параметров политики и включить возможность показывать пользователям советы по политике, пока политика находится в тестовом режиме. Это эффективный способ ввести политики DLP для конечных пользователей и сделать обучение осведомленности пользователей, не рискуя слишком много ложных срабатывающих срабатывающих факторов, которые влияют на их производительность.

![Возможность показывать советы политики в тестовом режиме](../media/DLP-create-test-tune-show-policy-tips.png)

На стороне сервера (или облачной стороне, если хотите), изменение может не вступает в силу сразу из-за различных интервалов обработки. Если вы делаете изменение политики DLP, которое отображает новые советы политики пользователю, пользователь может не увидеть, как изменения вступает в силу сразу в клиенте Outlook, который проверяет изменения политики каждые 24 часа. Если вы хотите ускорить процесс тестирования, вы можете использовать это исправление реестра, чтобы очистить последний отпечаток времени загрузки из ключа [PolicyNudges](https://support.microsoft.com/en-au/help/2823261/changes-to-a-data-loss-prevention-policy-don-t-take-effect-in-outlook?__hstc=18650278.46377037dc0a82baa8a30f0ef07a7b2f.1538687978676.1538693509953.1540315763430.3&__hssc=18650278.1.1540315763430&__hsfp=3446956451). Outlook скачит последние сведения о политике при следующем перезапуске и приступить к сочинению сообщения электронной почты.

Если у вас есть советы по политике, пользователь начнет видеть советы в Outlook и может сообщать о ложных срабатывавах, когда они происходят.

![Совет политики с возможностью сообщить о ложном срабатывке](../media/DLP-create-test-tune-policy-tip-in-outlook.png)

## <a name="investigate-false-positives"></a>Исследование ложных срабатыва

Шаблоны политики DLP не являются идеальными прямо из окна. Скорее всего, в среде будут происходить ложные срабатывания, поэтому так важно облегчить путь в развертывание DLP, устроив надлежащую проверку и настройку политик.

Вот пример ложного срабатыва. Эта электронная почта довольно безвредна. Пользователь предоставляет кому-то свой номер мобильного телефона, в том числе подпись электронной почты.

![Электронная почта, показывающая ложные положительные сведения](../media/DLP-create-test-tune-false-positive-email.png)
 
Но пользователь видит подсказку политики, предупреждая их о том, что электронная почта содержит конфиденциальные сведения, в частности, номер лицензии австралийского водителя.

![Возможность сообщить о ложном срабатывке в подсказке политики](../media/DLP-create-test-tune-policy-tip-closeup.png)

Пользователь может сообщить о ложном срабатыве, а администратор может и посмотреть, почему он произошел. В сообщении об инциденте сообщение помечено как ложное срабатыва.

![Отчет об инциденте с ложным срабатыва-](../media/DLP-create-test-tune-false-positive-incident-report.png)

Этот случай лицензии водителя является хорошим примером для копать. Причиной этого ложного срабатыва- является то, что тип "Лицензия австралийского водителя" запускается с помощью любой 9-значной строки (даже одной из которых является частью 10-значной строки), в пределах 300 символов в непосредственной близости от ключевых слов "sydney nsw" (не чувствительный к делу). Поэтому он запускается по номеру телефона и подписи электронной почты, только потому, что пользователь, случается, в Сиднее.


Один из вариантов заключается в том, чтобы удалить из политики тип сведений о водительских правах Австралии. Он там, потому что он является частью шаблона политики DLP, но мы не вынуждены его использовать. Если вас интересуют только номера налоговых файлов, а не водительские права, вы можете просто удалить их. Например, вы можете удалить его из правила низкой громкости в политике, но оставить его в правиле высокой громкости, чтобы списки нескольких лицензий драйверов по-прежнему обнаружены.

![Возможность удаления типа конфиденциальной информации из правила](../media/DLP-create-test-tune-delete-low-volume-rule.png)
 
Другим вариантом является простое увеличение числа экземпляров, чтобы низкий объем водительских прав был обнаружен только при нескольких экземплярах.

![Параметр редактирования подсчета экземпляров](../media/DLP-create-test-tune-edit-instance-count.png)

В дополнение к изменению подсчета экземпляров можно также настроить точность совпадения (или уровень доверия). Если тип конфиденциальной информации имеет несколько шаблонов, можно настроить точность совпадения в правиле, чтобы правило совпадает только с определенными шаблонами. Например, чтобы уменьшить количество ложных срабатывай, можно установить соответствие точности правила, чтобы оно совпадает только с шаблоном с наивысшим уровнем уверенности. Понимание того, как рассчитывается уровень доверия, немного сложно (и за пределами этой должности), но вот хорошее объяснение того, как использовать уровень доверия для настройки [правил](data-loss-prevention-policies.md#match-accuracy).

Наконец, если вы хотите получить еще немного более продвинутый, вы можете настроить любой тип конфиденциальной информации , например, можно [](sensitive-information-type-entity-definitions.md#australia-drivers-license-number)удалить "Sydney NSW" из списка ключевых слов для номера лицензии водителя Австралии, чтобы устранить ложное срабатываемый срабатываемый выше срабатываний. Сведения о том, как это сделать с помощью XML и PowerShell, см. в настройках встроенного [типа конфиденциальной информации.](customize-a-built-in-sensitive-information-type.md)

## <a name="turn-on-a-dlp-policy"></a>Включи политику DLP

Если вы довольны тем, что политика DLP точно и эффективно определяет типы конфиденциальной информации и что конечные пользователи готовы работать с политиками, которые находятся на месте, вы можете включить политику.

![Возможность включить политику](../media/DLP-create-test-tune-turn-on-policy.png)
 
Если вы ожидаете, когда политика вступает в силу, подключись к центру безопасности & [PowerShell](/powershell/exchange/connect-to-scc-powershell) и запустите комдлет [Get-DlpCompliancePolicy,](/powershell/module/exchange/get-dlpcompliancepolicy) чтобы увидеть DistributionStatus.

![Запуск комлета в PowerShell](../media/DLP-create-test-tune-PowerShell.png)

После включив политику DLP, необходимо выполнить некоторые заключительные тесты, чтобы убедиться, что ожидаемые действия политики происходят. Если вы пытаетесь проверить такие вещи, как данные кредитных карт, в Интернете есть веб-сайты с информацией о том, как создать пример кредитной карты или другую личную информацию, которая будет проходить проверки и запускать политики.

Политики, позволяющие переопределять пользователя, представят этот параметр пользователю в качестве части подсказки политики.

![Совет политики, позволяющий переопределять пользователя](../media/DLP-create-test-tune-override-option.png)

Политики, ограничивающие контент, представят предупреждение пользователю в качестве части подсказки политики и не будут препятствовать отправке электронной почты.

![Совет политики о том, что контент ограничен](../media/DLP-create-test-tune-restrict-warning.png)

## <a name="summary"></a>Аннотация

Политики предотвращения потери данных полезны для организаций всех типов. Тестирование некоторых политик DLP — это упражнение с низким уровнем риска из-за контроля над действиями, например советами по политике, переопределениями конечных пользователей и отчетами об инцидентах. Вы можете спокойно проверить некоторые политики DLP, чтобы узнать, какие нарушения уже происходят в организации, а затем разработать политики с низкими коэффициентами ложного срабатывания, обучить пользователей тому, что разрешено и не разрешено, а затем вывести политики DLP в организацию.