---
title: Отпечатки документов
f1.keywords:
- NOCSH
ms.author: chrfox
author: chrfox
manager: laurawi
audience: ITPro
ms.topic: article
search.appverid: MET150
ms.service: exchange-online
ms.collection: M365-security-compliance
localization_priority: Normal
description: Информационные работники в вашей организации обрабатывают конфиденциальные сведения различных типов в течение обычного рабочего дня. Отпечатки документов упрощают защиту этих сведений путем определения стандартных форм, используемых в пределах всей организации. В этом разделе описываются понятия, которые стоят за дактилоскопией документов и как создать их с помощью PowerShell.
ms.openlocfilehash: 392b42e779de249dddc0acb4c7c757a009f9f743
ms.sourcegitcommit: 1206319a5d3fed8d52a2581b8beafc34ab064b1c
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/29/2021
ms.locfileid: "52086742"
---
# <a name="document-fingerprinting"></a>Создание отпечатка документа

Информационные работники в вашей организации обрабатывают конфиденциальные сведения различных типов в течение обычного рабочего дня. В Центре соответствия требованиям безопасности дактилоскопия документов упрощает защиту этих сведений путем определения стандартных форм, используемых &amp; в организации. В этом разделе описываются понятия, которые стоят за дактилоскопией документов и как создать их с помощью PowerShell.
  
## <a name="basic-scenario-for-document-fingerprinting"></a>Основной сценарий использования отпечатков документов

Дактилоскопия документов — это функция предотвращения потери данных (DLP), которая преобразует стандартную форму в тип конфиденциальной информации, который можно использовать в правилах политик DLP. Например, можно создать отпечатки пальцев документов на основе пустого шаблона патента, а затем создать политику DLP, которая обнаруживает и блокирует все исходяющие шаблоны патентов с конфиденциальным контентом. Кроме того, можно [](use-notifications-and-policy-tips.md) настроить рекомендации по политике, чтобы уведомить отправителей о том, что они могут отправлять конфиденциальные сведения, и отправитель должен убедиться, что получатели имеют право на получение патентов. Этот процесс работает с любыми текстовыми формами, используемыми в организации. Дополнительные примеры форм, которые можно загрузить, включают:
  
- Правительственные формы
- Формы соответствия требованиям обязательного медицинского страхования  
- Формы сведений о сотрудниках для отделов кадров
- Настраиваемые формы, созданные специально для вашей организации

В идеальном случае у вашей организации уже есть установленная бизнес-практика использования определенных форм для передачи конфиденциальных сведений. После отправки пустой формы, которая будет преобразована в отпечаток документа и настроена соответствующая политика, DLP обнаруживает все документы в исходящих сообщениях, соответствующие этому отпечатку.

## <a name="how-document-fingerprinting-works"></a>Принцип работы отпечатков документов

Возможно, вы уже догадались, что в документах не имеется действительных отпечатков, но само название этой функции объясняет ее суть. Отпечатки пальцев человека  уникальны, а документы  обладают уникальными словесными шаблонами. При загрузке файла DLP определяет уникальный шаблон слов в документе, создает отпечатки пальцев документов на основе этого шаблона и использует этот отпечаток документа для обнаружения исходящих документов, содержащих тот же шаблон. Поэтому при отправке формы или шаблона создается самый эффективный тип отпечатка документа. Каждый пользователь, заполняющий форму, использует тот же исходный набор слов, а затем добавляет собственные слова в документ. До тех пор, пока исходящие документы не защищены паролем и содержат весь текст из исходной формы, DLP может определить, соответствует ли документ отпечатку пальца документа.

> [!IMPORTANT]
> В настоящее время DLP может использовать дактилоскопию документов в качестве метода обнаружения Exchange только в Интернете.

В примере ниже показано, что происходит, если вы создаете отпечаток документа на основе шаблона патента, но вы можете использовать любую форму в качестве основы для создания отпечатка документа.
  
### <a name="example-of-a-patent-document-matching-a-document-fingerprint-of-a-patent-template"></a>Пример патентного документа, соответствующего отпечатку документа для шаблона патента

![Схема дактилоскопии документов.](../media/Document-Fingerprinting-diagram.png)
  
Шаблон патента содержит пустые поля "Название патента", "Изобретатели", "Описание" и описания для каждого из этих полей . При отправке исходного шаблона патента он имеется в одном из поддерживаемых типов файлов и в простом тексте. DLP преобразует этот шаблон слова в отпечаток документа, который представляет собой небольшой XML-файл Unicode, содержащий уникальное значение хаширования, представляющее исходный текст, и отпечатки сохраняются в качестве классификации данных в Active Directory. (В качестве меры безопасности исходный документ сам по себе не хранится в службе; сохраняется только значение hash, а исходный документ не может быть реконструирован из значения hash.) Затем отпечатки патента становятся конфиденциальным типом информации, который можно связать с политикой DLP. После связывать отпечатки пальцев с политикой DLP, DLP обнаруживает любые исходящие сообщения электронной почты, содержащие документы, соответствующие патентным отпечаткам, и рассматривает их в соответствии с политикой организации. 

Например, может потребоваться настроить политику DLP, которая не позволяет обычным сотрудникам отправлять исходящие сообщения, содержащие патенты. DLP будет использовать отпечатки пальцев патента для обнаружения патентов и блокировки этих сообщений электронной почты. Кроме того, вы можете позволить юридическому отделу отправлять патенты в другие организации, так как для этого требуется бизнес. Вы можете разрешить определенным отделам отправлять конфиденциальные сведения, создавая исключения для этих отделов в политике DLP, или вы можете разрешить им переопределять совет политики с бизнес-обоснованием.
  
### <a name="supported-file-types"></a>Поддерживаемые типы файлов

Дактилоскопия документов поддерживает те же типы файлов, которые поддерживаются в правилах потока почты (также известные как правила транспорта). Список поддерживаемых типов файлов см. в списке Поддерживаемые типы файлов для проверки контента правил потока [почты.](/exchange/security-and-compliance/mail-flow-rules/inspect-message-attachments#supported-file-types-for-mail-flow-rule-content-inspection) Одно быстрое примечание о типах файлов: ни правила потока почты, ни дактилоскопия документов не поддерживают тип файла .dotx, что может привести к путанице, так как это файл шаблона в Word. Когда вы видите слово "шаблон" в этом и других темах отпечатков документов, оно ссылается на документ, созданный как стандартная форма, а не тип файла шаблона.
  
#### <a name="limitations-of-document-fingerprinting"></a>Ограничения относительно отпечатков документов

Дактилоскопия документов не будет обнаруживать конфиденциальные сведения в следующих случаях:
  
- Файлы защищены паролем.
- Файлы содержат только изображения.
- Документы не содержат весь текст из исходной формы, которая использовалась для создания отпечатка документа.
- Файлы с более чем 10 МБ

## <a name="use-powershell-to-create-a-classification-rule-package-based-on-document-fingerprinting"></a>Использование PowerShell для создания пакета правил классификации на основе дактилоскопии документов

Обратите внимание, что в настоящее время отпечаток пальца документа можно создать только с помощью PowerShell в Центре соответствия &amp; требованиям безопасности. Чтобы подключиться, [Подключение в центре & PowerShell.](/powershell/exchange/connect-to-scc-powershell)

DLP использует пакеты правил классификации для обнаружения конфиденциального контента. Чтобы создать пакет правил классификации на основе отпечатка пальца документа, используйте **комлеты New-DlpFingerprint** и **New-DlpSensitiveInformationType.** Так как результаты **New-DlpFingerprint** не хранятся вне правила классификации данных, вы всегда запустите **New-DlpFingerprint** и **New-DlpSensitiveInformationType** или **Set-DlpSensitiveInformationType** в том же сеансе PowerShell. В примере ниже создается новый отпечаток документа на основе файла C:\My Documents\Contoso Employee Template.docx. Новый отпечаток хранится в качестве переменной, поэтому его можно использовать с командлетом **New-DlpSensitiveInformationType** во время одного сеанса PowerShell.
  
```powershell
$Employee_Template = Get-Content "C:\My Documents\Contoso Employee Template.docx" -Encoding byte -ReadCount 0
$Employee_Fingerprint = New-DlpFingerprint -FileData $Employee_Template -Description "Contoso Employee Template"
```

Давайте создадим новое правило классификации данных с именем "Contoso Employee Confidential", использующее отпечаток документа из файла C:\My Documents\Contoso Customer Information Form.docx.
  
```powershell
$Customer_Form = Get-Content "C:\My Documents\Contoso Customer Information Form.docx" -Encoding byte -ReadCount 0
$Customer_Fingerprint = New-DlpFingerprint -FileData $Customer_Form -Description "Contoso Customer Information Form"
New-DlpSensitiveInformationType -Name "Contoso Customer Confidential" -Fingerprints $Customer_Fingerprint -Description "Message contains Contoso customer information." 
```

Теперь вы можете использовать комлет **Get-DlpSensitiveInformationType,** чтобы найти все пакеты правил классификации данных DLP, и в этом примере "Контозо конфиденциальность клиентов" входит в список пакетов правил классификации данных. 
  
Наконец, добавьте пакет правил классификации данных "Конфиденциальность клиента Contoso" в политику DLP в Центре соответствия &amp; требованиям безопасности. В этом примере добавляется правило к существующей политике DLP с именем "ConfidentialPolicy".

```powershell
New-DlpComplianceRule -Name "ContosoConfidentialRule" -Policy "ConfidentialPolicy" -ContentContainsSensitiveInformation @{Name="Contoso Customer Confidential"} -BlockAccess $True
```

Пакет правил классификации данных также можно использовать в правилах потока Exchange Online, как показано в следующем примере. Чтобы выполнить эту команду, сначала необходимо Подключение [Exchange Online PowerShell](/powershell/exchange/connect-to-exchange-online-powershell). Также обратите внимание, что для синхронизации пакета правил из Центра соответствия требованиям безопасности в центр администрирования Exchange &amp; времени.
  
```powershell
New-TransportRule -Name "Notify :External Recipient Contoso confidential" -NotifySender NotifyOnly -Mode Enforce -SentToScope NotInOrganization -MessageContainsDataClassification @{Name=" Contoso Customer Confidential"}
```

Теперь DLP обнаруживает документы, соответствующие отпечатку Form.docx клиента Contoso.
  
Сведения о синтаксисах и параметрах см. в этой ссылке:

- [New-DlpFingerprint](/powershell/module/exchange/New-DlpFingerprint)
- [New-DlpSensitiveInformationType](/powershell/module/exchange/New-DlpSensitiveInformationType)
- [Remove-DlpSensitiveInformationType](/powershell/module/exchange/Remove-DlpSensitiveInformationType)
- [Set-DlpSensitiveInformationType](/powershell/module/exchange/Set-DlpSensitiveInformationType)
- [Get-DlpSensitiveInformationType](/powershell/module/exchange/Get-DlpSensitiveInformationType)
