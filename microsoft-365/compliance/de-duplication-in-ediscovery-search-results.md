---
title: Дедупликация результатов поиска, выполненного с помощью функции обнаружения электронных данных
f1.keywords:
- NOCSH
ms.author: markjjo
author: markjjo
manager: laurawi
ms.date: 12/21/2016
audience: Admin
ms.topic: reference
ms.service: O365-seccomp
localization_priority: Normal
ms.collection:
- Strat_O365_IP
- M365-security-compliance
search.appverid:
- MOE150
- MET150
ms.assetid: 5af334b6-a15d-4f73-97f8-1423457d9f6b
ms.custom:
- seo-marvel-apr2020
description: Узнайте, как устранить повторяющиеся результаты поиска об обнаружении электронных данных, чтобы экспортировать только одну копию сообщения электронной почты.
ms.openlocfilehash: 859c1c41a9f6a530cdefce5220039fbc6ba1a14e
ms.sourcegitcommit: 27b2b2e5c41934b918cac2c171556c45e36661bf
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/19/2021
ms.locfileid: "50925675"
---
# <a name="de-duplication-in-ediscovery-search-results"></a>Дедупликация результатов поиска, выполненного с помощью функции обнаружения электронных данных

В этой статье описывается, как работает дублирование результатов поиска по электронным данным, и объясняется ограниченность алгоритма де дубликатации.
  
При использовании средств электронного поиска для экспорта результатов поиска электронных данных у вас есть возможность де дублировать экспортированные результаты. Что это означает? При включаем дублирование (по умолчанию не включено дублирование), экспортируется только одна копия сообщения электронной почты, несмотря на то, что несколько экземпляров одного и того же сообщения можно было найти в почтовых ящиках, которые искали. Дублирование позволяет сэкономить время, уменьшая количество элементов, которые необходимо просмотреть и проанализировать после экспорта результатов поиска. Но важно понимать, как работает де дубликация, и знать, что алгоритму существуют ограничения, которые могут привести к тому, что уникальный элемент будет помечен как дубликат во время процесса экспорта.
  
## <a name="how-duplicate-messages-are-identified"></a>Как выявляются дубликаты сообщений

Средства eDiscovery используют сочетание следующих свойств электронной почты, чтобы определить, является ли сообщение дубликатом:
  
- **InternetMessageId** . Это свойство указывает идентификатор сообщения электронной почты в Интернете, который является уникальным идентификатором глобального масштаба, который ссылается на определенную версию определенного сообщения. Этот ID создается клиентской программой электронной почты отправитель или принимающей системой электронной почты, которая отправляет сообщение. Если человек отправляет сообщение более чем одному получателю, его ID будет одинаковым для каждого экземпляра сообщения. Последующие изменения исходного сообщения получат другой идентификатор сообщения. 

- **ConversationTopic** . Это свойство указывает тему потока беседы сообщения. Значение свойства **ConversationTopic** — это строка, которая описывает общую тему беседы. Сохранение состоит из начального сообщения и всех сообщений, отправленных в ответ на исходное сообщение. Сообщения в одном разговоре имеют одинаковое значение для **свойства ConversationTopic.** Как правило, значение этого свойства — строка Subject из исходного сообщения, которое породило беседу. 

- **BodyTagInfo** — это внутреннее свойство Exchange хранения. Значение этого свойства вычисляется путем проверки различных атрибутов в теле сообщения. Это свойство используется для определения различий в теле сообщений. 

В процессе экспорта электронных данных эти три свойства сравниваются для каждого сообщения, которое соответствует критериям поиска. Если эти свойства идентичны для двух (или более) сообщений, эти сообщения будут дублироваться, и в результате будет экспортирована только одна копия сообщения при включенной депликации. Экспортируемая сообщение называется "исходным элементом". Сведения о дублирующихся сообщениях  включаются вResults.csvи **Manifest.xml** отчеты, включенные в экспортированные результаты поиска. В **файлеResults.csv,** дублирующее сообщение идентифицировано с помощью значения в столбце **Дубликат к элементу.** Значение в этом столбце соответствует значению в столбце **Идентификатор** элемента для экспортируемого сообщения. 
  
На следующих графиках покажите, как  дублирующиеся сообщения отображаются в отчетахResults.csvи **Manifest.xml,** экспортирующихся с результатами поиска. Эти отчеты не включают описанные ранее свойства электронной почты, которые используются в алгоритме де дубликатации. Вместо этого отчеты включают свойство **Identity item,** назначенное элементам Exchange магазине. 
  
 ### <a name="resultscsv-report-viewed-in-excel"></a>Results.csv отчет (см. в Excel)
  
![Просмотр информации о дублировании элементов в Results.csv отчете](../media/e3d64004-3b91-4cba-b6f3-934b46cbdcdb.png)
  
 ### <a name="manifestxml-report-viewed-in-excel"></a>Manifest.xml отчет (см. в Excel)
  
![Просмотр информации о дублировании элементов в Manifest.xml отчете](../media/69aa4786-9883-46ff-bcae-b35e0daf4a6d.png)
  
Кроме того, в отчеты об экспорте включены другие свойства из дублирующих сообщений. Это включает почтовый ящик, в который находится дублирующее сообщение, независимо от того, было ли сообщение отправлено группе рассылки и было ли сообщение Cc'd или Bcc'd другому пользователю.
  
## <a name="limitations-of-the-de-duplication-algorithm"></a>Ограничения алгоритма де дублирования

Существует ряд известных ограничений алгоритма де дубликатов, которые могут привести к тому, что уникальные элементы будут помечены как дубликаты. Важно понимать эти ограничения, чтобы можно было решить, следует ли использовать необязательный элемент de-duplication.
  
Существует одна ситуация, когда функция де дубликатирования может ошибочно идентифицировать сообщение как дубликат, а не экспортировать его (но при этом ссылаться на него как дубликат в отчетах по экспорту). Это сообщения, которые пользователь редактирует, но не отправляет. Например, предположим, что пользователь выбирает сообщение в Outlook, копирует содержимое сообщения, а затем вклеит его в новое сообщение. Затем пользователь изменяет одну из копий, удаляя или добавляя вложение или изменяя строку субъекта или само тело. Если эти два сообщения соответствуют запросу поиска об обнаружении электронных данных, только одно из этих сообщений будет экспортироваться, если при экспорте результатов поиска будет включена де-дублирование. Несмотря на то, что исходное сообщение или скопированные сообщения были изменены, ни одно из пересмотренных сообщений не было отправлено, и поэтому значения свойств **InternetMessageId,** **ConversationTopic** и **BodyTagInfo** не обновлялись. Но, как уже объяснялось ранее, оба сообщения будут перечислены в отчетах по экспорту 
  
Уникальные сообщения также могут быть помечены как дубликаты при включенной функции защиты страниц copy-on-Write, как в случае почтового ящика, на удержании судебного разбирательства или In-Place Удержание. Функция Copy-on-Write копирует исходное сообщение (и сохраняет его в папке Версии папки восстанавливаемых элементов пользователя) до сохранения изменения исходного элемента. В этом случае пересмотренная копия и исходное сообщение (в папке "Извлекаемые элементы") могут рассматриваться как дублирующиеся сообщения, поэтому экспортируется только одно из них.
  
> [!IMPORTANT]
> Если ограничения алгоритма де-дублирования могут повлиять на качество результатов поиска, то при экспорте элементов не следует включать дублирование. Если описанные в этом разделе ситуации вряд ли будут фактором в результатах поиска, и вы хотите уменьшить число элементов, которые, скорее всего, будут дублироваться, следует рассмотреть возможность дублирования. 
  
## <a name="more-information"></a>Дополнительные сведения

- Сведения в этой статье применимы при экспорте результатов поиска с помощью одного из следующих средств поиска:

  - Поиск контента в центре соответствия требованиям в Office 365

  - In-Place в Exchange Online

  - Центр по обнаружению электронных данных в SharePoint Online

- Дополнительные сведения об экспорте результатов поиска см. в

  - [Экспорт поиска контента](export-search-results.md)

  - [Экспорт отчета о поиске контента](export-a-content-search-report.md)

  - [Экспорт In-Place результатов поиска по электронным данным в PST-файл](/exchange/security-and-compliance/in-place-ediscovery/export-search-results)

  - [Экспорт контента и создание отчетов в центре обнаружения электронных данных](/SharePoint/governance/export-content-and-create-reports-in-the-ediscovery-center)