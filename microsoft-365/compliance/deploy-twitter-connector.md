---
title: Развертывание соединитела для архива данных Twitter
f1.keywords:
- NOCSH
ms.author: markjjo
author: markjjo
manager: laurawi
ms.date: ''
audience: Admin
ms.topic: article
ms.service: O365-seccomp
localization_priority: Normal
search.appverid:
- MET150
ms.collection: M365-security-compliance
ROBOTS: NOINDEX, NOFOLLOW
description: Администраторы могут настроить нативный соединитель для импорта и архива данных Twitter в Microsoft 365. После импорта этих данных в Microsoft 365 вы можете использовать такие функции соответствия требованиям, как удержание по юридическим вопросам, поиск контента и политики хранения для управления данными Twitter вашей организации.
ms.openlocfilehash: 0dd996802964b2a2fc58d26e23af57193c89ee8c
ms.sourcegitcommit: 6fc6aaa2b7610e148f41018abd229e3c55b2f3d0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/10/2020
ms.locfileid: "49619915"
---
# <a name="deploy-a-connector-to-archive-twitter-data"></a>Развертывание соединитела для архива данных Twitter

В этой статье содержится пошаговые процедуры развертывания соединители, использующие службу импорта Office 365 для импорта данных из учетной записи Twitter вашей организации в Microsoft 365. Общие сведения об этом процессе и список предварительных условий, необходимых для развертывания соединители Twitter, см. в настройках соединитела для архивации [данных Twitter. ](archive-twitter-data-with-sample-connector.md) 

## <a name="step-1-create-an-app-in-azure-active-directory"></a>Шаг 1. Создание приложения в Azure Active Directory

1. Войдите в учетную запись глобального администратора и <https://portal.azure.com> войдите в нее.

   ![Вход в Azure](../media/TCimage01.png)

2. В левой области навигации щелкните **Azure Active Directory.**

   ![Перейдите в Azure Active Directory](../media/TCimage02.png)

3. В левой области навигации щелкните регистрацию приложений **(предварительная версия)** и нажмите кнопку **"Новая регистрация".**

   ![Создание регистрации приложения](../media/TCimage03.png)

4. Зарегистрируйте приложение. В **поле "URI перенаправления" (необязательно)** выберите "Интернет" в выпадаемом списке типов приложений, а затем введите в поле  `https://portal.azure.com` URI.

   ![Тип https://portal.azure.com URI перенаправления ](../media/TCimage04.png)

5. **Скопируйте ИД приложения (клиента)** и каталог **(клиент)** и сохраните их в текстовом файле или другом безопасном расположении. Эти ИД будут применяться на последующих шагах.

    ![Копирование и сохранение ИД приложения и каталога](../media/TCimage05.png)

6. Go to **Certificates & secrets for the new app** and under Client **secrets** click New **client secret**.

   ![Создание секрета клиента](../media/TCimage06.png)

7. Создайте новый секрет. В поле описания введите секрет и выберите срок действия. 

   ![Введите секрет и выберите срок действия](../media/TCimage08.png)

8. Скопируйте значение секрета и сохраните его в текстовом файле или другом хранилище. Это секрет приложения AAD, который будет применяться на последующих шагах.

   ![Копирование и сохранение секрета](../media/TCimage09.png)


## <a name="step-2-deploy-the-connector-web-service-from-github-to-your-azure-account"></a>Шаг 2. Развертывание веб-службы соединителя из GitHub в учетной записи Azure

1. Перейдите [на этот сайт GitHub и](https://github.com/microsoft/m365-sample-twitter-connector-csharp-aspnet) нажмите кнопку **"Развернуть в Azure".**

    ![Перейдите на домашную страницу Azure](../media/FBCimage11.png)

2. После нажатия кнопки **"Развернуть в Azure"** вы будете перенаправлены на портал Azure с настраиваемой страницей шаблона. Заполните сведения **об основах** **и параметрах** и нажмите кнопку **"Купить".**

   ![Нажмите кнопку "Создать ресурс" и введите учетную запись хранения](../media/FBCimage12.png)

    - **Подписка:** Выберите свою подписку Azure, в которую вы хотите развернуть веб-службу соединители Twitter.
    
    - **Группа ресурсов:** Выберите или создайте новую группу ресурсов. Группа ресурсов — это контейнер, который содержит связанные ресурсы для решения Azure.

    - **Расположение:** Выберите расположение.

    - **Имя веб-приложения:** Укажет уникальное имя для веб-приложения соединители. Длина имени должна быть от 3 до 18 символов. Это имя используется для создания URL-адреса службы приложений Azure; например, если у вас есть имя веб-приложения **twitterconnector,** URL-адрес службы приложений Azure будет **twitterconnector.azurewebsites.net.**
    
    - **tenantId:** ИД клиента вашей организации Microsoft 365, который вы скопировали после создания приложения соединители Facebook в Azure Active Directory на шаге 1.
    
   - **APISecretKey:** В качестве секрета можно ввести любое значение. Это используется для доступа к веб-приложению соединители на шаге 5.

3. После успешного развертывания страница будет выглядеть примерно так, как по снимку экрана:

    ![Щелкните "Хранилище" и выберите "Учетная запись хранилища"](../media/FBCimage13.png)

## <a name="step-3-create-the-twitter-app"></a>Шаг 3. Создание приложения Twitter

1. Go to https://developer.twitter.com , log in using the credentials for the developer account for your organization, and then click **Apps**.

   ![Go to https://developer.twitter.com and log in](../media/TCimage25-5.png)
2. Нажмите **кнопку "Создать приложение"**.
   
   ![Чтобы создать приложение, перейдите на страницу "Приложения"](../media/TCimage26.png)

3. В **области сведений о приложении** добавьте сведения о приложении.

   ![Ввод информации о приложении](../media/TCimage27.png)

4. На информационной панели разработчика Twitter выберите только что созданное приложение и нажмите кнопку **"Сведения".**
   
   ![Копирование и сохранение ИД приложения](../media/TCimage28.png)

5. На вкладке **"Ключи** и маркеры" в области ключей API потребителя скопируйте ключ **API** и секретный ключ API и сохраните их в текстовом файле или другом хранилище. Затем нажмите **кнопку "Создать",** чтобы создать маркер доступа и секрет маркера доступа и скопировать их в текстовый файл или другое место хранения.
   
   ![Копирование и сохранение секретного ключа API](../media/TCimage29.png)

   Затем нажмите **кнопку "Создать",** чтобы создать маркер доступа и секрет маркера доступа, и скопируйте их в текстовый файл или другое место хранения.

6. Перейдите **на вкладку "Разрешения"** и настройте разрешения, как показано на следующем снимке экрана:

   ![Настройка разрешений](../media/TCimage30.png)

7. После сохранения параметров разрешений  щелкните вкладку "Сведения о приложении" и нажмите кнопку **"Изменить > Изменить сведения".**

   ![Изменение сведений о приложении](../media/TCimage31.png)

8. Сделайте следующее:

   - Select the checkbox to allow the connector app to sign in to Twitter.
   
   - Добавьте URI перенаправления OAuth в следующем формате: **\<connectorserviceuri> /Views/TwitterOAuth**, где *значением connectorserviceuri* является URL-адрес службы приложений Azure для вашей организации, например https://twitterconnector.azurewebsites.net/Views/TwitterOAuth .

    ![Разрешить приложению соединителю войти в Twitter и добавить URI перенаправления OAuth](../media/TCimage32.png)

Теперь приложение разработчика Twitter готово к использованию.

## <a name="step-4-configure-the-connector-web-app"></a>Шаг 4. Настройка веб-приложения соединители 

1. Перейдите https:// \<AzureAppResourceName> .azurewebsites.net (где **AzureAppResourceName** — это имя ресурса приложения Azure, имя которого вы назначили в шаге 4). Например, если имя **twitterconnector,** перейдите к https://twitterconnector.azurewebsites.net . Домашняя страница приложения выглядит следующим образом:

   ![Перейти на страницу ресурсов приложения Azure](../media/FBCimage41.png)

2. Нажмите **кнопку** "Настроить", чтобы отобразить страницу для входов.

   ![Click Configure to display sign in page](../media/FBCimage42.png)

3. В поле "ИД клиента" введите или введите свой ИД клиента (полученный на шаге 2). В поле пароля введите или введите APISecretKey (полученный на шаге 2), а затем нажмите кнопку **"Установить** параметры конфигурации", чтобы отобразить страницу сведений о конфигурации.

   ![Вход с использованием секретного ключа ИД клиента и API](../media/TCimage35.png)

4. Введите следующие параметры конфигурации 

   - **Ключ API Twitter:** Ключ API для приложения Twitter, созданного на шаге 3.
   
   - **Секретный ключ API Twitter:** Секретный ключ API для приложения Twitter, созданного на шаге 3.
   
   - **Маркер доступа Twitter:** Маркер доступа, созданный на шаге 3.
   
   - **Секрет маркера доступа Twitter:** Секрет маркера доступа, созданный на шаге 3.
   
   - **ИД приложения AAD:** ИД приложения Azure Active Directory, созданного на шаге 1
   
   - **Секрет приложения AAD:** Значение секрета APISecretKey, созданного на шаге 1.

5. Нажмите **кнопку** "Сохранить", чтобы сохранить параметры соединители.

## <a name="step-5-set-up-a-twitter-connector-in-the-microsoft-365-compliance-center"></a>Шаг 5. Настройка соединители Twitter в Центре соответствия требованиям Microsoft 365

1. Go to [https://compliance.microsoft.com](https://compliance.microsoft.com) and then click Data **connectors** in the left nav.

2. На странице **"Соединители данных"** в **Twitter** нажмите кнопку **"Просмотреть".**

3. На странице **Twitter** нажмите кнопку **"Добавить соединителю".**

4. На странице **"Условия обслуживания" нажмите** кнопку **"Принять".**

5. На странице **"Добавление учетных** данных для приложения соединителю" введите следующие сведения и нажмите кнопку **"Проверить подключение".**

   ![Ввод учетных данных приложения соединитела](../media/TCimage38.png)

    - В поле **"Имя"** введите имя соединитела, например, справку **Twitter.**
    
    - В поле **"URL-адрес** соединителя" введите или введите URL-адрес службы приложений Azure; например. `https://twitterconnector.azurewebsites.net`
    
    - В поле **"Пароль"** введите или введите значение APISecretKey, созданное на шаге 2.
    
    - В поле **"ИД** приложения Azure" введите или введите значение ИД приложения Azure (также называемый ид клиента), полученный на шаге 1.

6. После успешной проверки подключения нажмите кнопку **"Далее".**

7. На странице **авторизации Microsoft 365** для импорта данных введите или введите или введите APISecretKey еще раз, а затем щелкните веб-приложение для **входа.**

8. Click **Login with Twitter**.

9. На странице входа в Twitter во sign in, using the credentials for your organization's Twitter account.

   ![Вход в учетную запись Twitter](../media/TCimage42.png)

   После этого на странице Twitter отобразится следующее сообщение: "Задание соединители Twitter успешно настроено".

10. Нажмите **кнопку** "Продолжить", чтобы завершить настройку соединители Twitter.

11. На странице **"Настройка фильтров"** можно применить фильтр для первоначального импорта элементов определенного возраста. Выберите возраст и нажмите кнопку **"Далее".**

12. На странице **"Выбор места** хранения" введите адрес электронной почты почтового ящика Microsoft 365, в который будут импортироваться элементы Twitter, а затем нажмите кнопку **"Далее".**

13. Нажмите **кнопку** "Далее", чтобы просмотреть параметры соединители, а затем нажмите кнопку **"Готово",** чтобы завершить настройку соединители.

14. В Центре соответствия требованиям перейдите на страницу **"Соединители** данных" и перейдите на вкладку **"Соединители",** чтобы увидеть ход процесса импорта.
