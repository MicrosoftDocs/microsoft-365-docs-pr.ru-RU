---
title: Развертывание соединителя для архивации данных Twitter
f1.keywords:
- NOCSH
ms.author: markjjo
author: markjjo
manager: laurawi
ms.date: ''
audience: Admin
ms.topic: article
ms.service: O365-seccomp
localization_priority: Normal
search.appverid:
- MET150
ms.collection: M365-security-compliance
ROBOTS: NOINDEX, NOFOLLOW
description: Администраторы могут настроить собственный соединитель для импорта и архивации данных Twitter в Microsoft 365. После импорта этих данных в Microsoft 365 вы можете использовать такие функции обеспечения соответствия, как судебное хранение, поиск контента и политики хранения, для управления управлением данными Twitter Организации.
ms.openlocfilehash: 01c4901544e47cd1c361a132e144440f00bd8504
ms.sourcegitcommit: c083602dda3cdcb5b58cb8aa070d77019075f765
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/22/2020
ms.locfileid: "48200832"
---
# <a name="deploy-a-connector-to-archive-twitter-data"></a>Развертывание соединителя для архивации данных Twitter

В этой статье представлено пошаговое руководство по развертыванию соединителя, использующего службу импорта Office 365 для импорта данных из учетной записи Twitter вашей организации в Microsoft 365. Общий обзор этого процесса и список необходимых компонентов, необходимых для развертывания соединителя Twitter, приведены в разделе [Настройка соединителя для архивации данных Twitter ](archive-twitter-data-with-sample-connector.md). 

## <a name="step-1-create-an-app-in-azure-active-directory"></a>Шаг 1: создание приложения в Azure Active Directory

1. Перейдите на страницу <https://portal.azure.com> и войдите, используя учетные данные глобального администратора.

   ![Вход в Azure](../media/TCimage01.png)

2. В области навигации слева выберите **Azure Active Directory**.

   ![Перейдите в Azure Active Directory](../media/TCimage02.png)

3. В левой области навигации щелкните **Регистрация приложений (Предварительная версия)** , а затем нажмите кнопку **создать регистрацию**.

   ![Создание регистрации нового приложения](../media/TCimage03.png)

4. Зарегистрируйте приложение. В разделе **URI перенаправления (необязательно)** в раскрывающемся списке Тип приложения выберите пункт **веб-сайт** , а затем введите `https://portal.azure.com` в поле для URI.

   ![Тип https://portal.azure.com для URI перенаправления ](../media/TCimage04.png)

5. Скопируйте идентификатор **приложения (идентификатор клиента)** и **идентификатор каталога (клиента)** и сохраните их в текстовый файл или другое надежное расположение. Эти идентификаторы используются на последующих этапах.

    ![Копирование и сохранение идентификатора приложения и идентификатора каталога](../media/TCimage05.png)

6. Перейдите к разделу **сертификаты & секреты для нового приложения** и в разделе **секреты клиента** нажмите **новый секрет клиента**.

   ![Создание нового секрета клиента](../media/TCimage06.png)

7. Создайте новый секрет. В поле Описание введите секрет, а затем выберите срок действия. 

   ![Введите секрет и выберите срок действия](../media/TCimage08.png)

8. Скопируйте значение секрета и сохраните его в текстовый файл или другое место хранения. Это секрет приложения AAD, который вы используете в дальнейших действиях.

   ![Копирование и сохранение секрета](../media/TCimage09.png)


## <a name="step-2-deploy-the-connector-web-service-from-github-to-your-azure-account"></a>Шаг 2: разверните веб-службу соединителя из GitHub в учетную запись Azure.

1. Перейдите на [этот сайт GitHub](https://github.com/microsoft/m365-sample-twitter-connector-csharp-aspnet) и нажмите кнопку **развернуть в Azure**.

    ![Переход на домашнюю страницу Azure](../media/FBCimage11.png)

2. После нажатия кнопки **развернуть в Azure**вы будете перенаправлены на портал Azure с настраиваемой страницей шаблона. Заполните сведения о **основных** **параметрах и параметрах** , а затем щелкните **купить**.

   ![Нажмите кнопку Создать ресурс и введите учетную запись хранения.](../media/FBCimage12.png)

    - **Подписка:** Выберите свою подписку на Azure, в которую вы хотите развернуть веб-службу соединителя Twitter.
    
    - **Группа ресурсов:** Выберите или создайте новую группу ресурсов. Группа ресурсов — это контейнер, в котором хранятся связанные ресурсы для решения Azure.

    - **Расположение:** Выберите расположение.

    - **Имя веб-приложения:** Укажите уникальное имя для веб-приложения соединителя. Длина имени должна составлять от 3 до 18 символов. Это имя используется для создания URL-адреса службы приложений Azure; Например, если указать имя веб-приложения **твиттерконнектор** , URL-адрес службы приложений Azure будет **twitterconnector.azurewebsites.NET**.
    
    - **tenantId:** Идентификатор клиента вашей организации Microsoft 365, который вы скопировали после создания приложения соединителя Facebook в Azure Active Directory на этапе 1.
    
   - **Аписекреткэй:** В качестве секрета можно ввести любое значение. Он используется для доступа к веб-приложению Connector в действии 5.

3. После успешного развертывания страница будет выглядеть примерно так, как показано на следующем снимке экрана:

    ![Щелкните хранилище, а затем выберите Учетная запись хранилища.](../media/FBCimage13.png)

## <a name="step-3-create-the-twitter-app"></a>Шаг 3: создание приложения Twitter

1. Перейдите к https://developer.twitter.com , войдите в систему, используя учетные данные для учетной записи разработчика для вашей организации, а затем щелкните элемент **приложения**.

   ![Перейдите к разделу https://developer.twitter.com и войдите в него.](../media/TCimage25-5.png)
2. Нажмите кнопку **создать приложение**.
   
   ![Переход на страницу "приложения" для создания приложения](../media/TCimage26.png)

3. В разделе **сведения**о приложении добавьте сведения о приложении.

   ![Введите сведения о приложении](../media/TCimage27.png)

4. На панели мониторинга разработчика Twitter выберите только что созданный приложение и нажмите кнопку **сведения**.
   
   ![Копирование и сохранение идентификатора приложения](../media/TCimage28.png)

5. На вкладке **ключи и маркеры** в разделе **ключи API потребителей** скопируйте ключ API и секретный ключ API и сохраните их в текстовый файл или другое место хранения. Затем нажмите кнопку **создать** , чтобы создать маркер доступа и секрет маркера доступа и скопировать их в текстовый файл или другое место хранения.
   
   ![Секретный ключ для копирования и сохранения в API](../media/TCimage29.png)

   Затем нажмите кнопку **создать** , чтобы создать маркер доступа и секрет маркера доступа, а затем скопируйте его в текстовый файл или другое место хранения.

6. Перейдите на вкладку **разрешения** и настройте разрешения, как показано на следующем снимке экрана:

   ![Настройка разрешений](../media/TCimage30.png)

7. После сохранения параметров разрешений перейдите на вкладку **сведения о приложении** и нажмите кнопку **изменить > изменить сведения**.

   ![Изменение сведений о приложении](../media/TCimage31.png)

8. Выполните следующие задачи:

   - Установите флажок, чтобы разрешить приложению Connector вход в Twitter.
   
   - Добавьте URI перенаправления OAuth, используя следующий формат: ** \<connectorserviceuri> /виевс/твиттероаус**, где значение *коннекторсервицеури* — это URL-адрес службы приложений Azure для вашей организации; например, https://twitterconnector.azurewebsites.net/Views/TwitterOAuth .

    ![Разрешить приложению Connector вход в Twitter и добавить URI перенаправления OAuth](../media/TCimage32.png)

Теперь приложение для разработчиков Twitter готово к использованию.

## <a name="step-4-configure-the-connector-web-app"></a>Шаг 4: Настройка веб-приложения соединителя 

1. Перейдите в https:// \<AzureAppResourceName> . azurewebsites.NET (где **азуреаппресаурценаме** — это имя ресурса приложения Azure, имя которого указано в шаге 4). Например, если имя — **твиттерконнектор**, перейдите на страницу https://twitterconnector.azurewebsites.net . Домашняя страница приложения выглядит как на следующем снимке экрана:

   ![Перейдите на страницу ресурсов приложения Azure](../media/FBCimage41.png)

2. Нажмите кнопку **настроить** , чтобы отобразить страницу входа.

   ![Нажмите кнопку настроить для отображения страницы входа](../media/FBCimage42.png)

3. В поле Идентификатор клиента введите или вставьте идентификатор клиента (полученный на шаге 2). В поле Пароль введите или вставьте Аписекреткэй (полученное в действии 2), а затем нажмите кнопку **Настройка параметров конфигурации** , чтобы отобразить страницу сведений о конфигурации.

   ![Вход с использованием идентификатора клиента и секретного ключа API](../media/TCimage35.png)

4. Введите следующие параметры конфигурации 

   - **Ключ API Twitter:** Ключ API для приложения Twitter, созданного на шаге 3.
   
   - **Секретный ключ API Twitter:** Секретный ключ API для приложения Twitter, созданного на шаге 3.
   
   - **Маркер доступа Twitter:** Маркер доступа, созданный на шаге 3.
   
   - **Секрет маркера доступа Twitter:** Секрет маркера доступа, созданный на шаге 3.
   
   - **Идентификатор приложения AAD:** Идентификатор приложения для приложения Azure Active Directory, созданного в действии 1.
   
   - **Секрет приложения AAD:** Значение секрета Аписекреткэй, созданного на шаге 1.

5. Нажмите кнопку **сохранить** , чтобы сохранить параметры соединителя.

## <a name="step-5-set-up-a-twitter-connector-in-the-microsoft-365-compliance-center"></a>Шаг 5: Настройка соединителя Twitter в центре соответствия требованиям Microsoft 365

1. [https://compliance.microsoft.com](https://compliance.microsoft.com)В левой панели навигации выберите элемент **соединители данных и нажмите кнопку соединители данных** .

2. На странице " **соединители данных** " в разделе **Twitter**нажмите кнопку **Просмотр**.

3. На странице **Twitter** нажмите **Добавить соединитель**.

4. На странице **условия обслуживания** нажмите кнопку **принять**.

5. На странице " **Добавление учетных данных для приложения соединителя** " введите следующие сведения и нажмите кнопку **проверить подключение**.

   ![Введите учетные данные приложения соединителя](../media/TCimage38.png)

    - В поле **имя** введите имя соединителя, например, " **Справка по Twitter**".
    
    - В поле **URL-адрес соединителя** введите или вставьте URL-адрес службы приложений Azure; например `https://twitterconnector.azurewebsites.net` :.
    
    - В поле **пароль** введите или вставьте значение аписекреткэй, созданное в шаге 2.
    
    - В поле **идентификатор приложения Azure** введите или вставьте значение идентификатора приложения Azure App ID (также НАЗЫВАЕМое *идентификатором клиента*), полученное на шаге 1.

6. После успешной проверки подключения нажмите кнопку **Далее**.

7. На странице **авторизовать Microsoft 365 to Import Data (разрешить Microsoft** ) введите или вставьте аписекреткэй еще раз, а затем нажмите кнопку  **Login Web App**.

8. Щелкните **имя входа с помощью Twitter**.

9. На странице входа в Twitter Войдите в систему, используя учетные данные для учетной записи Twitter вашей организации.

   ![Вход в учетную запись Twitter](../media/TCimage42.png)

   После входа на странице Twitter отобразится следующее сообщение: "Задание соединителя Twitter успешно настроено".

10. Нажмите кнопку **продолжить** , чтобы завершить настройку соединителя Twitter.

11. На странице " **Настройка фильтров** " можно применить фильтр для начального импорта элементов с определенным сроком хранения. Выберите возраст, а затем нажмите кнопку **Далее**.

12. На странице **Выбор места хранения** введите адрес электронной почты почтового ящика Microsoft 365, в который будут импортированы элементы Twitter, а затем нажмите кнопку **Далее**.

13. На странице **предоставление разрешений администратора**щелкните **предоставить согласие** и следуйте инструкциям. Вы должны быть глобальным администратором, чтобы предоставить разрешение службе импорта Office 365 для доступа к данным в Организации.

14. Нажмите кнопку **Далее** , чтобы проверить параметры соединителя, а затем нажмите кнопку **Готово** , чтобы завершить настройку соединителя.

15. В центре соответствия требованиям откройте страницу " **соединители данных** " и перейдите на вкладку **соединители** , чтобы просмотреть ход процесса импорта.
