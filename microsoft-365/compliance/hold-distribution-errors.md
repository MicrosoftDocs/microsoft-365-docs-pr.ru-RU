---
title: Устранение ошибок удержания электронных данных
f1.keywords:
- NOCSH
ms.author: markjjo
author: markjjo
manager: laurawi
audience: Admin
ms.topic: article
ms.service: O365-seccomp
localization_priority: Normal
ms.collection: M365-security-compliance
search.appverid:
- MOE150
- MET150
ms.custom:
- seo-marvel-apr2020
description: Устранение ошибок, связанных с юридическими хранениями, применяемыми к хранителям и источникам данных, не связанным с хранением, в Core eDiscovery.
ms.openlocfilehash: 3bd417f2eb6bfb8de8d4b5ccaeb48e6ae1c888eb
ms.sourcegitcommit: 22505ce322f68a2d0ce70d71caf3b0a657fa838a
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/16/2021
ms.locfileid: "51860390"
---
# <a name="troubleshoot-ediscovery-hold-errors"></a>Устранение ошибок удержания электронных данных

В этой статье обсуждаются распространенные проблемы, которые могут возникать с помощью удерживаемого электронных обнаружений, и их устранение. В статье также содержатся рекомендации по смягчению или предотвращению этих проблем.

## <a name="recommended-practices"></a>Рекомендации

Чтобы уменьшить количество ошибок, связанных с удерживаемой электронной тайной, рекомендуется использовать следующие методы:

- Если распределение удержания еще не завершено, с состоянием либо, либо , подождите, пока распределение удержания не будет завершено, прежде чем делать `On (Pending)` `Off (Pending)` какие-либо дополнительные обновления.

- Объединяйте обновления с удержанием электронных обнаружений в одном массовом запросе вместо многократного обновления политики удержания для каждой транзакции. Например, чтобы добавить несколько почтовых ящиков пользователей в существующую политику удержания с помощью командлета [Set-CaseHoldPolicy,](/powershell/module/exchange/set-caseholdpolicy) запустите команду (или добавьте в скрипт в качестве блока кода), чтобы она запускалась только один раз, чтобы добавить несколько пользователей.

  **Правильный вариант**

    ```powershell
    Set-CaseHoldPolicy -AddExchangeLocation {$user1, $user2, $user3, $user4, $user5}
    ```

   **Неправильный вариант**

    ```powershell
    $users = {$user1, $user2, $user3, $user4, $user5}
    ForEach($user in $users)
    {
        Set-CaseHoldPolicy -AddExchangeLocation $user
    }
    ```

   В предыдущем неправильном примере для выполнения задачи для выполнения задачи будет запускаться пять раз. Дополнительные сведения о рекомендуемых практиках добавления пользователей в политику удержания см. в [разделе Дополнительные сведения.](#more-information)

- Прежде чем обращаться в службу поддержки Майкрософт по поводу проблем с удержанием электронных данных, выполните действия в разделе [Ошибка/проблема.](#errorissue-holds-dont-sync) В разделе Удержание не синхронизируйтесь, чтобы повторить распространение удержания. Этот процесс часто устраняет временные проблемы, включая внутренние ошибки сервера.

## <a name="errorissue-holds-dont-sync"></a>Ошибка/проблема. Не синхронизируются удерживаемая

Если вы видите одно из следующих сообщений об ошибке при удержании хранителей и источников данных, используйте шаги по устранению неполадок.

> Ресурсы. Развертывание политики может затметь больше времени, чем ожидалось. На обновление состояния окончательного развертывания может потребоваться дополнительно 2 часа, поэтому проверьте это в течение нескольких часов.

> Политика не может быть развернута в источнике контента из-за Office 365 центра обработки данных. Текущая политика не применяется к любому контенту в источнике, поэтому от заблокированного развертывания никакого влияния не будет. Чтобы устранить эту проблему, попробуйте перенаправить политику.

> К сожалению, мы не смогли выполнить запрашиваемое изменение политики из-за преходящей ошибки внутреннего сервера. Попробуйте еще раз через 30 минут.

### <a name="resolution"></a>Решение

1. Подключение службу безопасности & Центра соответствия требованиям [PowerShell](/powershell/exchange/connect-to-scc-powershell) и запустите следующую команду для удержания электронных данных:

   ```powershell
   Get-CaseHoldPolicy <policyname> -DistributionDetail | FL
   ```

2. Изучите значение *параметра DistributionDetail.* И посмотрите на ошибки, такие как следующие:

   > Ошибка. Ресурсы. Развертывание политики проходит дольше, чем ожидалось. На обновление состояния окончательного развертывания может потребоваться дополнительно 2 часа, поэтому проверьте это в течение нескольких часов.

3. Попробуйте запускать команду **Set-CaseHoldPolicy -RetryDistribution** в политике удержания, о чем идет речь; Например:

   ```powershell
   Set-CaseHoldPolicy <policyname> -RetryDistribution
   ```

## <a name="more-information"></a>Дополнительные сведения

- Руководство по обновлению политик удержания для нескольких пользователей в разделе "Рекомендуемые практики" приводит к тому, что система блокирует одновременные обновления в политику удержания. Это означает, что если обновленная политика удержания применяется к новым расположениям контента и политика удержания находится в состоянии ожидания, дополнительные расположения контента не могут быть добавлены в политику удержания. Вот некоторые моменты, которые необходимо помнить, чтобы помочь вам устранить эту проблему:
  
  - Каждый раз, когда обновляется удержание, оно немедленно переходит в состояние ожидания. Состояние состояния ожидания означает, что удержание применяется к расположениям контента.
  
  - Если у вас есть сценарий, который выполняет цикл и добавляет расположения в политику по одному (аналогично неправильному примеру, показанного в разделе "Рекомендуемые практики"), первое расположение контента (например, почтовый ящик пользователя) запускает процесс синхронизации, который вызывает ожидаемое состояние. Это означает, что другие пользователи, добавленные в политику в последующих циклах, могут привести к ошибке.
  
  - Если ваша организация использует скрипт, который выполняет цикл обновления расположения контента для политики удержания, необходимо обновить сценарий, чтобы он обновлял расположения в одной объемной операции (как показано в правильном примере в разделе "Рекомендуемые практики").
