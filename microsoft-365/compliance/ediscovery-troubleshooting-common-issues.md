---
title: Устранение распространенных проблем с электронным открытием
f1.keywords:
- NOCSH
ms.author: markjjo
author: markjjo
manager: laurawi
audience: Admin
ms.topic: troubleshooting
ms.service: O365-seccomp
localization_priority: Normal
ms.collection:
- Strat_O365_IP
- M365-security-compliance
search.appverid:
- MOE150
- MET150
ms.assetid: ''
description: Узнайте об основных действиях по устранению неполадок, которые можно предпринять для решения распространенных проблем в Office 365 eDiscovery.
siblings_only: true
ms.custom: seo-marvel-apr2020
ms.openlocfilehash: 0b118a97df765321704a995905de797e06a60108
ms.sourcegitcommit: 0d1b065c94125b495e9886200f7918de3bda40b3
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/08/2021
ms.locfileid: "53339422"
---
# <a name="investigate-troubleshoot-and-resolve-common-ediscovery-issues"></a>Изучение, устранение неполадок и устранение распространенных проблем с электронным открытием

В этом разделе описывается основные действия по устранению неполадок, которые можно предпринять для выявления и устранения проблем, с которыми вы можете столкнуться во время поиска по обнаружению электронных обнаружений или в других местах в процессе поиска электронной информации. Для решения некоторых из этих сценариев требуется помощь службы поддержки Майкрософт. Сведения о том, когда обращаться в службу поддержки Майкрософт, включены в действия по разрешению.

## <a name="errorissue-ambiguous-location"></a>Ошибка/проблема. Неоднозначное расположение

Если вы пытаетесь добавить расположение почтового ящика пользователя для поиска, и в каталоге Exchange Online Protection EOP имеются дублирующиеся или конфликтующие объекты: `The compliance search contains the following invalid location(s):useralias@contoso.com. The location "useralias@contoso.com" is ambiguous` .

### <a name="resolution"></a>Решение

Проверьте, есть ли повторяющиеся пользователи или список рассылки с тем же ИД пользователя.

1. Подключение [службе безопасности & Центра соответствия требованиям PowerShell](/powershell/exchange/connect-to-scc-powershell).

2. Запустите следующую команду, чтобы получить все экземпляры имени пользователя:

    ```powershell
    Get-Recipient <username>
    ```

   Выход для "useralias@contoso.com" будет похож на следующий:

   > 
   > |Имя|RecipientType|
   > |---|---|
   > |Псевдоним, пользователь|MailUser|
   > |Псевдоним, пользователь|User|

3. Если возвращается несколько пользователей, найдите и исправьте конфликтующий объект.

## <a name="errorissue-search-fails-on-specific-locations"></a>Ошибка/проблема: сбой поиска в определенных расположениях

Поиск электронных данных или контента может привести к следующей ошибке: `This search completed with (#) errors.  Would you like to retry the search on the failed locations?`

![Расположение, определенное для поиска, не удается сделать снимок экрана ошибки](../media/edisc-tshoot-specific-location-search-fails.png)

### <a name="resolution"></a>Решение

Если вы получили эту ошибку, рекомендуется проверить расположения, которые не удалось в поиске, а затем повторного поиска только в неудались расположения.

1. Подключение в Центр & безопасности [PowerShell,](/powershell/exchange/connect-to-scc-powershell) а затем запустите следующую команду:

   ```powershell
   Get-ComplianceSearch <searchname> | FL
   ```

2. На выходе PowerShell просмотреть неудачные расположения в поле ошибок или сведения о состоянии ошибки из вывода поиска.

3. Повторное поиск по обнаружению электронных обнаружений только в сбойных расположениях.

4. Если вы продолжаете получать эти ошибки, см. пункт [Retry failed locations](/Office365/SecurityCompliance/retry-failed-content-search) для получения дополнительных действий по устранению неполадок.

## <a name="errorissue-file-not-found"></a>Ошибка/проблема. Файл не найден

При запуске поиска по обнаружению электронных данных, включаемого в SharePoint Online и One Drive for Business, вы можете получить ошибку, хотя файл расположен `File Not Found` на сайте. Эта ошибка будет в предупреждениях об экспорте и errors.csv или пропущена items.csv. Это может произойти, если файл не может быть найден на сайте или если индекс устарел. Вот текст фактической ошибки (с добавленным акцентом).

> 28.06.2019 10:02:19_FailedToExportItem_Failed скачать контент. Дополнительные диагностические сведения: Microsoft. Office. Compliance.EDiscovery.ExportWorker.Exceptions.ContentDownloadTemporaryFailure: Failed to download from content 6ea52149-91cd-4965-b5bb-82ca6a3ec9be of type Document. ID корреляции: 3bd84722-937b-4c23-b61b-08d6fba9ec32. ServerErrorCode: -2147024894 ---> Microsoft. SharePoint. Client.ServerException: ***файл не найден.*** в Корпорации Майкрософт. SharePoint. Client.ClientRequest.ProcessResponseStream (Stream responseStream) в Корпорации Майкрософт. SharePoint. Client.ClientRequest.ProcessResponse() --- окончания трассировки внутреннего стека исключений ---

### <a name="resolution"></a>Решение

1. Проверьте расположение, которое определено в поиске, чтобы убедиться, что файл находится правильно и добавлен в расположениях поиска.

2. Используйте процедуры при ручном запросе обхода и повторной индексации [сайта,](/sharepoint/crawl-site-content) библиотеки или списка для повторного использования сайта.

## <a name="errorissue-this-file-wasnt-exported-because-it-doesnt-exist-anymore-the-file-was-included-in-the-count-of-estimated-search-results-because-its-still-listed-in-the-index-the-file-will-eventually-be-removed-from-the-index-and-wont-cause-an-error-in-the-future"></a>Ошибка/проблема. Этот файл не экспортируется, так как он больше не существует. Файл был включен в число предполагаемых результатов поиска, так как он по-прежнему указан в индексе. Файл в конечном итоге будет удален из индекса и не вызовет ошибку в будущем.

Вы можете увидеть эту ошибку при запуске поиска по обнаружению электронных данных, который включает SharePoint Online и One Drive For Business. eDiscovery использует индекс SPO для определения расположения файлов. Если файл был удален, но индекс SPO еще не обновлен, эта ошибка может возникнуть.

### <a name="resolution"></a>Решение 
Откройте расположение SPO и убедитесь, что этот файл действительно не существует.
Рекомендуемое решение состоит в том, чтобы вручную реиндексовать сайт или подождать, пока сайт переустановит автоматический фоновый процесс.


## <a name="errorissue-this-search-result-was-not-downloaded-as-it-is-a-folder-or-other-artifact-that-cant-be-downloaded-by-itself-any-items-inside-the-folder-or-library-will-be-downloaded"></a>Ошибка/проблема. Этот результат поиска не был скачен, так как это папка или другой артефакт, которые не могут быть загружены самостоятельно, все элементы в папке или библиотеке будут загружены.

Вы можете увидеть эту ошибку при запуске поиска по обнаружению электронных данных, который включает SharePoint Online и One Drive For Business. Это означает, что мы собирались попытаться экспортировать элемент, который был включен в индекс, но он оказался папкой, поэтому мы не экспортируем его. Как упоминалось в ошибке, мы не экспортируем элементы папок, но экспортируем их содержимое.


## <a name="errorissue-search-fails-because-recipient-is-not-found"></a>Ошибка/проблема. Поиск не удается, так как получатель не найден

Поиск по обнаружению электронных данных не удается с ошибкой `recipient not found` . Эта ошибка может возникнуть, если объект пользователя не может быть найден в Exchange Online Protection (EOP), так как объект не синхронизирован.

### <a name="resolution"></a>Решение

1. Подключитесь к [Exchange Online PowerShell](/powershell/exchange/connect-to-exchange-online-powershell).

2. Запустите следующую команду, чтобы проверить, синхронизируется ли пользователь с Exchange Online Protection:

   ```powershell
   Get-Recipient <userId> | FL
   ```

3. Должен быть объект пользователя почты для пользовательского вопроса. Если ничего не возвращается, изучите объект пользователя. Если объект не синхронизирован, обратитесь в службу поддержки Майкрософт.

## <a name="errorissue-exporting-search-results-is-slow"></a>Ошибка/проблема. Экспорт результатов поиска идет медленно

При экспорте результатов поиска из core eDiscovery или Content search в Центр соответствия требованиям Microsoft 365 загрузка занимает больше времени, чем ожидалось.  Вы можете проверить количество скачиваемых данных и, возможно, увеличить скорость экспорта.

### <a name="resolution"></a>Решение

1. Подключение в Центр & безопасности [PowerShell,](/powershell/exchange/connect-to-scc-powershell) а затем запустите следующую команду:

   ```powershell
   Get-ComplianceSearch <searchname> | FL
   ```

2. Найдите количество данных, которые будут загружены в параметрах SearchResults и SearchStatistics.

3. Выполните следующую команду:

   ```powershell
   Get-ComplianceSearchAction | FL
   ```

4. В поле результатов найдите экспортируемую информацию и просматриваем все ошибки, с которыми столкнулись.

5. Проверьте файл trace.log, расположенный в каталоге, в который экспортируется содержимое, для любых ошибок.

6. Если у вас еще есть проблемы, подумайте о разделении поисков, возвращающих большой набор результатов в меньшие поиски. Например, диапазоны дат можно использовать в поисковых запросах, чтобы вернуть меньший набор результатов, которые можно скачать быстрее.

## <a name="errorissue-export-process-not-progressing-or-is-stuck"></a>Ошибка/проблема: процесс экспорта не развивается или не застрянет

При экспорте результатов поиска из core eDiscovery или content search in the Центр соответствия требованиям Microsoft 365, процесс экспорта не развивается или, как представляется, завис.

### <a name="resolution"></a>Решение

1. При необходимости перезахоранить поиск. Если поиск был последний раз, более 7 дней назад, необходимо повторно перезахоранить поиск.

2. Перезапустите экспорт.

## <a name="errorissue-internal-server-error-500-occurred"></a>Ошибка/проблема: "Произошла ошибка внутреннего сервера (500)"

При запуске поиска по обнаружению электронных данных при постоянном сбое поиска с ошибкой, аналогичной "Ошибка внутреннего сервера (500) произошла", может потребоваться повторное повторение поиска только в определенных расположениях почтовых ящиков.

![Скриншот ошибки внутреннего сервера 500](../media/edisc-tshoot-error-500.png)

### <a name="resolution"></a>Решение

1. Разорвать поиск на меньшие поиски и запустить поиск снова.  Попробуйте использовать меньший диапазон дат или ограничить количество поисковых местоположений.

2. Подключение в Центр & безопасности [PowerShell,](/powershell/exchange/connect-to-scc-powershell) а затем запустите следующую команду:

   ```powershell Set-CaseHoldPolicy <policyname> -RetryDistribution
   Get-ComplianceSearch <searchname> | FL
   ```

3. Изучите результаты и ошибки.

4. Изучите файл trace.log. Он расположен в той же папке, в которую экспортируются результаты поиска.

5. Обратитесь в службу поддержки корпорации Майкрософт.

## <a name="errorissue-holds-dont-sync"></a>Ошибка/проблема. Не синхронизируются удерживаемая

Ошибка распределения синхронизации политики при обнаружении электронных данных. Ошибка гласит:

> "Ресурсы. Развертывание политики может затметь больше времени, чем ожидалось. На обновление окончательного состояния развертывания может потребоваться еще 2 часа, поэтому проверьте это в течение нескольких часов".

### <a name="resolution"></a>Решение

1. Подключение [центр & PowerShell,](/powershell/exchange/connect-to-scc-powershell) а затем запустите следующую команду для удержания дела об обнаружении электронных данных:

   ```powershell
   Get-CaseHoldPolicy <policyname> - DistributionDetail | FL
   ```

    Для политики хранения запустите следующую команду:

   ```powershell
   Get-RetentionCompliancePolicy <policyname> - DistributionDetail | FL
   ```

2. Изучите значение параметра DistributionDetail для ошибок, таких как следующие:

   > Ошибка. Ресурсы. Развертывание политики проходит дольше, чем ожидалось. На обновление окончательного состояния развертывания может потребоваться еще 2 часа, поэтому проверьте это в течение нескольких часов".

3. Попробуйте запускать параметр RetryDistribution для политики, определимой:

   Для дела об обнаружении электронных обнаружений:

   ```powershell
   Set-CaseHoldPolicy <policyname> -RetryDistribution
   ```

   Для политик хранения:

   ```powershell
   Set-RetentionCompliancePolicy <policyname> -RetryDistribution
   ```

4. Обратитесь в службу поддержки корпорации Майкрософт.

## <a name="error-the-condition-specified-using-http-conditional-headers-is-not-met"></a>Ошибка: "Условие, указанное с помощью условного заголовка HTTP(ы) не выполнены"

При загрузке результатов поиска с помощью экспортного средства eDiscovery можно получить следующую ошибку: это преходящая ошибка, которая обычно возникает в служба хранилища Azure `System.Net.WebException: The remote server returned an error: (412) The condition specified using HTTP conditional header(s) is not met.` расположении.

### <a name="resolution"></a>Решение

Чтобы устранить эту проблему, повторите скачивание результатов [поиска,](export-search-results.md#step-2-download-the-search-results)которые перезапустят средство экспорта электронных обнаружений.

## <a name="errorissue-downloaded-export-shows-no-results"></a>Ошибка/проблема. Загруженный экспорт не показывает результатов

После успешного экспорта завершенная загрузка с помощью средства экспорта показывает нулевые файлы в результатах.

### <a name="resolution"></a>Решение

Это клиентская проблема. Чтобы ее исправление, выполните следующие действия:

1. Попробуйте скачать с помощью другого клиента или компьютера.

2. Удалите старые поиски, которые больше не нужны с помощью [cmdlet Remove-ComplianceSearch.](/powershell/module/exchange/remove-compliancesearch)

3. Не забудьте скачать на локальный диск.

4. Убедитесь, что сканер вирусов не запущен.

5. Убедитесь, что ни один другой экспорт не загружается в ту же папку или в родительской папке.

6. Если предыдущие действия не сработают, отключим отрезок и отключим дублирование.

7. Если это работает, то проблема вызвана локальным сканером вирусов или проблемой диска.
