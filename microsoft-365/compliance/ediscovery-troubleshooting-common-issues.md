---
title: Устранение распространенных проблем с обнаружением электронных данных
f1.keywords:
- NOCSH
ms.author: markjjo
author: markjjo
manager: laurawi
audience: Admin
ms.topic: troubleshooting
ms.service: O365-seccomp
localization_priority: Normal
ms.collection:
- Strat_O365_IP
- M365-security-compliance
search.appverid:
- MOE150
- MET150
ms.assetid: ''
description: Сведения об основных этапах устранения неполадок, которые можно предпринять для решения распространенных проблем, связанных с обнаружением электронных данных в Office 365.
siblings_only: true
ms.custom: seo-marvel-apr2020
ms.openlocfilehash: 5c9d917306c1a4ffd0dd1e11e1dd87c135e94f05
ms.sourcegitcommit: 27daadad9ca0f02a833ff3cff8a574551b9581da
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/12/2020
ms.locfileid: "47545957"
---
# <a name="investigate-troubleshoot-and-resolve-common-ediscovery-issues"></a>Исследование, устранение неполадок и устранение распространенных проблем обнаружения электронных данных

В этом разделе описываются основные действия по устранению неполадок, которые можно предпринять для определения и устранения проблем, которые могут возникать во время поиска обнаружения электронных данных или в другом месте процесса обнаружения электронных данных. Для устранения некоторых из этих сценариев необходима помощь в службе поддержки Майкрософт. Сведения о том, когда следует обращаться в службу поддержки Майкрософт, приведены в разделе действия по разрешению.

## <a name="errorissue-ambiguous-location"></a>Ошибка/Ошибка: неоднозначное расположение

Если попытаться добавить в поиск расположение почтового ящика пользователя, а в каталоге Exchange Online Protection (EOP) имеются повторяющиеся или конфликтующие объекты с тем же userID, возникает следующая ошибка: `The compliance search contains the following invalid location(s):useralias@contoso.com. The location "useralias@contoso.com" is ambiguous` .

### <a name="resolution"></a>Решение

Проверьте наличие дубликатов пользователей или списка рассылки с одинаковым ИДЕНТИФИКАТОРом пользователя.

1. Подключитесь к [PowerShell центра безопасности & соответствия требованиям](https://docs.microsoft.com/powershell/exchange/connect-to-scc-powershell).

2. Выполните следующую команду, чтобы получить все экземпляры имени пользователя:

    ```powershell
    Get-Recipient <username>
    ```

   Выходные данные для "useralias@contoso.com" будут выглядеть следующим образом:

   > 
   > |Имя|RecipientType|
   > |---|---|
   > |Псевдоним, пользователь|MailUser|
   > |Псевдоним, пользователь|Пользователь|

3. Если возвращается несколько пользователей, разместите и устраните конфликтующий объект.

## <a name="errorissue-search-fails-on-specific-locations"></a>Ошибка/Ошибка: сбой поиска в определенных расположениях

Поиск обнаружения электронных данных или контента может привести к возникновению следующей ошибки:
>Поиск завершился с ошибками (#).  Вы хотите повторить поиск в расположениях с ошибками?

![Снимок экрана с расположением для поиска со сбоем](../media/edisc-tshoot-specific-location-search-fails.png)

### <a name="resolution"></a>Решение

При возникновении этой ошибки рекомендуется проверить расположения, в которых произошел сбой, а затем повторить поиск только в расположениях, на которых не удалось выполнить поиск.

1. Подключитесь к [PowerShell центра безопасности & соответствия требованиям](https://docs.microsoft.com/powershell/exchange/connect-to-scc-powershell) , а затем выполните следующую команду:

   ```powershell
   Get-ComplianceSearch <searchname> | FL
   ```

2. В выходных данных PowerShell просмотрите сведения о неудачных расположениях в поле ошибки или сведения о состоянии, указанные в сообщении об ошибке, из результатов поиска.

3. Повторите поиск обнаружения электронных данных для неудачных расположений.

4. Если вы продолжаете получать эти ошибки, обратитесь к разделу [Retry Fail Failed Locations](https://docs.microsoft.com/Office365/SecurityCompliance/retry-failed-content-search) for more Errors.

## <a name="errorissue-file-not-found"></a>Ошибка/Ошибка: файл не найден

При выполнении поиска обнаружения электронных данных, включающего SharePoint Online и один диск для размещения бизнеса, может появиться сообщение об ошибке, несмотря на то, что `File Not Found` файл находится на сайте. Эта ошибка будет присутствовать в предупреждениях экспорта, errors.csv или пропущенных items.csv. Это может произойти, если не удается найти файл на сайте или индекс устарел. Вот текст фактической ошибки (с добавленным выделением).

> 28.06.2019 10:02:19_FailedToExportItem_Failed для скачивания контента. Дополнительные диагностические сведения: Microsoft. Office. соответствие. EDiscovery. Експортворкер. Exceptions. Контентдовнлоадтемпорарифаилуре: не удалось скачать из контента 6ea52149 — 91cd – 4965 – b5bb – 82ca6a3ec9be типа Document. Идентификатор корреляции: 3bd84722-937b-4c23-b61b-08d6fba9ec32. Серверерроркоде: – 2147024894---> Microsoft. SharePoint. Client. Серверексцептион: ***файл не найден***. в Microsoft. SharePoint. Client. Клиентрекуест. Процессреспонсестреам (Stream Респонсестреам) на сайте Microsoft. SharePoint. Client. Клиентрекуест. Процессреспонсе ()---конец трассировки стека внутренних исключений---

### <a name="resolution"></a>Решение

1. Проверьте расположение, указанное в поиске, чтобы убедиться в том, что расположение файла указано правильно и добавляется в расположений для поиска.

2. Используйте процедуры при [ручном запросе на обход контента и повторной индексации сайта, библиотеки или списка](https://docs.microsoft.com/sharepoint/crawl-site-content) , чтобы переиндексировать сайт.

## <a name="errorissue-search-fails-because-recipient-is-not-found"></a>Ошибка/Ошибка: не удается выполнить поиск, так как получатель не найден

Сбой поиска обнаружения электронных данных с ошибкой `recipient not found` . Эта ошибка может возникнуть, если объект пользователя не удается найти в Exchange Online Protection (EOP), так как объект не синхронизирован.

### <a name="resolution"></a>Решение

1. Подключитесь к [Exchange Online PowerShell](https://docs.microsoft.com/powershell/exchange/connect-to-exchange-online-powershell).

2. Выполните следующую команду, чтобы проверить, синхронизирован ли пользователь с Exchange Online Protection:

   ```powershell
   Get-Recipient <userId> | FL
   ```

3. Для ответа пользователя должен быть объект пользователя почты. Если ничего не возвращается, изучите объект User. Если не удается синхронизировать объект, обратитесь в службу поддержки Майкрософт.

## <a name="errorissue-exporting-search-results-is-slow"></a>Ошибка/Ошибка: немедленный экспорт результатов поиска

При экспорте результатов поиска из обнаружения электронных данных или поиска контента в центре безопасности и соответствия требованиям Загрузка занимает больше времени, чем ожидалось.  Вы можете проверить количество загружаемых данных и, возможно, увеличить скорость экспорта.

### <a name="resolution"></a>Решение

1. Попробуйте использовать шаги, описанные в статье, чтобы [увеличить скорость загрузки](https://docs.microsoft.com/office365/securitycompliance/increase-download-speeds-when-exporting-ediscovery-results).

2. Если проблема не устранена, подключитесь к [PowerShell центра безопасности & соответствия требованиям](https://docs.microsoft.com/powershell/exchange/connect-to-scc-powershell) , а затем выполните следующую команду:

   ```powershell
   Get-ComplianceSearch <searchname> | FL
   ```

3. Найдите объем данных для загрузки в параметрах SearchResults и Сеарчстатистикс.

4. Выполните следующую команду:

   ```powershell
   Get-ComplianceSearchAction | FL
   ```

5. В поле Результаты найдите экспортированные данные и просмотрите все обнаруженные ошибки.

6. Проверьте файл Trace. log, находящийся в каталоге, в который вы экспортировали содержимое для любых ошибок.

## <a name="errorissue-internal-server-error-500-occurred"></a>Ошибка/Ошибка: ошибка "Внутренняя ошибка сервера (500)"

При выполнении поиска обнаружения электронных данных, если поиск заканчивается неудачей с ошибкой "Внутренняя ошибка сервера (500)", может потребоваться повторный поиск только в определенных расположениях почтового ящика.

![Снимок экрана "Внутренняя ошибка сервера 500"](../media/edisc-tshoot-error-500.png)

### <a name="resolution"></a>Решение

1. Разбейте Поиск на небольшие поиски и снова запустите поиск.  Попробуйте использовать меньший диапазон дат или ограничить количество искомых расположений.

2. Подключитесь к [PowerShell центра безопасности & соответствия требованиям](https://docs.microsoft.com/powershell/exchange/connect-to-scc-powershell) , а затем выполните следующую команду:

   ```powershell Set-CaseHoldPolicy <policyname> -RetryDistribution
   Get-ComplianceSearch <searchname> | FL
   ```

3. Изучите выходные данные для результатов и ошибок.

4. Изучите файл Trace. log. Он находится в той же папке, в которую вы экспортировали результаты поиска.

5. Обратитесь в службу поддержки корпорации Майкрософт.

## <a name="errorissue-holds-dont-sync"></a>Ошибка/Ошибка: удержания не синхронизируются

Ошибка распространения синхронизации политики обнаружения электронных данных для обнаружения электронных данных. Сообщение об ошибке выглядит следующим образом:

> "Resources: для развертывания политики требуется больше времени, чем ожидалось. Для обновления состояния развертывания может потребоваться еще 2 часа, поэтому выполните проверку в течение нескольких часов. "

### <a name="resolution"></a>Решение

1. Подключитесь к [PowerShell центра безопасности & соответствия требованиям](https://docs.microsoft.com/powershell/exchange/connect-to-scc-powershell) , а затем выполните следующую команду, чтобы сохранить регистр для обнаружения электронных данных:

   ```powershell
   Get-CaseHoldPolicy <policyname> - DistributionDetail | FL
   ```

    Для политики хранения выполните следующую команду:

   ```powershell
   Get-RetentionCompliancePolicy <policyname> - DistributionDetail | FL
   ```

2. Проверьте значение параметра Дистрибутиондетаил на наличие ошибок, как показано ниже.

   > Ошибка: Resources: для развертывания политики требуется больше времени, чем ожидалось. Для обновления состояния развертывания может потребоваться еще 2 часа, поэтому выполните проверку в течение нескольких часов. "

3. Попробуйте выполнить параметр Ретридистрибутион для рассматриваемой политики:

   Для дел eDiscovery содержит:

   ```powershell
   Set-CaseHoldPolicy <policyname> -RetryDistribution
   ```

   Для политик хранения:

   ```powershell
   Set-RetentionCompliancePolicy <policyname> -RetryDistribution
   ```

4. Обратитесь в службу поддержки корпорации Майкрософт.

## <a name="see-also"></a>См. также

- [Советы по предотвращению ошибок расположения контента](retry-failed-content-search.md#tips-to-avoid-content-location-errors)
