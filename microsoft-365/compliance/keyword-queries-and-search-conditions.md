---
title: Запросы ключевых слов и условия поиска контента
f1.keywords:
- NOCSH
ms.author: markjjo
author: markjjo
manager: laurawi
audience: Admin
ms.topic: reference
f1_keywords:
- ms.o365.cc.SearchQueryLearnMore
ms.service: O365-seccomp
localization_priority: Normal
ms.collection:
- Strat_O365_IP
- M365-security-compliance
- SPO_Content
search.appverid:
- MOE150
- MET150
ms.assetid: c4639c2e-7223-4302-8e0d-b6e10f1c3be3
ms.custom:
- seo-marvel-apr2020
description: Узнайте о свойствах электронной почты и файлов, которые можно искать с помощью средств поиска и eDiscovery в Microsoft 365.
ms.openlocfilehash: 6593fb6782c245781983a9766ac4d67dfe3f33e2
ms.sourcegitcommit: 4f40f5be140a23bacff6fd7b85536de14fc7d499
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/03/2021
ms.locfileid: "50084670"
---
# <a name="keyword-queries-and-search-conditions-for-content-search-and-ediscovery"></a>Запросы ключевых слов и условия поиска для поиска контента и eDiscovery

В этом разделе описаны свойства электронной почты и документов, которые можно искать в сообщениях электронной почты в Exchange Online, а также документы, хранимые на сайтах SharePoint и OneDrive для бизнеса, с помощью функции поиска контента в Центре соответствия требованиям Microsoft 365. Для поиска этих **\*** свойств также можно использовать & PowerShell Центра безопасности и соответствия требованиям . В этом разделе также описываются:
  
- Использование boolean поисковых операторов, условий поиска и других методов поисковых запросов для уточнения результатов поиска.

- Поиск типов конфиденциальных и пользовательских конфиденциальных данных в SharePoint и OneDrive для бизнеса.

- Поиск контента сайта, доступного пользователям за пределами организации

Пошаговая инструкция по созданию поиска контента см. в [этой теме.](content-search.md)

> [!NOTE]
> Поиск контента в Центре соответствия требованиям Microsoft 365 и соответствующие **\* cmdlets -ComplianceSearch** в PowerShell Центра безопасности и & соответствия требованиям используют язык запросов по ключевым словам (KQL). Дополнительные сведения см. в справочнике по [синтаксишу](https://go.microsoft.com/fwlink/?LinkId=269603)языка запросов по ключевым словам. 
  
## <a name="searchable-email-properties"></a>Доступные для поиска свойства электронного сообщения

В следующей таблице перечислены свойства сообщений электронной почты, которые можно искать с помощью функции поиска контента в Центре соответствия требованиям Microsoft 365 или с помощью **New-ComplianceSearch** или с помощью cmdlet **Set-ComplianceSearch.** Таблица включает пример синтаксиса  _property:value_ и описание результатов поиска, возвращаемых этими примерами. Эти пары можно  `property:value` ввести в поле ключевых слов для поиска контента. 

> [!NOTE]
> При поиске свойств электронной почты невозможно найти элементы, в которых указанное свойство пустое или пустое. Например, использование пары *"свойство:значение"* для поиска сообщений электронной почты с пустой строкой темы возвращает нулевые результаты.  Это также применяется при поиске свойств сайта и контактов.
  
| Свойство | Описание свойства | Примеры | Результаты поиска, возвращаемые примерами |
|:-----|:-----|:-----|:-----|
|AttachmentNames|Имена файлов, вложенных в сообщение электронной почты.|`attachmentnames:annualreport.ppt`  <br/> `attachmentnames:annual*` <br/> `attachmentnames:.pptx` |Сообщения, в которые вложен файл annualreport.ppt. Во втором примере при использовании подстановочного знака возвращаются сообщения со вложениями, в названиях которых есть слово "annual". В третьем примере возвращаются все вложения с расширением PPTX.|
|СК|Поле "Ск" сообщения электронной почты. <sup>1</sup>|`bcc:pilarp@contoso.com`  <br/> `bcc:pilarp`  <br/> `bcc:"Pilar Pinilla"`|Все примеры возвращают сообщения, в поле "Скрытая копия" которых добавлен пользователь "Pilar Pinilla".|
|Category| Категории поиска. Категории могут определяться пользователями с помощью Outlook или Outlook в Интернете (прежнее название — Outlook Web App). Возможные значения:  <br/><br/>  blue  <br/>  green  <br/>  orange  <br/>  purple  <br/>  red  <br/>  yellow|`category:"Red Category"`|Сообщения, которым в исходных почтовых ящиках назначена красная категория.|
|Cc|Поле "Ск" сообщения электронной почты. <sup>1</sup>|`cc:pilarp@contoso.com`  <br/> `cc:"Pilar Pinilla"`|В обоих примерах сообщения с Pilar Pinilla, указанными в поле "Ск".|
|Folderid|ИД (GUID) определенной папки почтового ящика. Если вы используете это свойство, не забудьте найти почтовый ящик, в который находится указанная папка. Поиск будет только в указанной папке. Поиск во вложенных папках в папке не будет. Для поиска вложенных папок необходимо использовать свойство Folderid для вложенной папки, в которая требуется найти.  <br/> Дополнительные сведения о поиске свойства Folderid и использовании сценария для получения ИД папок для определенного почтового ящика см. в поддомене "Использование поиска контента для целевых [коллекций".](use-content-search-for-targeted-collections.md)|`folderid:4D6DD7F943C29041A65787E30F02AD1F00000000013A0000`  <br/> `folderid:2370FB455F82FC44BE31397F47B632A70000000001160000 AND participants:garthf@contoso.com`|В первом примере возвращаются все элементы в указанной папке почтового ящика. Во втором примере возвращаются все элементы в указанной папке почтового ящика, отправленные или полученные garthf@contoso.com.|
|From|Отправитель электронного письма.<sup>1</sup>|`from:pilarp@contoso.com`  <br/> `from:contoso.com`|Сообщения, отправленные указанным пользователем или с указанного домена.|
|HasAttachment|Указывает, есть ли у сообщения вложение. Используйте значения **true или** **false.**|`from:pilar@contoso.com AND hasattachment:true`|Сообщения, отправленные указанным пользователем с вложениями.|
|Importance|Важность сообщения, которую отправитель может указать при отправке. По умолчанию сообщения отправляются с обычной важностью, если отправитель не укажет **высокую** или **низкую** важность.  |`importance:high`  <br/> `importance:medium`  <br/> `importance:low`|Сообщения, которым назначена высокая, средняя или низкая важность.|
|IsRead|Указывает, прочитано ли сообщение. Используйте значения **true или** **false.**|`isread:true`  <br/> `isread:false`|В первом примере возвращаются сообщения со свойством IsRead со свойством **True.** Во втором примере возвращаются сообщения со свойством IsRead со свойством **False.**|
|ItemClass|Это свойство используется для поиска определенных типов сторонних данных, импортируемых организацией в Office 365. Используйте следующий синтаксис для этого свойства:  `itemclass:ipm.externaldata.<third-party data type>*`|`itemclass:ipm.externaldata.Facebook* AND subject:contoso`  <br/> `itemclass:ipm.externaldata.Twitter* AND from:"Ann Beebe" AND "Northwind Traders"`|В первом примере возвращаются элементы Facebook, содержащие слово "contoso" в свойстве Subject. Во втором примере возвращаются элементы Twitter, которые были опубликованы Анной Beebe и содержат ключевое слово "Northwind Traders".  <br/> Полный список значений, которые можно использовать для типов сторонних данных для свойства ItemClass, см. в статье "Использование поиска контента для поиска сторонних данных, импортируемых в [Office 365".](use-content-search-to-search-third-party-data-that-was-imported.md)|
|Kind| Тип сообщения электронной почты для поиска. Возможные значения:  <br/>  contacts  <br/>  docs  <br/>  email  <br/>  externaldata  <br/>  faxes  <br/>  im  <br/>  journals  <br/>  meetings  <br/>  microsoftteams (возвращает элементы из чатов, собраний и звонков в Microsoft Teams)  <br/>  notes  <br/>  posts  <br/>  rssfeeds  <br/>  tasks  <br/>  voicemail|`kind:email`  <br/> `kind:email OR kind:im OR kind:voicemail`  <br/> `kind:externaldata`|В первом примере возвращаются сообщения электронной почты, которые соответствуют условиям поиска. Во втором примере возвращаются сообщения электронной почты, мгновенные сообщения (включая беседы и чаты Skype для бизнеса в Microsoft Teams) и голосовые сообщения, которые соответствуют условиям поиска. В третьем примере возвращаются элементы, импортируемые в почтовые ящики в Microsoft 365, из сторонних источников данных, таких как Twitter, Facebook и Cisco Jabber, которые соответствуют условиям поиска. Дополнительные сведения см. в архиве сторонних данных [в Office 365.](https://www.microsoft.com/?ref=go)|
|Участники|Все поля людей в сообщении электронной почты. Эти поля: From, To, Cc и Bcc.<sup>1</sup>|`participants:garthf@contoso.com`  <br/> `participants:contoso.com`|Сообщения, отправленные с адреса garthf@contoso.com или на него. Второй пример возвращает все сообщения, отправленные или полученные пользователем домена contoso.com.|
|Received|Дата получения сообщения адресатом.|`received:04/15/2016`  <br/> `received>=01/01/2016 AND received<=03/31/2016`|Сообщения, полученные 15 апреля 2016 г. Во втором примере возвращаются все сообщения, полученные с 1 января 2016 г. по 31 марта 2016 г.|
|Получатели|Все поля получателей в сообщении электронной почты. Эти поля: "To", "Cc" и<sup>"СК". 1</sup>|`recipients:garthf@contoso.com`  <br/> `recipients:contoso.com`|Сообщения, отправленные по адресу garthf@contoso.com. Второй пример возвращает все сообщения, адресованные любому получателю в домене contoso.com.|
|Sent|Дата отправки сообщения отправителем.|`sent:07/01/2016`  <br/> `sent>=06/01/2016 AND sent<=07/01/2016`|Сообщения, отправленные в указанный день или диапазон дат.|
|Size|Размер элемента в байтах.|`size>26214400`  <br/> `size:1..1048567`|Сообщения больше 25? МБ. Второй пример возвращает сообщения размером от 1 до 1 048 567 байт (1 МБ).|
|Subject|Текст в строке темы сообщения электронной почты.  <br/> **Примечание.** При использовании свойства Subject в запросе поиск возвращает все сообщения, в которых строка темы содержит текст, который вы ищете. Другими словами, запрос возвращает не только сообщения с точным совпадением. Например, при поиске результаты будут включать сообщения с темой  `subject:"Quarterly Financials"` "Quarterly Financials 2018".|`subject:"Quarterly Financials"`  <br/> `subject:northwind`|Сообщения, содержащие фразу "Quarterly Financials" в любом месте текста темы. Второй пример возвращает все сообщения, которые содержат слово northwind в строке темы.|
|Кому|Поле "Кому" электронного письма.<sup>1</sup>|`to:annb@contoso.com`  <br/> `to:annb ` <br/> `to:"Ann Beebe"`|Все примеры возвращают сообщения, в поле "Кому" которых указано имя "Анна Ермолаева".|
|||||
   
> [!NOTE]
> <sup>1</sup> В качестве значения свойства получателя можно использовать адрес электронной почты (также называемое именем *пользователя-пользователя* или upN), отображаемое имя или псевдоним, чтобы указать пользователя. Например, можно использовать значения annaye@contoso.com, annaye или "Анна Ермолаева".

### <a name="recipient-expansion"></a>Расширение получателей

При поиске любых свойств получателей (From, To, Cc, Bcc, Participants и Recipients) Microsoft 365 пытается расширить удостоверение каждого пользователя, насмотрев их в Azure Active Directory (Azure AD).  Если пользователь найден в Azure AD, запрос будет расширен, включив адрес электронной почты (или upN) пользователя, псевдоним, отображаемое имя и LegacyExchangeDN. Например, запрос, `participants:ronnie@contoso.com` например, расширяется до `participants:ronnie@contoso.com OR participants:ronnie OR participants:"Ronald Nelson" OR participants:"<LegacyExchangeDN>"` .

Чтобы предотвратить расширение получателей, добавьте под wild card (звездочка) в конец адреса электронной почты и используйте сокращенное доменное имя; например, обязательно `participants:"ronnie@contoso*"` заблокируете адрес электронной почты двойными кавычками.

Однако следует помнить, что предотвращение расширения получателей в поисковом запросе может привести к неотвращению соответствующих элементов в результатах поиска. Сообщения электронной почты в Exchange можно сохранить с разными текстовыми форматами в полях получателей. Расширение получателей призвано помочь устранить эту проблему, возвращая сообщения, которые могут содержать различные текстовые форматы. Поэтому предотвращение расширения получателей может привести к возвращению поискового запроса не всех элементов, которые могут быть релевантны для вашего исследования.

> [!NOTE]
> Если вам нужно просмотреть или уменьшить количество элементов, возвращенных поисковым запросом из-за расширения получателей, рассмотрите возможность использования Advanced eDiscovery. Вы можете искать сообщения (с помощью расширения получателей), добавлять их в набор для проверки, а затем использовать запросы или фильтры набора для проверки или сужение результатов. Дополнительные сведения [см. в подстройки "Сбор](collecting-data-for-ediscovery.md) данных для дела" и "Запрос данных [в наборе для проверки".](review-set-search.md)

## <a name="searchable-site-properties"></a>Свойства сайтов, доступные для поиска

В следующей таблице перечислены некоторые свойства SharePoint и OneDrive для бизнеса, которые можно искать с помощью функции поиска контента в Центре безопасности и соответствия требованиям & или с помощью **New-ComplianceSearch** или с помощью cmdlet **Set-ComplianceSearch.** Таблица включает пример синтаксиса  _property:value_ и описание результатов поиска, возвращаемых этими примерами. 
  
Полный список свойств SharePoint, которые можно искать, см. в обзоре свойств для обхода и управляемых [свойств в SharePoint.](https://go.microsoft.com/fwlink/p/?LinkId=331599) Можно искать свойства, помеченные в столбце **"Да"** в столбце "Запросимый".  
  
| Свойство | Описание свойства | Пример | Результаты поиска, возвращаемые примерами |
|:-----|:-----|:-----|:-----|
|Автор|Поле автора в документах Microsoft Office, которое сохраняется при копировании документа. Например, если пользователь создает документ и передает его по электронной почте другому пользователю, который затем загружает его в SharePoint, в документе останется исходный автор. Обязательно используйте отображаемую имя пользователя для этого свойства.|`author:"Garth Fort"`|Все документы, созданные пользователем Garth Fort.|
|ContentType|Тип контента SharePoint для элемента, например "Элемент", "Документ" или "Видео".|`contenttype:document`|Возвращаются все документы.|
|Created|Дата создания элемента.|`created>=06/01/2016`|Все элементы, созданные 1 июня 2016 г. или после нее.|
|CreatedBy|Пользователь, создавший или загрузивший элемент. Обязательно используйте отображаемую имя пользователя для этого свойства.|`createdby:"Garth Fort"`|Все элементы, созданные или отправленные пользователем Garth Fort.|
|DetectedLanguage|Язык элемента.|`detectedlanguage:english`|Все элементы на английском языке.|
|DocumentLink|Путь (URL-адрес) определенной папки на сайте SharePoint или OneDrive для бизнеса. При использовании этого свойства обязательно вы можете найти сайт, на который расположена указанная папка.  <br/> Чтобы вернуть элементы, расположенные во вложенных папках папки, указанной для свойства documentlink, необходимо добавить /в URL-адрес указанной \* папки; например,  `documentlink: "https://contoso.sharepoint.com/Shared Documents/*"`  <br/> <br/>Дополнительные сведения о поиске свойства documentlink и использовании сценария для получения URL-адресов ссылок на документы для папок на определенном сайте см. в документе "Использование поиска контента для целевых [коллекций".](use-content-search-for-targeted-collections.md)|`documentlink:"https://contoso-my.sharepoint.com/personal/garthf_contoso_com/Documents/Private"`  <br/> `documentlink:"https://contoso-my.sharepoint.com/personal/garthf_contoso_com/Documents/Shared with Everyone/*" AND filename:confidential`|В первом примере возвращаются все элементы в указанной папке OneDrive для бизнеса. Во втором примере возвращаются документы в указанной папке сайта (и все вложенные папки), содержащие слово "confidential" в имени файла.|
|FileExtension|Расширение файла; например, docx, one, pptx или xlsx.|`fileextension:xlsx`|Все файлы Excel (Excel 2007 и более поздних)|
|FileName|Имя файла.|`filename:"marketing plan"`  <br/> `filename:estimate`|Первый пример возвращает файлы с фразой "marketing plan" в заголовке. Второй пример возвращает файлы со словом "estimate" в имени файла.|
|LastModifiedTime|Дата последнего изменения элемента.|`lastmodifiedtime>=05/01/2016`  <br/> `lastmodifiedtime>=05/10/2016 AND lastmodifiedtime<=06/1/2016`|В первом примере возвращаются элементы, которые были изменены 1 мая 2016 г. или после нее. Второй пример возвращает элементы, измененные с 1 мая 2016 г. по 1 июня 2016 г.|
|ModifiedBy|Пользователь, который последним изменил элемент. Обязательно используйте отображаемую имя пользователя для этого свойства.|`modifiedby:"Garth Fort"`|Все элементы, которые последним изменил пользователь Garth Fort.|
|Path|Путь (URL-адрес) определенного сайта на сайте SharePoint или OneDrive для бизнеса.  <br/> Чтобы вернуть элементы, расположенные в папках на сайте, указанном для свойства path, необходимо добавить /в URL-адрес указанного \* сайта; например,  `path: "https://contoso.sharepoint.com/Shared Documents/*"`  <br/> <br/> **Примечание.** Использование свойства для поиска в расположениях OneDrive не возвращает файлы мультимедиа, такие как  `Path` PNG-, TIFF- или WAV-файлы, в результатах поиска. Используйте другое свойство сайта в поисковом запросе для поиска файлов мультимедиа в папках OneDrive. <br/>|`path:"https://contoso-my.sharepoint.com/personal/garthf_contoso_com/"`  <br/> `path:"https://contoso-my.sharepoint.com/personal/garthf_contoso_com/*" AND filename:confidential`|В первом примере возвращаются все элементы на указанном сайте OneDrive для бизнеса. Во втором примере возвращаются документы на указанном сайте (и папки на сайте), содержащие слово "confidential" в имени файла.|
|SharedWithUsersOWSUser|Документы, доступ к которые были представлены указанному  пользователю и отображаются на странице "Мне в общем доступе" на сайте OneDrive для бизнеса пользователя. Это документы, к ним явным образом поделились с указанным пользователем другие пользователи в вашей организации. При экспорте документов, которые соответствуют поисковому запросу, использующему свойство SharedWithUsersOWSUser, документы экспортируются из исходного расположения контента пользователя, который поделился документом с указанным пользователем. Дополнительные сведения см. в [поиске контента сайта, доступного в организации.](#searching-for-site-content-shared-within-your-organization)|`sharedwithusersowsuser:garthf`  <br/> `sharedwithusersowsuser:"garthf@contoso.com"`|В обоих примерах возвращаются все внутренние документы, которые были явно  делиться с Garth Fort и которые отображаются на странице "Мне поделились" в учетной записи OneDrive для бизнеса пользователя Garth Fort.|
|Site|URL-адрес сайта или группы сайтов в организации.|`site:"https://contoso-my.sharepoint.com"`  <br/> `site:"https://contoso.sharepoint.com/sites/teams"`|В первом примере возвращаются элементы с сайтов OneDrive для бизнеса для всех пользователей в организации. Второй пример возвращает элементы из всех сайтов группы.|
|Size|Размер элемента в байтах.|`size>=1`  <br/> `size:1..10000`|Первый пример возвращает элементы, размер которых больше 1 байта. Второй пример возвращает элементы размером от 1 до 10 000 байт.|
|Название|Заголовок документа. Свойство Title — это метаданные, указанные в Microsoft Office документах. Он отличается от имени файла документа.|`title:"communication plan"`|Любой документ, который содержит фразу "communication plan" в свойстве метаданных Title документа Office.|
|||||

## <a name="searchable-contact-properties"></a>Свойства контактов, которые можно найти

В следующей таблице перечислены индексные свойства контактов, которые можно искать с помощью поиска контента. Это свойства, которые пользователи могут настраивать для контактов (также называемых личными контактами), расположенных в личной адресной книге почтового ящика пользователя. Для поиска контактов можно выбрать почтовые ящики для поиска, а затем использовать одно или несколько свойств контакта в запросе по ключевому слову.
  
> [!TIP]
> Для поиска значений, содержащих пробелы или специальные символы, используйте двойные кавычка (" ") для содержащие фразу; например, `businessaddress:"123 Main Street"` .
  
| Свойство | Описание свойства |
|:-----|:-----|
|BusinessAddress|Адрес в свойстве **Business Address.** Это свойство также называется рабочий **адрес** на странице свойств контакта.|
|BusinessPhone|Номер телефона в любом из свойств **номера** бизнес-телефона.|
|CompanyName|Имя в **свойстве Company.**|
|Department|Имя в **свойстве Department.**|
|DisplayName|Отображаемого имени контакта. Это имя в свойстве **"Полное имя"** контакта.|
|EmailAddress|Адрес любого свойства адреса электронной почты для контакта. Пользователи могут добавлять несколько адресов электронной почты для контакта. Использование этого свойства возвратит контакты, которые соответствуют любому из адресов электронной почты контакта.|
|FileAs|Свойство **"Файл как".** Это свойство используется для указания того, как контакт указан в списке контактов пользователя. Например, контакт может быть указан как  *FirstName, LastName*  или  *LastName,FirstName*.|
|GivenName|Имя в **свойстве "Имя".**|
|HomeAddress|Адрес в любом из свойств **домашнего** адреса.|
|HomePhone|Номер телефона в любом из свойств **номера** домашнего телефона.|
|IMAddress|Свойство IM-адреса, которое обычно является адресом электронной почты, используемым для обмена мгновенными сообщениями.|
|MiddleName|Имя в **свойстве "От** имени".|
|MobilePhone|Номер телефона в свойстве **номера** мобильного телефона.|
|Nickname|Имя в **свойстве Nickname.**|
|OfficeLocation|Значение в **свойстве расположения Office** или **Office.**|
|OtherAddress|Значение свойства **Other** address.|
|Surname|Имя в свойстве **Last** name.|
|Название|Заголовок в **свойстве "Заголовок** задания".|
|||||

## <a name="searchable-sensitive-data-types"></a>Конфиденциальные типы данных, доступные для поиска

Вы можете использовать средства поиска eDiscovery в Центре соответствия требованиям Microsoft 365 для поиска конфиденциальных данных, например номеров кредитных карт или номеров социального страхования, которые хранятся в документах на сайтах SharePoint и OneDrive для бизнеса. Это можно сделать с помощью свойства и имени (или ИД) типа конфиденциальной информации в `SensitiveType` запросе ключевого слова. Например, запрос возвращает `SensitiveType:"Credit Card Number"` документы, содержащие номер кредитной карты. Запрос возвращает документы, содержащие номер социального  `SensitiveType:"U.S. Social Security Number (SSN)"` обеспечения в США.

Чтобы увидеть список типов конфиденциальной информации, которые можно  искать, перейдите к типам конфиденциальной информации классификации данных в Центре соответствия требованиям \>  Microsoft 365. Кроме того, для отображения списка типов конфиденциальной информации можно использовать в PowerShell Центра безопасности и соответствия требованиям & **get-DlpSensitiveInformationType.**
  
Дополнительные сведения о создании запросов с помощью свойства см. в форме запроса для поиска конфиденциальных данных, `SensitiveType` [хранимых на сайтах.](form-a-query-to-find-sensitive-data-stored-on-sites.md)

### <a name="limitations-for-searching-sensitive-data-types"></a>Ограничения для поиска типов конфиденциальных данных

- Для поиска пользовательских типов конфиденциальной информации необходимо указать в свойстве ИД типа конфиденциальной `SensitiveType` информации. Использование имени пользовательского типа конфиденциальной информации (как показано в примере для встроенных типов конфиденциальной информации в предыдущем разделе) не даст результатов. Используйте **столбец** Publisher  на странице "Типы конфиденциальной информации" в Центре соответствия требованиям (или свойство **Publisher** в PowerShell), чтобы различать встроенные и пользовательские типы конфиденциальной информации. Встроенные типы конфиденциальных данных имеют значение свойства `Microsoft Corporation` **Publisher.**

  Чтобы отобразить имя и ИД для пользовательских типов конфиденциальных данных в организации &, в PowerShell Центра безопасности и соответствия требованиям запустите следующую команду:

  ```powershell
  Get-DlpSensitiveInformationType | Where-Object {$_.Publisher -ne "Microsoft Corporation"} | FT Name,Id
  ```

  Затем можно использовать ИД в свойстве поиска для возврата документов, содержащих пользовательский тип конфиденциальных `SensitiveType` данных, например `SensitiveType:7e13277e-6b04-3b68-94ed-1aeb9d47de37`
  
- Для поиска конфиденциальных данных в почтовых ящиках Exchange Online нельзя использовать типы конфиденциальной информации и свойство `SensitiveType` поиска. Однако вы можете использовать политики защиты от потери данных (DLP) для защиты конфиденциальных данных электронной почты при их передаче. Дополнительные сведения [см. в обзоре политик защиты](data-loss-prevention-policies.md) от потери данных и [поиске персональных данных.](search-for-and-find-personal-data.md)
  
## <a name="search-operators"></a>Операторы поиска

Boolean search operators, such as **AND**, **OR**, and **NOT**, help you define more-precise searches by including or excluding specific words in the search query. Другие методы, такие как использование операторов свойств (например, или), кавычках, скобок и поддиансов, помогают уточнить `>=` `..` поисковый запрос. В следующей таблице перечислены операторы, позволяющие сократить или расширить область результатов поиска. 
  
| Оператор | Использование | Описание |
|:-----|:-----|:-----|
|AND|keyword1 AND keyword2|Возвращает элементы, которые включают все указанные ключевые слова  `property:value` или выражения. Например, возвратит все сообщения, отправленные Анной Beebe, которые содержали слово  `from:"Ann Beebe" AND subject:northwind` northwind в строке темы. <sup>2</sup>|
|+|keyword1 + keyword2 + keyword3|Возвращает элементы, которые содержат  *либо*  `keyword2` , либо  `keyword3`,  *а также*  `keyword1`. Следовательно, этот пример аналогичен запросу  `(keyword2 OR keyword3) AND keyword1`.  <br/> Запрос `keyword1 + keyword2` (с пробелом после символа) не такой, как при использовании **+** оператора **AND.** This query would be equivalent to  `"keyword1 + keyword2"` and return items with the exact phase  `"keyword1 + keyword2"`.|
|OR|keyword1 OR keyword2|Возвращает элементы, которые включают одно или несколько указанных ключевых слов или  `property:value` выражений. <sup>2</sup>|
|NOT|keyword1 NOT keyword2  <br/> NOT from:"Анна Ермолаева"  <br/> NOT kind:im|Исключает элементы, указанные ключевым словом или  `property:value` выражением. Во втором примере исключаются сообщения, отправленные анной Beebe. В третьем примере исключаются все сеансы обмена мгновенными сообщениями, например беседы Skype для бизнеса, сохраненные в папке почтового ящика "История бесед". <sup>2</sup>|
|-|keyword1 -keyword2|Аналогичен оператору **NOT**. Поэтому этот запрос возвращает элементы, содержащие и  `keyword1` исключающий элементы, содержащие  `keyword2` .|
|NEAR|ключевое_слово1 NEAR(n) ключевое_слово2|Возвращает элементы, в которых слова располагаются рядом друг с другом, где n — расстояние между ними. Например, возвращает любой элемент, где слово `best NEAR(5) worst` "worst" находится в пяти словах от "best". Если число не указано, расстояние по умолчанию  восемь слов. <sup>2</sup>|
|:|свойство:значение|Двоеточие (:) в синтаксис указывает, что значение искомого свойства содержит  `property:value` указанное значение. Например, выражение  `recipients:garthf@contoso.com` возвращает все сообщения, отправленные по адресу garthf@contoso.com.|
|=|property=value|То же, что и **оператор :.**|
|\<|свойство\<значение|Указывает, что значение искомого свойства меньше указанного значения.<sup>1</sup>|
|\>|свойство\>значение|Указывает, что значение искомого свойства больше указанного значения.<sup>1</sup>|
|\<=|свойство\<=значение|Указывает, что значение искомого свойства меньше или равно указанному значению.<sup>1</sup>|
|\>=|свойство\>=значение|Указывает, что значение искомого свойства больше или равно указанному значению.<sup>1</sup>|
|..|property:value1.. value2|Указывает, что значение искомого свойства больше или равно значению 1 и меньше или равно значению 2.<sup>1</sup>|
|"  "|"реальная стоимость"  <br/> subject:"Квартальное финансирование"|Используйте двойные кавычка (" ") для поиска точной фразы или термина в ключевых словах и  `property:value` поисковых запросах.|
|\*|cat\*  <br/> subject:set\*|Поиск со знаками подстановки в конце слова ищет некоторое количество символов в ключевых словах или запросах  `property:value`. Например, возвращает документы, содержащие набор слов, настройку и параметр (и другие слова, которые начинаются со  `title:set*` слова "set") в заголовке документа.  <br/><br/> **Примечание.** Можно использовать только поиск с поддиапазоном с префиксом; например, **cat \* *_ или _set* \* *_. Поиск суффиксов_* \* (cat),** поиск по infix (**c \* t)** и поиск подстроки **\* (cat) \*** не поддерживаются.|
|(  )| (реальная OR бесплатная) AND (from:contoso.com)  <br/> (IPO OR первичное) AND (биржа OR акции)  <br/> (квартальное финансирование)|Скобки объединяют логические фразы, элементы  `property:value` и ключевые слова. Например, выражение  `(quarterly financials)` возвращает элементы, которые содержат слова "quarterly" и "financials".  |
|||||
   
> [!NOTE]
> <sup>1</sup> Этот оператор используется для свойств, значения которых являются числами или датами.<br/> <sup>2</sup> Логические операторы поиска необходимо указывать прописными буквами, например **AND**. Если вы используете оператор нижнего регистра, например и **,** он будет рассматриваться как ключевое слово в поисковом запросе. 
  
## <a name="search-conditions"></a>Условия поиска

Вы можете добавить условия в поисковый запрос, чтобы сузить поиск и получить более уточненный набор результатов. Каждое условие добавляет предложение к поисковому KQL-запросу, которое создается и запускается в начале поиска.
  
[Условия для общих свойств ](#conditions-for-common-properties)

[Условия для свойств почты](#conditions-for-mail-properties)

[Условия для свойств документов](#conditions-for-document-properties)

[Операторы, используемые с условиями](#operators-used-with-conditions)

[Рекомендации по использованию условий](#guidelines-for-using-conditions)

[Примеры](#examples-of-using-conditions-in-search-queries)
  
### <a name="conditions-for-common-properties"></a>Условия для общих свойств

Создайте условие с помощью общих свойств при поиске в почтовых ящиках и на сайтах. В следующей таблице перечислены доступные свойства, которые необходимо использовать при добавлении условия.
  
| Condition | Описание |
|:-----|:-----|
|Date|Для электронной почты: дата получения сообщения адресатом или его отправки отправителем. Дата последнего изменения документа для документов.|
|Отправитель/автор|Для электронной почты: отправитель сообщения. Для документов: пользователь, указанный в поле автора в документах Office. Можно ввести несколько имен, разделенных запятой. Два или более значений, логически соединенных с помощью оператора **OR**.|
|Размер (в ветвях)|Для электронной почты и документов: размер элемента (в байтах).|
|Тема/название|Для электронной почты: текст в строке темы сообщения. Для документов: заголовок документа. Как объяснялось ранее, свойство Title является метаданными, указанными в Microsoft Office документах. Можно ввести несколько тем или названий, разделенных запятой. Два или более значений, логически соединенных с помощью оператора **OR**.|
|Метка соответствия требованиям|Для электронной почты и документов метки хранения, которые были автоматически назначены для сообщений и документов с помощью политик автоматической метки или меток хранения, которые были вручную назначены пользователями. Метки хранения используются для классификации электронной почты и документов для управления информацией и применения правил хранения на основе параметров, определенных меткой. Можно ввести часть имени метки хранения и использовать поддиаписку или полное имя метки. Дополнительные сведения о метах хранения см. в дополнительных сведениях о политиках [хранения и метах хранения.](retention.md)|
|||
  
### <a name="conditions-for-mail-properties"></a>Условия для свойств почты

Создайте условие, используя свойства почты при поиске в почтовых ящиках или общедоступных папках. В следующей таблице перечислены свойства электронной почты, которые можно использовать для условия. Эти свойства являются подмножество свойств электронной почты, которые были описаны ранее. Эти описания повторяются для вашего удобства.
  
| Condition | Описание |
|:-----|:-----|
|Тип сообщения| Тип сообщений для поиска. Это свойство совпадает со свойством Kind электронного сообщения. Возможные значения:  <br/><br/>  contacts  <br/>  docs  <br/>  email  <br/>  externaldata  <br/>  faxes  <br/>  im  <br/>  journals  <br/>  meetings  <br/>  microsoftteams  <br/>  notes  <br/>  posts  <br/>  rssfeeds  <br/>  tasks  <br/>  voicemail|
|Участники|Все поля людей в сообщении электронной почты. Это поля "От", "В", "Ск" и "СК".|
|Тип|Свойство класса сообщения для элемента электронной почты. Это то же свойство, что и свойство электронной почты ItemClass. Это также условие с несколькими значениями. Чтобы выбрать несколько классов сообщений, удерживайте клавишу **CTRL** и щелкните два или более классов сообщений в выпадаемом списке, который нужно добавить в условие. Каждый класс сообщения, выбранный в списке, будет логически подключен оператором **OR** в соответствующем поисковом запросе.  <br/> Список классов сообщений (и их соответствующих ИД класса сообщений), которые используются Exchange и которые можно выбрать в списке классов **Message,** см. в статье "Типы элементов" и "Классы [сообщений".](https://go.microsoft.com/fwlink/?linkid=848143)|
|Received|Дата получения сообщения адресатом. Это свойство совпадает со свойством Received электронного сообщения.|
|Получатели|Все поля получателей в сообщении электронной почты. Эти поля: "To", "Cc" и "Bcc".|
|Sender|Отправитель сообщения электронной почты.|
|Sent|Дата отправки сообщения отправителем. Это свойство совпадает со свойством Sent электронного сообщения.|
|Subject|Текст в строке темы сообщения электронной почты.|
|To|Получатель сообщения электронной почты в поле "To".|
|||
  
### <a name="conditions-for-document-properties"></a>Условия для свойств документов

Создайте условие, используя свойства документа при поиске документов на сайтах SharePoint и OneDrive для бизнеса. В следующей таблице перечислены свойства документа, которые можно использовать для условия. Эти свойства являются подмножество свойств сайта, которые были описаны ранее. Эти описания повторяются для вашего удобства.
  
| Condition | Описание |
|:-----|:-----|
|Автор|Поле автора в документах Microsoft Office, которое сохраняется при копировании документа. Например, если пользователь создает документ и передает его по электронной почте другому пользователю, который затем загружает его в SharePoint, в документе останется исходный автор.|
|Название|Заголовок документа. Свойство Title — это метаданные, указанные в документах Office. Он отличается от имени файла документа.|
|Created|Дата создания документа.|
|Дата последнего изменения|Дата последнего изменения документа.|
|Тип файла|Расширение файла; например, docx, one, pptx или xlsx. Это свойство совпадает со свойством FileExtension сайта.|
|||
  
### <a name="operators-used-with-conditions"></a>Операторы, используемые с условиями

При добавлении условия вы можете выбрать оператор, относящийся к типу свойства для этого условия. В следующей таблице описаны операторы, используемые с условиями, и перечислены эквиваленты, используемые в поисковых запросах.
  
| Оператор | Эквивалент запроса | Описание |
|:-----|:-----|:-----|
|After|`property>date`|Используется с условиями даты. Возвращает элементы, отправленные, полученные или измененные после указанной даты. |
|До|`property<date`|Используется с условиями даты. Возвращает элементы, отправленные, полученные или измененные до указанной даты.|
|Между|`date..date`|Используется с условиями даты и размера. При использовании с условием даты возвращает элементы, отправленные, полученные или измененные в указанный временной период. При использовании с условием размера возвращает элементы, размер которых находится в заданном диапазоне.|
|Contains any of|`(property:value) OR (property:value)`|Используется с условиями для свойств, определяющих строковые значения. Возвращает элементы, которые содержат любую часть одного или нескольких указанных строковых значений.|
|Doesn't contain any of|`-property:value`  <br/> `NOT property:value`|Используется с условиями для свойств, определяющих строковые значения. Возвращает элементы, которые не содержат ни одной части указанного строкового значения.|
|Doesn't equal any of|`-property=value`  <br/> `NOT property=value`|Используется с условиями для свойств, определяющих строковые значения. Возвращает элементы, которые не содержат определенную строку.|
|Равно|`size=value`|Возвращает элементы, которые равны указанному размеру. <sup>1</sup>|
|Equals any of|`(property=value) OR (property=value)`|Используется с условиями для свойств, определяющих строковые значения. Возвращает элементы, которые полностью совпадают с одним или несколькими указанными строковыми значениями.|
|Больше|`size>value`|Возвращает элементы, у которых указанное свойство больше указанного значения. <sup>1</sup>|
|Greater or equal|`size>=value`|Возвращает элементы, у которых указанное свойство больше или равно указанному значению. <sup>1</sup>|
|Less|`size<value`|Возвращает элементы, которые больше или равны определенному значению. <sup>1</sup>|
|Less or equal|`size<=value`|Возвращает элементы, которые больше или равны определенному значению. <sup>1</sup>|
|Not equal|`size<>value`|Возвращает элементы, не равные указанному размеру. <sup>1</sup>|
|||
   
> [!NOTE]
> <sup>1</sup> Этот оператор доступен только для условий, в которых используется свойство Size. 
  
### <a name="guidelines-for-using-conditions"></a>Рекомендации по использованию условий

При использовании условий поиска необходимо учитывать следующее:
  
- Условие логически соединяется с запросом по ключевому слову (указанному в соответствующем поле) оператором **AND**. Это означает, что элементы попадают в результаты поиска, если соответствуют как запросу по ключевому слову, так и условию. Таким образом условия помогают сузить область результатов поиска. 
    
- При добавлении двух или более уникальных условий в поисковый запрос (условия, которые указывают различные свойства), эти условия логически связываются оператором **AND.** Это означает, что возвращаются только те элементы, которые удовлетворяют всем условиям (в дополнение к любым запросам по ключевому слову). 
    
- При добавлении более одного условия для одного свойства эти условия логически соединяются с помощью оператора **OR**. Это означает, что возвращаются элементы, которые удовлетворяют запросу по ключевому слову и любому одному условию. Таким образом, группы одинаковых условий соединяются друг с другом оператором **OR**, а группы уникальных условий затем соединяются оператором **AND**. 
    
- При добавлении нескольких значений (разделенных запятой или запятой) в одно условие эти значения связываются оператором **OR.** Это означает, что элементы возвращаются, если они содержат одно из указанных значений для свойства в условии. 
    
- Поисковый запрос, созданный с помощью окна ключевых слов  и условий, отображается на странице поиска в области сведений для выбранного поиска. В запросе все справа от нотации указывает  `(c:c)` условия, добавленные в запрос. 
    
- Условия добавляют к поисковому запросу только свойства и не добавляют операторы. Поэтому в запросе, отображаемом в области подробностей, операторы не отображаются справа от  `(c:c)` нотации. Язык KQL добавляет логические операторы (в соответствии с ранее разъясненными правилами) при выполнении запроса. 
    
- Вы можете использовать управление перетаскиваниями, чтобы повторно указать порядок условий. Щелкните для условия контроль и переместите его вверх или вниз.
    
- Как уже было сказано, некоторые свойства условий дают возможность вводить несколько значений. Каждое значение логически соединяется с помощью оператора **OR**. Получившийся результат равнозначен нескольким экземплярам одного условия, каждое из которых имеет одно значение. На следующих иллюстрациях приводится пример одного условия с несколькими значениями и пример нескольких условий (для одного свойства) с одним значением. В обоих примерах один и тот же запрос:  `(filetype:docx) OR (filetype:pptx) OR (filetype:xlsx)`
    
    ![Сообщение должно соответствовать всем условиям правила. Если необходимо соответствие одному из условий, используйте отдельные правила для каждого условия. Например, если необходимо добавлять одно и тоже заявление об отказе к сообщениям с вложениями и сообщениям, которые соответствуют шаблону, создайте одно правило для каждого условия. Правило можно легко скопировать.](../media/9880aa29-d117-4531-be20-6d53f1d21341.gif)
  
    ![Несколько условий поиска для одного свойства](../media/1e63d37d-6d8d-4c9b-a509-a7e1c3a05193.gif)
  
> [!TIP]
> Если условие принимает несколько значений, мы рекомендуем использовать одно условие и указывать несколько значений (разделенных запятыми или точками с запятой). Это помогает обеспечить логику запроса, применяемую в соответствии с вашими намерениями. 
  
### <a name="examples-of-using-conditions-in-search-queries"></a>Примеры

В следующих примерах показана версия поискового запроса с условиями на основе GUI, синтаксис поискового запроса, отображающийся в области сведений выбранного поиска (который также возвращается с помощью cmdlet **Get-ComplianceSearch),** а также логика соответствующего KQL-запроса. 
  
#### <a name="example-1"></a>Пример 1

В этом примере возвращаются документы на сайтах SharePoint и OneDrive для бизнеса, содержащие номер кредитной карты, которые были изменены до 1 января 2016 г.
  
 **Графический пользовательский интерфейс**
  
![Первый пример условий поиска](../media/099515ba-d4ee-474e-af25-3aa48816b87b.gif)
  
 **Синтаксис поисковых запросов**
  
 `SensitiveType:"Credit Card Number"(c:c)(lastmodifiedtime<2016-01-01)`
  
 **Логика поисковых запросов**
  
 `SensitiveType:"Credit Card Number" AND (lastmodifiedtime<2016-01-01)`
  
#### <a name="example-2"></a>Пример 2

Этот пример возвращает элементы электронной почты или документы, содержащие ключевое слово "report", которые были отправлены или созданы до 1 апреля 2105 г. и которые содержат слово "northwind" в поле темы сообщений или в свойстве Title документов. Этот запрос исключает веб-страницы, которые соответствуют другим условиям поиска. 
  
 **Графический пользовательский интерфейс**
  
![Второй пример условий поиска](../media/fe07d495-df81-42da-8106-3cdb409c6e7f.gif)
  
 **Синтаксис поисковых запросов**
  
 `report(c:c)(date<2016-04-01)(subjecttitle:"northwind")(-filetype:aspx)`
  
 **Логика поисковых запросов**
  
 `report AND (date<2016-04-01) AND (subjecttitle:"northwind") NOT (filetype:aspx)`
  
#### <a name="example-3"></a>Пример 3

В этом примере возвращаются сообщения электронной почты или календарные собрания, отправленные в период с 12.01.2016 по 30.01.2016 и содержащие слова, которые начинаются со слова "телефон" или "смартфон".
  
 **Графический пользовательский интерфейс**
  
![Третий пример условий поиска](../media/973d45fc-0923-43d6-9d0a-25e4a625f057.gif)
  
 **Синтаксис поисковых запросов**
  
 `phone* OR smartphone*(c:c)(sent=2016-12-01..2016-11-30)(kind="email")(kind="meetings")`
  
 **Логика поисковых запросов**
  
 `phone* OR smartphone* AND (sent=2016-12-01..2016-11-30) AND ((kind="email") OR (kind="meetings"))`
  
## <a name="special-characters"></a>Специальные символы

Некоторые специальные символы не включаются в индекс поиска и поэтому недоступны для поиска. Это также включает специальные символы, которые представляют операторы поиска в поисковом запросе. Вот список специальных символов, которые либо заменяются пустым пробелом в фактическом поисковом запросе, либо вызывают ошибку поиска.

`+ - = : ! @ # % ^ & ; _ / ? ( ) [ ] { }`

## <a name="searching-for-site-content-shared-with-external-users"></a>Поиск контента сайта, который доступен внешним пользователям

Вы также можете использовать функцию "Поиск контента" в Центре безопасности & соответствия требованиям для поиска документов, хранимых на сайтах SharePoint и OneDrive для бизнеса, доступ к которых был общим для людей за пределами организации. Это позволяет определить конфиденциальные или личные данные, доступные за пределами организации. Это можно сделать с помощью свойства  `ViewableByExternalUsers` в запросе ключевого слова. Это свойство возвращает документы или сайты, доступ к которые был общим для внешних пользователей с помощью одного из следующих методов общего доступа: 
  
- Приглашение к совместному доступу, которое требует от пользователей войти в организацию в качестве пользователя, подлинность пользователя.
    
- Анонимная гостевая ссылка, которая позволяет всем, у кого есть эта ссылка, получать доступ к ресурсу без проверки подлинности.
    
Ниже приводятся примеры:
  
- Запрос возвращает все элементы, доступ к которых предоставлен людям за пределами организации и содержит номер  `ViewableByExternalUsers:true AND SensitiveType:"Credit Card Number"` кредитной карты. 
    
- Запрос возвращает список документов на всех сайтах группы в организации, к ним был общий  `ViewableByExternalUsers:true AND ContentType:document AND site:"https://contoso.sharepoint.com/Sites/Teams"` доступ внешним пользователям. 
    
> [!TIP]
> Поисковый запрос, например, может возвращать много  `ViewableByExternalUsers:true AND ContentType:document` ASPX-файлов в результатах поиска. Чтобы исключить эти (или другие типы файлов), можно использовать свойство для исключения определенных  `FileExtension` типов файлов, например  `ViewableByExternalUsers:true AND ContentType:document NOT FileExtension:aspx` . 
  
Какой контент доступен пользователям не из вашей организации? Документы на сайтах SharePoint и OneDrive для бизнеса вашей организации, к которые был общий доступ, отправив приглашение к совместному доступу или общедоступные расположения. Например, следующие действия пользователей приводят к тому, что контент будет доступным для внешних пользователей:
  
- пользователь предоставляет общий доступ к файлу или папке для определенного пользователя за пределами вашей организации;
    
- пользователь создает и отправляет ссылку на общий файл пользователю за пределами вашей организации. Эта ссылка позволяет внешнему пользователю просмотреть или изменить файл;
    
- пользователь отправляет приглашение на доступ или гостевую ссылку пользователю за пределами организации для просмотра или редактирования файла.
    
### <a name="issues-using-the-viewablebyexternalusers-property"></a>Проблемы с использованием свойства ViewableByExternalUsers

Хотя свойство представляет состояние того, является ли документ или сайт общим для внешних пользователей, существуют некоторые оговорки о том, что это свойство делает и  `ViewableByExternalUsers` не отражает. В следующих сценариях значение свойства не обновляется, а результаты запроса на поиск контента, который использует это свойство, могут  `ViewableByExternalUsers` быть неточными. 
  
- Изменения политики общего доступа, например отключение внешнего общего доступа для сайта или организации. Это свойство будет по-прежнему показывать ранее общие документы как доступные извне, даже если внешний доступ мог быть отозван.
    
- Изменение членства в группах, например добавление или удаление внешних пользователей в группы Microsoft 365 или группы безопасности Microsoft 365. Свойство не будет автоматически обновляться для элементов, к которые группа имеет доступ.
    
- Отправка приглашений к совместному доступу внешним пользователям, получатель которых не принял приглашение и, следовательно, еще не имеет доступа к содержимому.
    
В этих сценариях свойство не будет отражать текущее состояние общего доступа, пока сайт или библиотека документов не будут повторно обойдлены и  `ViewableByExternalUsers` переиндексироваться. 

## <a name="searching-for-site-content-shared-within-your-organization"></a>Поиск контента сайта, доступного в организации

Как объяснялось ранее, вы можете использовать это свойство, чтобы искать документы, доступ к которых был общим для  `SharedWithUsersOWSUser` людей в организации. Когда пользователь делится файлом (или папкой) с другим пользователем в вашей  организации, на странице "Мне был доступ" в учетной записи OneDrive для бизнеса пользователя, которому был доступ к файлу, отображается ссылка на него. Например, для поиска документов, доступ к которые был общим для Пользователя Sara Davis, можно использовать  `SharedWithUsersOWSUser:"sarad@contoso.com"` запрос. Если вы экспортируете результаты этого поиска, будут загружены исходные документы (расположенные в расположении контента человека, который поделился документами с Сарой).
  
Документы должны быть явно общими для определенного пользователя, чтобы они возвращались в результатах поиска при использовании  `SharedWithUsersOWSUser` свойства. Например, когда человек делится документом в своей учетной записи OneDrive, он может поделиться им с любыми людьми (внутри или за пределами организации), поделиться им только с людьми внутри организации или поделиться им с определенным человеком. Ниже показан снимок экрана с окном **"Общий** доступ" в OneDrive, где показаны три варианта общего доступа. 
  
![Поисковый запрос, использующий свойство SharedWithUsersOWSUser, возвращает только файлы, к ним будет возвращен доступ только для определенных людей.](../media/469a4b61-68bd-4ab0-b612-ab6302973886.png)
  
Поисковый запрос, использующий свойство, возвращает только те документы, которые совместно используются с помощью третьего параметра (доступ к ним — для определенных `SharedWithUsersOWSUser` людей). 

## <a name="searching-for-skype-for-business-conversations"></a>Поиск бесед Skype для бизнеса

Вы можете использовать следующий запрос ключевого слова для специального поиска контента в беседах Skype для бизнеса:

```powershell
kind:im
```

Предыдущий поисковый запрос также возвращает чаты из Microsoft Teams. Чтобы предотвратить это, вы можете сузить результаты поиска, чтобы включить только беседы Skype для бизнеса, используя следующий запрос ключевого слова:

```powershell
kind:im AND subject:conversation
```

Предыдущий запрос ключевого слова исключает чаты в Microsoft Teams, так как беседы Skype для бизнеса сохраняются как сообщения электронной почты со строкой темы, которая начинается со слова "Conversation".

Чтобы найти беседы Skype для бизнеса, которые произошли в определенном диапазоне дат, используйте следующий запрос ключевого слова:

```powershell
kind:im AND subject:conversation AND (received=startdate..enddate)
```

## <a name="search-tips-and-tricks"></a>Советы по поиску

- При поиске по ключевым словам не занося чувствительность к делу. Например, результаты поиска по словам **кот** и **КОТ** будут одинаковыми. 

- Boolean operators **AND**, **OR**, **NOT**, and **NEAR** must be uppercase. 

- A space between two keywords or two  `property:value` expressions is the same as using **AND**. Например, возвращает все сообщения, отправленные Сарой Вис, которые содержат слово  `from:"Sara Davis" subject:reorganization` "реорганизация" в строке темы. 

- Используйте синтаксис, который соответствует `property:value` формату. В значениях регистр не учитывается, а после оператора нельзя ставить пробел. Если имеется пробел, предполагаемым значением будет полно text search. Например, выполняется поиск "pilarp" в качестве ключевого слова, а не для сообщений, отправленных `to: pilarp` pilarp. 

- При поиске свойства получателя, например To, From, Cc или Recipients, можно использовать SMTP-адрес, псевдоним или отображаемое имя получателя. Например, можно указать значение pilarp@contoso.com, pilarp или "Pilar Pinilla".

- Можно использовать только поиск с поддиапазоном с префиксом; например, **cat \* *_ или _set* \* *_. Поиск суффиксов_* \* (cat),** поиск по infix (**c \* t)** и поиск подстроки **\* (cat) \*** не поддерживаются.

- При поиске свойства используйте двойные кавычка (" "), если значение поиска состоит из нескольких слов. Например, возвращает сообщения, содержащие бюджет в строке темы и содержащие Q1 в любом месте сообщения или в любом `subject:budget Q1` из свойств сообщения.   Using `subject:"budget Q1"` returns all messages that contain **budget Q1** anywhere in the subject line.

- Чтобы исключить из результатов поиска контент с определенным значением свойства, поставьте знак минус (-) перед именем свойства. Например, исключает `-from:"Sara Davis"` все сообщения, отправленные с инициалом Sara Davis.

- Вы можете экспортировать элементы в зависимости от типа сообщения. Например, чтобы экспортировать беседы и чаты Skype в Microsoft Teams, используйте синтаксис. `kind:im` Чтобы возвращать только сообщения электронной почты, используйте `kind:email` их. Чтобы вернуть чаты, собрания и звонки в Microsoft Teams, используйте `kind:microsoftteams` .
