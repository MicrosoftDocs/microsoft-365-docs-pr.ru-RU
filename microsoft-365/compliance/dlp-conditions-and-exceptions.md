---
title: Условия политики DLP, исключения и действия
f1.keywords:
- NOCSH
ms.author: chrfox
author: chrfox
manager: laurawi
audience: Admin
ms.topic: reference
ms.service: O365-seccomp
localization_priority: None
ms.collection: M365-security-compliance
search.appverid:
- MOE150
- MET150
recommendations: false
description: узнайте об условиях политики dlp и исключениях
ms.openlocfilehash: e85f9c1fdc19e125ef790d14e4e42d2390145fdc
ms.sourcegitcommit: 4886457c0d4248407bddec56425dba50bb60d9c4
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/03/2021
ms.locfileid: "53288351"
---
# <a name="dlp-policy-conditions-exceptions-and-actions"></a>Условия политики DLP, исключения и действия

Условия и исключения в политиках DLP определяют конфиденциальные элементы, к которых применяется политика. Действия определяют, что происходит в результате совме-

- Условия определяют, что включать
- Исключения определяют, что исключить.
- Действия определяют, что происходит в результате совме-

Большинство условий и исключений имеют одно свойство, поддерживаюное одно или несколько значений. Например, если политика DLP применяется Exchange электронной почты,  отправитель является условием, требуемого отправилю сообщения. У некоторых условий есть два свойства. Например, для условия **Заголовок сообщения включает любое из этих слов** необходимо указать в одном свойстве поле заголовка сообщения, а в другом  искомый текст. Некоторые условия или исключения не имеют свойств. Например, вложение — это **защищенное паролем** условие просто ищет вложения в сообщениях, защищенных паролем.

Действия обычно требуют дополнительных свойств. Например, когда правило политики DLP перенаправляет сообщение, необходимо указать, куда перенаправляется сообщение.
<!-- Some actions have multiple properties that are available or required. For example, when the rule adds a header field to the message header, you need to specify both the name and value of the header. When the rule adds a disclaimer to messages, you need to specify the disclaimer text, but you can also specify where to insert the text, or what to do if the disclaimer can't be added to the message. Typically, you can configure multiple actions in a rule, but some actions are exclusive. For example, one rule can't reject and redirect the same message.-->

## <a name="conditions-and-exceptions-for-dlp-policies"></a>Условия и исключения для политик DLP

В таблицах в следующих разделах описываются условия и исключения, доступные в DLP.

- [Отправители](#senders)
- [Получатели](#recipients)
- [Тема или текст сообщения](#message-subject-or-body)
- [Вложения](#attachments)
- [Заголовки сообщений](#message-headers)
- [Свойства сообщения](#message-properties)

### <a name="senders"></a>Отправители

<br>

****

|условие или исключение в DLP|параметры condition/exception в Microsoft 365 PowerShell|тип свойства|description|
|---|---|---|---|
|Отправитель —|условие: *от* <br/> исключение: *ExceptIfFrom*|Addresses|Сообщения, отправленные указанными почтовыми ящиками, пользователями почты, почтовыми контактами или Microsoft 365 группами в организации.|
|IP-адрес отправителя|условие: *SenderIPRanges*<br/> исключение: *ExceptIfSenderIPRanges*|IPAddressRanges|Сообщения, IP-адрес отправителя которых совпадает с указанным IP-адресом или находится в указанном диапазоне IP-адресов.|
|Адрес отправитель содержит слова|условие: *FromAddressContainsWords* <br/> исключение: *ExceptIfFromAddressContainsWords*|Words|Сообщения, электронный адрес отправителя которых содержит указанные слова.|
|Адрес отправителя соответствует шаблонам|условие: *FromAddressMatchesPatterns* <br/> исключение: *ExceptFromAddressMatchesPatterns*|Patterns|Сообщения, электронный адрес отправителя которых содержит текстовые шаблоны, соответствующие указанным регулярным выражениям.|
|Домен отправителя —|условие: *SenderDomainIs* <br/> исключение: *ExceptIfSenderDomainIs*|DomainName|Сообщения, в которых домен электронного адреса отправителя совпадает с указанным значением. Если необходимо найти домены отправитель, содержащие указанный домен (например, любой поддомен домена), используйте условия адресов отправитель *(FromAddressMatchesPatterns)* и укажите домен с помощью синтаксиса:   \. 'domain \. com$'.|
|Область отправитель|условие: *FromScope* <br/> исключение: *ExceptIfFromScope*|UserScopeFrom|Сообщения, отправляемые внутренними или внешними отправительами.|
|Указанные свойства отправителя включают любое из этих слов|условие: *SenderADAttributeContainsWords* <br/> исключение: *ExceptIfSenderADAttributeContainsWords*|Первое свойство:  `ADAttribute` <p> Второе свойство: `Words`|Сообщения, в которых заданный атрибут Active Directory отправителя содержит любые из указанных слов.|
|Указанные свойства отправителя совпадают с этими текстовыми шаблонами|условие: *SenderADAttributeMatchesPatterns* <br/> исключение: *ExceptIfSenderADAttributeMatchesPatterns*|Первое свойство:  `ADAttribute` <p> Второе свойство: `Patterns`|Сообщения, в которых заданный атрибут Active Directory отправителя содержит текстовые шаблоны, соответствующие указанным регулярным выражениям.|
|

### <a name="recipients"></a>Получатели

<br>

****

|условие или исключение в DLP|параметры condition/exception в Microsoft 365 PowerShell|тип свойства|description|
|---|---|---|---|
|Получатель|условие: *SentTo* <br/> исключение: *ExceptIfSentTo*|Addresses|Сообщения, в которых одним из получателей является указанный почтовый ящик, пользователь почты или почтовый контакт в организации. Получатели могут быть указаны в поле **To**, **Cc** или **Bcc** сообщения.|
|Домен получателя|условие: *RecipientDomainIs* <br/> исключение: *ExceptIfRecipientDomainIs*|DomainName|Сообщения, в которых домен адреса электронной почты получателя соответствует указанному значению.|
|Адрес получателя содержит слова|условие: *AnyOfRecipientAddressContainsWords* <br/> исключение: *ExceptIfAnyOfRecipientAddressContainsWords*|Words|Сообщения, электронный адрес получателя которых содержит указанные слова. <br/>**Примечание.** Это условие не учитывает сообщения, отправленные на прокси-адреса получателя. Сопоставляются только сообщения, отправленные на основной электронный адрес получателя.|
|Адрес получателя соответствует шаблонам|условие: *AnyOfRecipientAddressMatchesPatterns* <br/> исключение: *ExceptIfAnyOfRecipientAddressMatchesPatterns*|Patterns|Сообщения, электронный адрес получателя которых содержит текстовые шаблоны, соответствующие указанным регулярным выражениям. <br/> **Примечание.** Это условие не учитывает сообщения, отправленные на прокси-адреса получателя. Сопоставляются только сообщения, отправленные на основной электронный адрес получателя.|
|Отправлено члену|условие: *SentToMemberOf* <br/> исключение: *ExceptIfSentToMemberOf*|Addresses|Сообщения, содержащие получателей, которые являются членами указанной группы рассылки, группой безопасности с поддержкой почты или Microsoft 365 группы. Группа может быть указана в поле **To**, **Cc** или **Bcc** сообщения.|
|

### <a name="message-subject-or-body"></a>Тема или текст сообщения

<br>

****

|условие или исключение в DLP|параметры condition/exception в Microsoft 365 PowerShell|тип свойства|description|
|---|---|---|---|
|Тема содержит слова или фразы|условие: *SubjectContainsWords* <br/> исключение: *ExceptIf SubjectContainsWords*|Words|Сообщения, в которых поле Subject содержит указанные слова.|
|Тема соответствует шаблонам|условие: *SubjectMatchesPatterns* <br/> исключение: *ExceptIf SubjectMatchesPatterns*|Patterns|Сообщения, в которых поле Subject содержит текстовые шаблоны, которые соответствуют указанным регулярным выражениям.|
|Содержимое содержит|условие: *ContentContainsSensitiveInformation* <br/> исключение, *за исключениемIfContentContainsSensitiveInformation*|SensitiveInformationTypes|Сообщения или документы, содержащие конфиденциальную информацию, определяемую политиками предотвращения потери данных (DLP).|
|Шаблон совпадений субъекта или тела|условие: *SubjectOrBodyMatchesPatterns* <br/> исключение: *ExceptIfSubjectOrBodyMatchesPatterns*|Patterns|Сообщения, в которых поле субъекта или тело сообщения содержит текстовые шаблоны, которые соответствуют указанным регулярным выражениям.|
|Тема или тело содержит слова|условие: *SubjectOrBodyContainsWords* <br/> исключение: *ExceptIfSubjectOrBodyContainsWords*|Words|Сообщения с указанными словами в поле субъекта или теле сообщений|
|

### <a name="attachments"></a>Attachments

<br>

****

|условие или исключение в DLP|параметры condition/exception в Microsoft 365 PowerShell|тип свойства|description|
|---|---|---|---|
|Вложение защищено паролем|условие: *DocumentIsPasswordProtected* <br/> исключение: *ExceptIfDocumentIsPasswordProtected*|нет|Сообщения с вложениями, защищенными паролем (такие файлы нельзя проверить). Обнаружение паролей работает только для Office документов, .zip файлов и файлов .7z.|
|Расширение файла вложения|условие: *ContentExtensionMatchesWords* <br/> исключение: *ExceptIfContentExtensionMatchesWords*|Words|Сообщения, в которых расширение файла вложения совпадает с любым из указанных свойств.|
|Содержимое вложений электронной почты не удалось отсканировать|условие: *DocumentIsUnsupported* <br/>исключение: *ExceptIf DocumentIsUnsupported*|н/д|Сообщения, в которых вложение не распознается по Exchange Online.|
|Содержимое любого вложения электронной почты не завершило сканирование|условие: *ProcessingLimitExceeded* <br/> исключение: *ExceptIfProcessingLimitExceeded*|Н/д|Сообщения, для которых обработчику правил не удалось завершить сканирование вложений. С помощью этого условия можно создавать правила, которые совместно определяют и обрабатывают сообщения, содержимое которых не полностью прошло сканирование.|
|Имя документа содержит слова|условие: *DocumentNameMatchesWords* <br/> исключение: *ExceptIfDocumentNameMatchesWords*|Words|Сообщения, в которых имя файла вложения совпадает с любым из указанных слов.|
|Имя документа совпадает с шаблонами|условие: *DocumentNameMatchesPatterns* <br/> исключение: *ExceptIfDocumentNameMatchesPatterns*|Patterns|Сообщения, в которых имя файла вложения содержит текстовые шаблоны, соответствующие указанным регулярным выражениям.|
|Свойство документа|условие: *ContentPropertyContainsWords* <br/> исключение: *ExceptIfContentPropertyContainsWords*|Words|Сообщения или документы, в которых расширение файла вложения совпадает с любым из указанных слов.|
|Размер документа равен или превышает|условие: *DocumentSizeOver* <br/> исключение: *ExceptIfDocumentSizeOver*|Size|Сообщения, содержащие вложения, размер которых равен заданному или превышает его.|
|Вложение содержит любое из этих слов|условие: *DocumentContainsWords* <br/> исключение: *ExceptIfDocumentContainsWords*|`Words`|Сообщения, вложения которых содержат указанные слова.|
|Любое содержимое вложений соответствует этим текстовым шаблонам|условие: *DocumentMatchesPatterns* <br/> исключение: *ExceptIfDocumentMatchesPatterns*|`Patterns`|Сообщения, вложения которых содержат текстовые шаблоны, соответствующие указанным регулярным выражениям.|
|

### <a name="message-headers"></a>Заголовки сообщения

<br>

****

|условие или исключение в DLP|параметры condition/exception в Microsoft 365 PowerShell|тип свойства|description|
|---|---|---|---|
|Заготвка содержит слова или фразы|условие: *HeaderContainsWords* <br/> исключение: *ExceptIfHeaderContainsWords*|Таблица hash|Сообщения, которые содержат указанное поле заголовка. Значение этого поля содержит указанные слова.|
|Заголовок соответствует шаблонам|условие: *HeaderMatchesPatterns* <br/> исключение: *ExceptIfHeaderMatchesPatterns*|Таблица hash|Сообщения, которые содержат указанное поле заголовка. Значение этого поля содержит указанные регулярные выражения.|

### <a name="message-properties"></a>Свойства сообщений

<br>

****

|условие или исключение в DLP|параметры condition/exception в Microsoft 365 PowerShell|тип свойства|description|
|---|---|---|---|
|С важной важностью|условие: *WithImportance* <br/> исключение: *ExceptIfWithImportance*|Importance|Сообщения, помеченные с указанным уровнем важности.|
|Набор символов контента содержит слова|условие: *ContentCharacterSetContainsWords* <br/> *КромеIfContentCharacterSetContainsWords*|CharacterSets|Сообщения с какими-либо из указанных кодировок.|
|Переопределения отправитель|условие: *HasSenderOverride* <br/> исключение: *ExceptIfHasSenderOverride*|Н/д|Сообщения, в которых отправитель решил переопредить политику предотвращения потери данных (DLP). Дополнительные сведения о политиках DLP см. в дополнительных сведениях [о предотвращении потери данных](./dlp-learn-about-dlp.md)|
|Совпадения типов сообщений|условие: *MessageTypeMatches* <br/> исключение: *ExceptIfMessageTypeMatches*|MessageType|Сообщения указанного типа.|
|Размер сообщения превышает или равен|условие: *MessageSizeOver* <br/> исключение: *ExceptIfMessageSizeOver*|`Size`|Сообщения, общий размер которых (сообщение и вложения) равен заданному или превышает его. **Примечание.** Ограничения размера сообщений в почтовых ящиках оцениваются перед правилами потока почты. Слишком большое для почтового ящика сообщение будет отклонено до того, как правило с этим условием сможет действовать в сообщении.|
|

## <a name="actions-for-dlp-policies"></a>Действия для политик DLP

В этой таблице описываются действия, доступные в DLP.

<br>

****

|действие в DLP|параметры действий в Microsoft 365 PowerShell|тип свойства|description|
|---|---|---|---|
|Заготвка set|SetHeader|Первое свойство: *Имя загона* </br> Второе свойство: *Значение загона*|Параметр SetHeader указывает действие для правила DLP, которое добавляет или изменяет поле и значение заголовок сообщения. Этот параметр использует синтаксис "HeaderName:HeaderValue". Можно указать несколько имен и пар значений, разделенных запятой|
|Удаление загона|RemoveHeader|Первое свойство: *MessageHeaderField*</br> Второе свойство: *String*|Параметр RemoveHeader указывает действие для правила DLP, которое удаляет поле заголовок из заголовок сообщения. Этот параметр использует синтаксис "HeaderName" или "HeaderName:HeaderValue". Можно указать несколько имен или имен и пар значений, разделенных запятой.|
|Перенаправление сообщения конкретным пользователям|*RedirectMessageTo*|Addresses|Перенаправляет сообщение указанным получателям. Сообщение не доставляется исходным получателям. При этом никакие уведомления не отправляются ни отправителю, ни исходным получателям.|
|Переад. сообщение для утверждения руководителю отправи-|Умеренно|Первое свойство: *ModerateMessageByManager*</br> Второе свойство: *Boolean*|Параметр Moderate указывает действие для правила DLP, которое отправляет сообщение электронной почты модератору. Этот параметр использует синтаксис: @{ModerateMessageByManager = <$true \| $false>;|
|Переад. сообщение для утверждения конкретным утверждениям|Умеренно|Первое свойство: *ModerateMessageByUser*</br>Второе свойство: *адреса*|Параметр Moderate указывает действие для правила DLP, которое отправляет сообщение электронной почты модератору. Этот параметр использует синтаксис: @{ ModerateMessageByUser = @("emailaddress1","emailaddress2",..."emailaddressN")}|
|Добавление получателя|AddRecipients|Первое свойство: *Поле*</br>Второе свойство: *адреса*|Добавляет одного или несколько получателей в поле To/Cc/Bcc сообщения. Этот параметр использует синтаксис: @{<AddToRecipients \| CopyTo \| BlindCopyTo> = "emailaddress"}|
|Добавление диспетчера отправитель в качестве получателя|AddRecipients|Первое свойство: *AddedManagerAction*</br>Второе свойство: *Поле*|Добавляет руководителя отправителя к сообщению в качестве получателя указанного типа (To, Cc, Bcc) или перенаправляет сообщение руководителю отправителя, не уведомляя ни отправителя, ни получателя. Это действие работает только в том случае, если атрибут Диспетчер отправитель определен в Active Directory. Этот параметр использует синтаксис: @{AddManagerAsRecipientType = "<\| Cc \| Bcc>"}|
Prepend subject|PrependSubject|Строка|Добавляет указанный текст в начало поля Subject сообщения. Рекомендуем добавить пробел или двоеточие (:) в конце указанного текста, чтобы отделить его от исходного текста темы.</br>Чтобы не допустить добавления той же строки в сообщения, которые уже содержат текст в субъекте (например, ответы), добавьте исключение "Тема содержит слова" (ExceptIfSubjectContainsWords).|
|Применение заявления об отказе от HTML|ApplyHtmlDisclaimer|Первое свойство: *Текст*</br>Второе свойство: *расположение*</br>Третье свойство: *действие Fallback*|Применяет указанный отказ HTML к необходимому расположению сообщения.</br>Этот параметр использует синтаксис: @{ Text = " ; Расположение = <приложение \| Prepend>; FallbackAction = <Wrap \| Ignore \| Reject> }|
|Удаление шифрование сообщений Office 365 и защиты прав|RemoveRMSTemplate|н/д|Удаляет Office 365 шифрование, примененное в электронной почте|
|
