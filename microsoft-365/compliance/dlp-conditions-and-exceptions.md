---
title: Условия политики DLP, исключения и действия (предварительный просмотр)
f1.keywords:
- NOCSH
ms.author: chrfox
author: chrfox
manager: laurawi
audience: Admin
ms.topic: article
ms.service: O365-seccomp
localization_priority: None
ms.collection: M365-security-compliance
search.appverid:
- MOE150
- MET150
description: узнайте об условиях политики dlp и исключениях
ms.openlocfilehash: 93311ec369f8dd240b1e76c9e29ef8cc0a144cc2
ms.sourcegitcommit: 06d9e056eabfbac8fafe66cc32907b33d4ae8253
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/12/2021
ms.locfileid: "50741372"
---
# <a name="dlp-policy-conditions-exceptions-and-actions-preview"></a>Условия политики DLP, исключения и действия (предварительный просмотр)

Условия и исключения в политиках DLP определяют конфиденциальные элементы, к которых применяется политика. Действия определяют, что происходит в результате совме-

- Условия определяют, что включать
- Исключения определяют, что исключить.
- Действия определяют, что происходит в результате совме-
 
Большинство условий и исключений имеют одно свойство, поддерживаюное одно или несколько значений. Например, если политика DLP применяется к электронным письмам Exchange, отправитель должен требовать отправитель сообщения.  У некоторых условий есть два свойства. Например, для условия **Заголовок сообщения включает любое из этих слов** необходимо указать в одном свойстве поле заголовка сообщения, а в другом  искомый текст. Некоторые условия или исключения не имеют свойств. Например, вложение — это **защищенное паролем** условие просто ищет вложения в сообщениях, защищенных паролем.

Действия обычно требуют дополнительных свойств. Например, когда правило политики DLP перенаправляет сообщение, необходимо указать, куда перенаправляется сообщение. 
<!-- Some actions have multiple properties that are available or required. For example, when the rule adds a header field to the message header, you need to specify both the name and value of the header. When the rule adds a disclaimer to messages, you need to specify the disclaimer text, but you can also specify where to insert the text, or what to do if the disclaimer can't be added to the message. Typically, you can configure multiple actions in a rule, but some actions are exclusive. For example, one rule can't reject and redirect the same message.-->

## <a name="conditions-and-exceptions-for-dlp-policies"></a>Условия и исключения для политик DLP

В таблицах в следующих разделах описываются условия и исключения, доступные в DLP.

- [Отправители](#senders)
- [Получатели](#recipients)
- [Тема или текст сообщения](#message-subject-or-body)
- [Вложения](#attachments)
- [Заголовки сообщений](#message-headers)
- [Свойства сообщения](#message-properties)

### <a name="senders"></a>Senders


|**условие или исключение в DLP**  |**Параметры условия и исключения в Microsoft 365 PowerShell** |**тип свойства**  |**description**|
|---------|---------|---------|---------|
|Отправитель |условие: *от* <br/> исключение: *ExceptIfFrom*      |Addresses |     Сообщения, отправленные указанными почтовыми ящиками, пользователями почты, почтовыми контактами или группами Microsoft 365 в организации.|
|IP-адрес отправителя     |условие: *SenderIPRanges*<br/> исключение: *ExceptIfSenderIPRanges*         |  IPAddressRanges       | Сообщения, IP-адрес отправителя которых совпадает с указанным IP-адресом или находится в указанном диапазоне IP-адресов.       |
|Адрес отправитель содержит слова   | условие: *FromAddressContainsWords* <br/> исключение: *ExceptIfFromAddressContainsWords*        |   Words      |   Сообщения, электронный адрес отправителя которых содержит указанные слова.|
| Адреса отправитель совпадают с шаблонами    | условие: *FromAddressMatchesPatterns* <br/> исключение: *ExceptFromAddressMatchesPatterns*       |      Patterns   |  Сообщения, электронный адрес отправителя которых содержит текстовые шаблоны, соответствующие указанным регулярным выражениям.  |
|Домен отправитель  |  условие: *SenderDomainIs* <br/> исключение: *ExceptIfSenderDomainIs*       |DomainName         |     Сообщения, в которых домен электронного адреса отправителя совпадает с указанным значением. Если необходимо найти домены отправитель, содержащие указанный домен (например, любой поддомен домена), используйте условия адресов отправитель *(FromAddressMatchesPatterns)* и укажите домен с помощью синтаксиса:   \. 'domain \. com$'.    |
|Область отправитель    | условие: *FromScope* <br/> исключение: *ExceptIfFromScope*    | UserScopeFrom    |    Сообщения, отправляемые внутренними или внешними отправительами.    |

### <a name="recipients"></a>Получатели

|**условие или исключение в DLP**| **Параметры условия и исключения в Microsoft 365 PowerShell** |    **тип свойства** | **description**|
|---------|---------|---------|---------|
|Получатель|  условие: *SentTo* <br/> исключение: *ExceptIfSentTo* | Addresses | Сообщения, в которых одним из получателей является указанный почтовый ящик, пользователь почты или почтовый контакт в организации. Получатели могут быть указаны в поле **To**, **Cc** или **Bcc** сообщения.|
|Домен получателя|   условие: *RecipientDomainIs* <br/> исключение: *ExceptIfRecipientDomainIs* |   DomainName |    Сообщения, в которых домен электронного адреса отправителя совпадает с указанным значением.|
|Адрес получателя содержит слова|  условие: *AnyOfRecipientAddressContainsWords* <br/> исключение: *ExceptIfAnyOfRecipientAddressContainsWords*|  Words|  Сообщения, электронный адрес получателя которых содержит указанные слова. <br/>**Примечание.** Это условие не учитывает сообщения, отправленные на прокси-адреса получателя. Сопоставляются только сообщения, отправленные на основной электронный адрес получателя.|
|Шаблоны адресов получателей совпадают| условие: *AnyOfRecipientAddressMatchesPatterns* <br/> исключение: *ExceptIfAnyOfRecipientAddressMatchesPatterns*| Patterns    |Сообщения, электронный адрес получателя которых содержит текстовые шаблоны, соответствующие указанным регулярным выражениям. <br/> **Примечание.** Это условие не учитывает сообщения, отправленные на прокси-адреса получателя. Сопоставляются только сообщения, отправленные на основной электронный адрес получателя.|
|Отправлено члену| условие: *SentToMemberOf* <br/> исключение: *ExceptIfSentToMemberOf*|  Addresses|  Сообщения, содержащие получателей, которые являются членами указанной группы рассылки, группой безопасности с поддержкой почты или группой Microsoft 365. Группа может быть указана в поле **To**, **Cc** или **Bcc** сообщения.|

### <a name="message-subject-or-body"></a>Тема или текст сообщения

|**условие или исключение в DLP** | **Параметры условия и исключения в Microsoft 365 PowerShell** |**тип свойства**| **description**|
|---------|---------|---------|---------|
|Тема содержит слова или фразы| условие: *SubjectContainsWords* <br/> исключение: *ExceptIf SubjectContainsWords*| Words   |Сообщения, в которых поле Subject содержит указанные слова.|
|Шаблоны совпадений субъектов|условие: *SubjectMatchesPatterns* <br/> исключение: *ExceptIf SubjectMatchesPatterns*|Patterns   |Сообщения, в которых поле Subject содержит текстовые шаблоны, которые соответствуют указанным регулярным выражениям.|
|Содержимое содержит|  условие: *ContentContainsSensitiveInformation* <br/> исключение, *за исключениемIfContentContainsSensitiveInformation*| SensitiveInformationTypes|  Сообщения или документы, содержащие конфиденциальную информацию, определяемую политиками предотвращения потери данных (DLP).|
| Шаблон совпадений субъекта или тела    | условие: *SubjectOrBodyMatchesPatterns* <br/> исключение: *ExceptIfSubjectOrBodyMatchesPatterns*    | Patterns    | Сообщения, в которых поле субъекта или тело сообщения содержит текстовые шаблоны, которые соответствуют указанным регулярным выражениям.    |
| Тема или тело содержит слова    | условие: *SubjectOrBodyContainsWords* <br/> исключение: *ExceptIfSubjectOrBodyContainsWords*    | Words    | Сообщения с указанными словами в поле субъекта или теле сообщений    |


### <a name="attachments"></a>Attachments

|**условие или исключение в DLP**| **Параметры условия и исключения в Microsoft 365 PowerShell**| **тип свойства**   |**description**|
|---------|---------|---------|---------|
|Вложение защищено паролем|условие: *DocumentIsPasswordProtected* <br/> исключение: *ExceptIfDocumentIsPasswordProtected*|Нет| Сообщения с вложениями, защищенными паролем (такие файлы нельзя проверить). Обнаружение паролей работает только для документов Office, файлов zip и файлов .7z.|
|Расширение файла вложения|условие: *ContentExtensionMatchesWords* <br/> исключение: *ExceptIfContentExtensionMatchesWords*|  Words   |Сообщения, в которых расширение файла вложения совпадает с любым из указанных свойств.|
|Содержимое вложений электронной почты не удалось отсканировать|условие: *DocumentIsUnsupported* <br/>исключение: *ExceptIf DocumentIsUnsupported*|   Н/д|    Сообщения, в которых вложение не распознается в Exchange Online.|
|Содержимое любого вложения электронной почты не завершило сканирование|   условие: *ProcessingLimitExceeded* <br/> исключение: *ExceptIfProcessingLimitExceeded*|    Н/д |Сообщения, для которых обработчику правил не удалось завершить сканирование вложений. С помощью этого условия можно создавать правила, которые совместно определяют и обрабатывают сообщения, содержимое которых не полностью прошло сканирование.|
|Имя документа содержит слова|условие: *DocumentNameMatchesWords* <br/> исключение: *ExceptIfDocumentNameMatchesWords* |Words  |Сообщения, в которых имя файла вложения совпадает с любым из указанных слов.|
|Имя документа совпадает с шаблонами|условие: *DocumentNameMatchesPatterns* <br/> исключение: *ExceptIfDocumentNameMatchesPatterns*|    Patterns    |Сообщения, в которых имя файла вложения содержит текстовые шаблоны, соответствующие указанным регулярным выражениям.|
|Свойство документа|условие: *ContentPropertyContainsWords* <br/> исключение: *ExceptIfContentPropertyContainsWords* |Words| Сообщения или документы, в которых расширение файла вложения совпадает с любым из указанных слов.|
|Размер документа равен или превышает| условие: *DocumentSizeOver* <br/> исключение: *ExceptIfDocumentSizeOver*|    Size    |Сообщения, содержащие вложения, размер которых равен заданному или превышает его.|

### <a name="message-headers"></a>Заголовки сообщения

|**условие или исключение в DLP**| **Параметры условия и исключения в Microsoft 365 PowerShell**| **тип свойства**|  **description**|
|---------|---------|---------|---------|
|Заготвка содержит слова или фразы|условие: *HeaderContainsWords* <br/> исключение: *ExceptIfHeaderContainsWords*|  Таблица hash  |Сообщения, которые содержат указанное поле заголовка. Значение этого поля содержит указанные слова.|
|Заготвка соответствует шаблонам|   условие: *HeaderMatchesPatterns* <br/> исключение: *ExceptIfHeaderMatchesPatterns*|    Таблица hash  |Сообщения, которые содержат указанное поле заголовка. Значение этого поля содержит указанные регулярные выражения.|

### <a name="message-properties"></a>Свойства сообщения

|**условие или исключение в DLP**| **Параметры условия и исключения в Microsoft 365 PowerShell**| **тип свойства**   |**description**|
|---------|---------|---------|---------|
|Размер сообщения более|условие: *MessageSizeOver* <br/> исключение: *ExceptIfMessageSizeOver*| Size    |Сообщения, общий размер которых (сообщение и вложения) равен заданному или превышает его. <br/>**Примечание.** Сначала выполняется проверка согласно ограничениям на размер сообщений, и только потом  согласно правилам потока обработки почты. Отправка слишком большого для почтового ящика сообщения будет отклонена прежде, чем сработает правило с соответствующим условием.  |
| С важной важностью    | условие: *WithImportance* <br/> исключение: *ExceptIfWithImportance*    | Importance    | Сообщения, помеченные с указанным уровнем важности.    |
| Набор символов контента содержит слова    | условие: *ContentCharacterSetContainsWords* <br/> *КромеIfContentCharacterSetContainsWords*    | CharacterSets    | Сообщения с какими-либо из указанных кодировок.    |
| Переопределения отправитель    | условие: *HasSenderOverride* <br/> исключение: *ExceptIfHasSenderOverride*    | Н/д    | Сообщения, в которых отправитель решил переопредить политику предотвращения потери данных (DLP). Дополнительные сведения о политиках DLP см. в таблице [Предотвращение потери данных.](https://docs.microsoft.com/microsoft-365/compliance/data-loss-prevention-policies)   |
| Совпадения типов сообщений    | условие: *MessageTypeMatches* <br/> исключение: *ExceptIfMessageTypeMatches*    | MessageType    | Сообщения указанного типа.    |

## <a name="actions-for-dlp-policies"></a>Действия для политик DLP

В этой таблице описываются действия, доступные в DLP.


|**действие в DLP**|**параметры действия в Microsoft 365 PowerShell**|**тип свойства**|**description**|
|---------|---------|---------|---------|
|Заготвка set|SetHeader|Первое свойство: *Имя загона* </br> Второе свойство: *Значение загона*|Параметр SetHeader указывает действие для правила DLP, которое добавляет или изменяет поле и значение заголовок сообщения. Этот параметр использует синтаксис "HeaderName:HeaderValue". Можно указать несколько имен и пар значений, разделенных запятой|
|Удаление загона| RemoveHeader| Первое свойство: *MessageHeaderField*</br> Второе свойство: *String*|  Параметр RemoveHeader указывает действие для правила DLP, которое удаляет поле заголовок из заголовок сообщения. Этот параметр использует синтаксис "HeaderName" или "HeaderName:HeaderValue". Можно указать несколько имен или имен и пар значений, разделенных запятой.|
|Перенаправление сообщения конкретным пользователям|*RedirectMessageTo*|Addresses| Перенаправляет сообщение указанным получателям. Сообщение не доставляется исходным получателям. При этом никакие уведомления не отправляются ни отправителю, ни исходным получателям.|
|Переад. сообщение для утверждения руководителю отправи-| Средний|Первое свойство: *ModerateMessageByManager*</br> Второе свойство: *Boolean*|Параметр Moderate указывает действие для правила DLP, которое отправляет сообщение электронной почты модератору. Этот параметр использует синтаксис: @{ModerateMessageByManager = <$true \| $false>;|
|Переад. сообщение для утверждения конкретным утверждениям| Средний|Первое свойство: *ModerateMessageByUser*</br>Второе свойство: *адреса*|Параметр Moderate указывает действие для правила DLP, которое отправляет сообщение электронной почты модератору. Этот параметр использует синтаксис: @{ ModerateMessageByUser = @("emailaddress1","emailaddress2",..."emailaddressN")}|
|Добавление получателя|AddRecipients|Первое свойство: *Поле*</br>Второе свойство: *адреса*| Добавляет одного или несколько получателей в поле To/Cc/Bcc сообщения. Этот параметр использует синтаксис: @{<AddToRecipients \| CopyTo \| BlindCopyTo> = "emailaddress"}|
|Добавление диспетчера отправитель в качестве получателя|AddRecipients | Первое свойство: *AddedManagerAction*</br>Второе свойство: *Поле* | Добавляет диспетчер отправитель в сообщение в виде указанного типа получателя (To, Cc, Bcc) или перенаправляет сообщение руководителю отправитель, не уведомив отправитель или получателя. Это действие работает только в том случае, если атрибут Диспетчер отправитель определен в Active Directory. Этот параметр использует синтаксис: @{AddManagerAsRecipientType = "<\| Cc \| Bcc>"}|    
Prepend subject    |PrependSubject    |String    |Добавляет указанный текст в начало поля Subject сообщения. Рекомендуем добавить пробел или двоеточие (:) в конце указанного текста, чтобы отделить его от исходного текста темы.</br>Чтобы не допустить добавления той же строки в сообщения, которые уже содержат текст в субъекте (например, ответы), добавьте исключение "Тема содержит слова" (ExceptIfSubjectContainsWords).    |
Применение заявления об отказе от HTML    |ApplyHtmlDisclaimer    |Первое свойство: *Текст*</br>Второе свойство: *расположение*</br>Третье свойство: *действие Fallback*    |Применяет указанный отказ HTML к необходимому расположению сообщения.</br>Этот параметр использует синтаксис: @{ Text = " ; Расположение = <приложение \| Prepend>; FallbackAction = <Wrap \| Ignore \| Reject> }




