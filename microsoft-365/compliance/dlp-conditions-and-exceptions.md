---
title: Условия политики DLP, исключения и действия (Предварительная версия)
f1.keywords:
- NOCSH
ms.author: chrfox
author: chrfox
manager: laurawi
audience: Admin
ms.topic: article
ms.service: O365-seccomp
localization_priority: None
ms.collection: M365-security-compliance
search.appverid:
- MOE150
- MET150
description: сведения об условиях и исключениях политики защиты от потери данных
ms.openlocfilehash: 5c2c8e010047c2de05cc8422da1958e2fe5fc54c
ms.sourcegitcommit: d859ea36152c227699c1786ef08cda5805ecf7db
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/09/2020
ms.locfileid: "49604219"
---
# <a name="dlp-policy-conditions-exceptions-and-actions-preview"></a>Условия политики DLP, исключения и действия (Предварительная версия)

Условия и исключения в политиках защиты от потери данных определяют конфиденциальные элементы, к которым применяется политика. Действия определяют, что происходит при выполнении условия исключения.

- Условия определяют, что следует включить
- Исключения определяют объекты, которые следует исключить.
- Действия определяют, что происходит при выполнении условия или исключения
 
Большинство условий и исключений имеют одно свойство, поддерживающее одно или несколько значений. Например, если политика защиты от потери данных применяется к сообщениям электронной почты Exchange, то условие **отправителя** требует отправителя сообщения. У некоторых условий есть два свойства. Например, для условия **Заголовок сообщения включает любое из этих слов** необходимо указать в одном свойстве поле заголовка сообщения, а в другом  искомый текст. Некоторые условия или исключения не имеют свойств. Например, **вложение защищено паролем** , просто ищет вложения в сообщениях, защищенных паролем.

Для действий обычно требуются дополнительные свойства. Например, когда правило политики DLP перенаправляет сообщение, необходимо указать, куда будет перенаправлено сообщение. 
<!-- Some actions have multiple properties that are available or required. For example, when the rule adds a header field to the message header, you need to specify both the name and value of the header. When the rule adds a disclaimer to messages, you need to specify the disclaimer text, but you can also specify where to insert the text, or what to do if the disclaimer can't be added to the message. Typically, you can configure multiple actions in a rule, but some actions are exclusive. For example, one rule can't reject and redirect the same message.-->

## <a name="conditions-and-exceptions-for-dlp-policies"></a>Условия и исключения для политик защиты от потери данных

В таблицах в следующих разделах описываются условия и исключения, доступные в DLP.

- [Отправители](#senders)
- [Получатели](#recipients)
- [Тема или текст сообщения](#message-subject-or-body)
- [Вложения](#attachments)
- [Заголовки сообщений](#message-headers)
- [Свойства сообщения](#message-properties)

### <a name="senders"></a>Senders


|**условие или исключение в DLP**  |**параметры Condition/Exception в Microsoft 365 PowerShell** |**Тип свойства**  |**description**|
|---------|---------|---------|---------|
|Sender (отправитель) |условие: *from* <br/> исключение: *ексцептиффром*      |Addresses |     Сообщения, отправленные указанными почтовыми ящиками, почтовыми пользователями, почтовыми контактами или группами Microsoft 365 в Организации.|
|IP-адрес отправителя     |условие: *SenderIPRanges*<br/> исключение: *ексцептифсендерипранжес*         |  ипаддрессранжес       | Сообщения, IP-адрес отправителя которых совпадает с указанным IP-адресом или находится в указанном диапазоне IP-адресов.       |
|Адрес отправителя содержит слова   | условие: *FromAddressContainsWords* <br/> исключение: *ExceptIfFromAddressContainsWords*        |   Words      |   Сообщения, электронный адрес отправителя которых содержит указанные слова.|
| Адрес отправителя соответствует шаблонам    | условие: *FromAddressMatchesPatterns* <br/> исключение: *ексцептфромаддрессматчеспаттернс*       |      Patterns   |  Сообщения, электронный адрес отправителя которых содержит текстовые шаблоны, соответствующие указанным регулярным выражениям.  |
|Домен отправителя  |  условие: *SenderDomainIs* <br/> исключение: *ексцептифсендердомаинис*       |DomainName         |     Сообщения, в которых домен электронного адреса отправителя совпадает с указанным значением. Если необходимо найти домены отправителей, *содержащие* указанный домен (например, любой поддомен домена), используйте условие **соответствия адресов отправителя**(*FromAddressMatchesPatterns*) и укажите домен, используя синтаксис: " \. domain \. com $".    |
|Область отправителя    | условие: *FromScope* <br/> исключение: *ексцептиффромскопе*    | усерскопефром    |    Сообщения, отправленные внутренними или внешними отправителями.    |

### <a name="recipients"></a>Получатели

|**условие или исключение в DLP**| **параметры Condition/Exception в Microsoft 365 PowerShell** |    **Тип свойства** | **description**|
|---------|---------|---------|---------|
|Получатель|  условие: *SentTo* <br/> исключение: *ексцептифсентто* | Addresses | Сообщения, в которых один из получателей относится к указанному почтовому ящику, почтовому пользователю или почтовому контакту в Организации. Получатели могут быть указаны в поле **To**, **Cc** или **Bcc** сообщения.|
|Домен получателя|   условие: *реЦипиентдомаинис* <br/> исключение: *ексцептифреЦипиентдомаинис* |   DomainName |    Сообщения, в которых домен электронного адреса отправителя совпадает с указанным значением.|
|Адрес получателя содержит слова|  условие: *RecipientAddressContainsWords* <br/> исключение: *ExceptIfRecipientAddressContainsWords*|    Words|  Сообщения, электронный адрес получателя которых содержит указанные слова. <br/>**Примечание.** Это условие не учитывает сообщения, отправленные на прокси-адреса получателя. Сопоставляются только сообщения, отправленные на основной электронный адрес получателя.|
|Адрес получателя соответствует шаблонам| условие: *реЦипиентаддрессматчеспаттернс* <br/> исключение: *ексцептифреЦипиентаддрессматчеспаттернс*|   Patterns    |Сообщения, электронный адрес получателя которых содержит текстовые шаблоны, соответствующие указанным регулярным выражениям. <br/> **Примечание.** Это условие не учитывает сообщения, отправленные на прокси-адреса получателя. Сопоставляются только сообщения, отправленные на основной электронный адрес получателя.|
|Отправлено участнику| условие: *сенттомембероф* <br/> исключение: *ексцептифсенттомембероф*|  Addresses|  Сообщения, содержащие получателей, которые являются участниками указанной группы рассылки, группы безопасности с включенной поддержкой почты или группы Microsoft 365. Группа может быть указана в поле **To**, **Cc** или **Bcc** сообщения.|

### <a name="message-subject-or-body"></a>Тема или текст сообщения

|**условие или исключение в DLP** | **параметры Condition/Exception в Microsoft 365 PowerShell** |**Тип свойства**| **description**|
|---------|---------|---------|---------|
|Тема содержит слова или фразы| условие: *SubjectContainsWords* <br/> исключение: *Ексцептиф SubjectContainsWords*| Words   |Сообщения, в которых поле Subject содержит указанные слова.|
|Тема соответствует шаблонам|условие: *SubjectMatchesPatterns* <br/> исключение: *Ексцептиф SubjectMatchesPatterns*|Patterns   |Сообщения, в которых поле Subject содержит текстовые шаблоны, которые совпадают с заданными регулярными выражениями.|
|Содержимое содержит|  условие: *контентконтаинссенситивеинформатион* <br/> исключение *ексцептифконтентконтаинссенситивеинформатион*| сенситивеинформатионтипес|  Сообщения или документы, содержащие конфиденциальную информацию, определенную политиками защиты от потери данных (DLP).|
| Тема или основной текст соответствует шаблону    | условие: *субжекторбодиматчеспаттернс* <br/> исключение: *ексцептифсубжекторбодиматчеспаттернс*    | Patterns    | Сообщения, в которых поле Subject или текст сообщения содержит текстовые шаблоны, которые совпадают с заданными регулярными выражениями.    |
| Тема или основной текст содержит слова    | условие: *SubjectOrBodyContainsWords* <br/> исключение: *ExceptIfSubjectOrBodyContainsWords*    | Words    | Сообщения с указанными словами в поле Subject или тексте сообщения    |


### <a name="attachments"></a>Attachments

|**условие или исключение в DLP**| **параметры Condition/Exception в Microsoft 365 PowerShell**| **Тип свойства**   |**description**|
|---------|---------|---------|---------|
|Вложение защищено паролем|условие: *документиспассвордпротектед* <br/> исключение: *ексцептифдокументиспассвордпротектед*|Нет| Сообщения с вложениями, защищенными паролем (такие файлы нельзя проверить). Обнаружение паролей работает только для документов Office, ZIP-файлов и файлов 7z.|
|Расширение файла вложения|условие: *контентекстенсионматчесвордс* <br/> исключение: *ексцептифконтентекстенсионматчесвордс*|  Words   |Сообщения, в которых расширение файла вложения совпадает с любым из указанных свойств.|
|Не удается проверить содержимое вложения электронной почты|условие: *документисунсуппортед* <br/>исключение: *Ексцептиф документисунсуппортед*|   н/д|    Сообщения, в которых служба Exchange Online не распознает вложение в собственном формате.|
|Содержимое вложения электронной почты не завершилось сканированием|   условие: *процессинглимитексцеедед* <br/> исключение: *ексцептифпроцессинглимитексцеедед*|    Н/д |Сообщения, для которых обработчику правил не удалось завершить сканирование вложений. С помощью этого условия можно создавать правила, которые совместно определяют и обрабатывают сообщения, содержимое которых не полностью прошло сканирование.|
|Имя документа содержит слова|условие: *документнамематчесвордс* <br/> исключение: *ексцептифдокументнамематчесвордс* |Words  |Сообщения, в которых имя файла вложения соответствует любому из указанных слов.|
|Имя документа соответствует шаблонам|условие: *документнамематчеспаттернс* <br/> исключение: *ексцептифдокументнамематчеспаттернс*|    Patterns    |Сообщения, в которых имя файла вложения содержит текстовые шаблоны, соответствующие указанным регулярным выражениям.|
|Свойство документа|условие: *контентпропертиконтаинсвордс* <br/> исключение: *ексцептифконтентпропертиконтаинсвордс* |Words| Сообщения или документы, для которых расширение файла вложения соответствует любому из указанных слов.|
|Размер документа равен или больше| условие: *документсизеовер* <br/> исключение: *ексцептифдокументсизеовер*|    Size    |Сообщения, содержащие вложения, размер которых равен заданному или превышает его.|

### <a name="message-headers"></a>Заголовки сообщения

|**условие или исключение в DLP**| **параметры Condition/Exception в Microsoft 365 PowerShell**| **Тип свойства**|  **description**|
|---------|---------|---------|---------|
|Заголовок содержит слова или фразы|условие: *HeaderContainsWords* <br/> исключение: *ExceptIfHeaderContainsWords*|  Хэш-таблица  |Сообщения, которые содержат указанное поле заголовка. Значение этого поля содержит указанные слова.|
|Заголовок соответствует шаблонам|   условие: *HeaderMatchesPatterns* <br/> исключение: *ExceptIfHeaderMatchesPatterns*|    Хэш-таблица  |Сообщения, которые содержат указанное поле заголовка. Значение этого поля содержит указанные регулярные выражения.|

### <a name="message-properties"></a>Свойства сообщения

|**условие или исключение в DLP**| **параметры Condition/Exception в Microsoft 365 PowerShell**| **Тип свойства**   |**description**|
|---------|---------|---------|---------|
|Размер сообщения|условие: *MessageSizeOver* <br/> исключение: *ексцептифмессажесизеовер*| Size    |Сообщения, общий размер которых (сообщение и вложения) равен заданному или превышает его. <br/>**Примечание.** Сначала выполняется проверка согласно ограничениям на размер сообщений, и только потом  согласно правилам потока обработки почты. Отправка слишком большого для почтового ящика сообщения будет отклонена прежде, чем сработает правило с соответствующим условием.  |
| Важно!    | условие: *висимпортанце* <br/> исключение: *ексцептифвисимпортанце*    | Importance    | Сообщения, помеченные с указанным уровнем важности.    |
| Набор символов содержимого содержит слова    | условие: *контентчарактерсетконтаинсвордс* <br/> *ексцептифконтентчарактерсетконтаинсвордс*    | чарактерсетс    | Сообщения с какими-либо из указанных кодировок.    |
| Переопределяет отправителя    | условие: *HasSenderOverride* <br/> исключение: *ексцептифхассендероверриде*    | Н/д    | Сообщения, в которых отправитель решил переопределить политику защиты от потери данных (DLP). Дополнительные сведения о политиках защиты от потери [данных](https://docs.microsoft.com/microsoft-365/compliance/data-loss-prevention-policies)см.   |
| Соответствие типов сообщений    | условие: *мессажетипематчес* <br/> исключение: *ексцептифмессажетипематчес*    | MessageType    | Сообщения указанного типа.    |

## <a name="actions-for-dlp-policies"></a>Действия для политик защиты от потери данных

В этой таблице описываются действия, доступные в DLP.


|**действие в DLP**|**параметры действий в Microsoft 365 PowerShell**|**Тип свойства**|**description**|
|---------|---------|---------|---------|
|Задать заголовок|сесеадер|Первое свойство: *имя заголовка* </br> Второе свойство: *значение заголовка*|Параметр Сесеадер указывает действие для правила DLP, которое добавляет или изменяет поля заголовка и значение в заголовке сообщения. Этот параметр использует синтаксис "Хеадернаме: HeaderValue". Можно указать несколько пар имен и значений заголовков, разделенных запятыми.|
|Удаление заголовка| ремовехеадер| Первое свойство: *MessageHeaderField*</br> Второе свойство: *String*|  Параметр Ремовехеадер указывает действие для правила защиты от потери данных, которое удаляет поле заголовка из заголовка сообщения. Этот параметр использует синтаксис "Хеадернаме" или "Хеадернаме: HeaderValue". Можно указать несколько имен заголовков или имен заголовков и пар значений, разделенных запятыми|
|Перенаправление сообщения определенным пользователям|*редиректмессажето*|Addresses| Перенаправляет сообщение указанным получателям. Сообщение не доставляется исходным получателям. При этом никакие уведомления не отправляются ни отправителю, ни исходным получателям.|
|Пересылка сообщения для утверждения руководителю отправителя| Средний|Первое свойство: *модератемессажебиманажер*</br> Второе свойство: *Boolean*|Параметр Moderate указывает действие для правила DLP, которое отправляет сообщение электронной почты модератору. Этот параметр использует синтаксис: @ {Модератемессажебиманажер = <$true \| $false>;|
|Пересылка сообщения для утверждения определенным утверждающим| Средний|Первое свойство: *модератемессажебюсер*</br>Второе свойство: *addresses*|Параметр Moderate указывает действие для правила DLP, которое отправляет сообщение электронной почты модератору. Этот параметр использует синтаксис: @ {Модератемессажебюсер = @ ("emailaddress1", "emailAddress2",... "Емаиладдрессн")}|
|Добавление получателя|аддреЦипиентс|Первое свойство: *field*</br>Второе свойство: *addresses*| Добавляет одного или нескольких получателей в поле "Кому"/"копия" или "Скрытая копия" сообщения. Этот параметр использует следующий синтаксис: @ {<АддтореЦипиентс \| CopyTo \| блиндкопито> = "EmailAddress"}|
|Добавление руководителя отправителя в качестве получателя|аддреЦипиентс | Первое свойство: *аддедманажерактион*</br>Второе свойство: *field* | Добавляет руководителя отправителя в сообщение в качестве указанного типа получателя (кому, копия или Скрытая копия) или перенаправляет сообщение руководителю отправителя без уведомления отправителя или получателя. Это действие работает только в том случае, если атрибут менеджера отправителя определен в Active Directory. Этот параметр использует синтаксис: @ {АддманажерасреЦипиенттипе = "<to \| CC \| BCC>"}|    
Тема "начало"    |препендсубжект    |String    |Добавляет указанный текст в начало поля Subject сообщения. Рекомендуем добавить пробел или двоеточие (:) в конце указанного текста, чтобы отделить его от исходного текста темы.</br>Чтобы не допустить добавления одной и той же строки в сообщения, которые уже содержат текст в теме (например, ответы), добавьте к правилу исключение "Тема содержит слова" (ExceptIfSubjectContainsWords).    |
Применение заявления об отказе в формате HTML    |апплихтмлдисклаимер    |Первое свойство: *текст*</br>Второе свойство: *Location*</br>Третье свойство: *резервное действие*    |Применяет указанный отказ от использования HTML к требуемому расположению сообщения.</br>Этот параметр использует синтаксис: @ {Text = ""; Location = <Добавление в \| начале>; Фаллбаккактион = <не \| учитывать \|> отклонения




