---
title: Создание словаря ключевых слов
f1.keywords:
- NOCSH
ms.author: chrfox
author: chrfox
manager: laurawi
audience: Admin
ms.topic: article
ms.service: O365-seccomp
ms.date: ''
localization_priority: Priority
ms.collection:
- M365-security-compliance
search.appverid:
- MOE150
- MET150
ms.custom:
- seo-marvel-apr2020
description: Ознакомьтесь с основными шагами по созданию словаря ключевых слов в Центре безопасности и соответствия требованиям Office 365.
ms.openlocfilehash: 7fe425a1f8ac954c6c24752927b218fc7e6f37c7
ms.sourcegitcommit: 27daadad9ca0f02a833ff3cff8a574551b9581da
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/12/2020
ms.locfileid: "47547013"
---
# <a name="create-a-keyword-dictionary"></a>Создание словаря ключевых слов

Служба защиты от потери данных позволяет обнаруживать, отслеживать и защищать конфиденциальные элементы.. Для обнаружения конфиденциальных элементов иногда требуется поиск по ключевым словам, в частности при обнаружении стандартного контента (например, обмена данными, касающимися здравоохранения), а также неуместной или нецензурной лексики. Хотя вы можете создавать списки ключевых слов в типах конфиденциальной информации, они ограничены по размеру и требуют изменения XML-кода для их создания или изменения. Словари ключевых слов обеспечивают более простое и масштабное управление ключевыми словами, поддерживая до 100 КБ терминов (после сжатия) в словаре и любой язык. Ограничение клиента также составляет 100 КБ после сжатия.
  
> [!NOTE]
> Служба защиты информации Microsoft 365 теперь в предварительный версии поддерживает языки с набором двухбайтовых символов:
> - Китайский (упрощенное письмо)
> - Китайский (традиционное письмо)
> - Корейский
> - Японский
> 
>Эта предварительная версия доступна только в коммерческом облаке, а развертывание ограничено следующими странами:
> - Япония
> - Республика Корея
> - Китай
> - Гонконг
> - Макао
> - Тайвань
>
>Эта поддержка доступна для конфиденциальных типов информации. Дополнительные сведения см. в статье [Заметки о выпуске: поддержка защиты информации для наборов двухбайтовых символов (предварительная версия)](mip-dbcs-relnotes.md).

## <a name="basic-steps-to-creating-a-keyword-dictionary"></a>Основные этапы создания словаря ключевых слов

Ключевые слова можно брать из различных источников, наиболее распространенными из которых являются файлы (например, списки в формате CSV или TXT), импортированные в службу или добавленные с помощью командлета PowerShell, списки, вводимые непосредственно в командлете PowerShell, и имеющиеся словари. При создании словаря ключевых слов всегда используются одни и те же основные действия:
  
1. Использование**Центра безопасности и соответствия требованиям** ([https://protection.office.com](https://protection.office.com)) или подключение к **интерфейсу&amp; PowerShell Центра безопасности и соответствия требованиям**.
    
2. **Определите или загрузите ключевые слова из предполагаемого источника**. Мастер и командлет оба принимают разделенный запятыми список ключевых слов для создания пользовательского словаря ключевых слов, поэтому данный этап может слегка меняться в зависимости от источника ключевых слов. После загрузки они кодируются и преобразуются в байтовый массив, а затем импортируются.
    
3. **Создайте ваш словарь**. Выберите имя и описание, а затем создайте словарь.

## <a name="create-a-keyword-dictionary-using-the-security--compliance-center"></a>Создание словаря ключевых слов с помощью Центра безопасности и соответствия требованиям

Следуйте указанным ниже действиям, чтобы создать и импортировать ключевые слова для пользовательского словаря:

1. Подключитесь к Центру безопасности и соответствия требованиям ([https://protection.office.com](https://protection.office.com)).

2. Перейдите в раздел **Классификации > Типы конфиденциальной информации**.

3. Нажмите кнопку **Создать** и введите **имя** и **описание** для типа конфиденциальной информации, затем нажмите кнопку **Далее**.

4. Нажмите кнопку **Добавить элемент** и выберите вариант **Словарь (большие ключевые слова)** в раскрывающемся списке **Обнаруживать содержимое с указанными элементами**.

5. Выберите команду **Добавить словарь**.

6. В разделе управления поиском щелкните ссылку **Создать словари ключевых слов можно здесь**.

7. Введите **имя** для пользовательского словаря.

8. Нажмите кнопку **Импорт** и выберите параметр **Из текста** или **Из CSV** в зависимости от типа файла ключевых слов.

9. В диалоговом окне поиска файла выберите файл ключевых слов на локальном компьютере или в общей сетевой папке и нажмите кнопку **Открыть**.

10. Нажмите кнопку **Сохранить**, затем выберите пользовательский словарь из списка **Словари ключевых слов**.

11. Нажмите кнопку **Добавить**, а затем **Далее**.

12. Проверьте и выберите окончательные параметры типа конфиденциальной информации, затем нажмите кнопку **Готово**. 
    
## <a name="create-a-keyword-dictionary-from-a-file-using-powershell"></a>Создание словаря ключевых слов из файла с помощью PowerShell

Зачастую при необходимости создать большой словарь бывает удобно использовать ключевые слова из файла или списка, экспортированного из какого-то другого источника. В данном случае вы создаете словарь ключевых слов, содержащий список выражений, непригодных для внешних сообщений электронной почты. Сначала [выполните подключение к Центру безопасности&amp; и соответствия требованиям PowerShell](https://docs.microsoft.com/powershell/exchange/connect-to-scc-powershell).
  
1. Скопируйте ключевые слова в текстовый файл и убедитесь, что каждое ключевое слово находится на отдельной строке.
    
2. Сохраните текст с кодировкой Юникода. В Блокноте выберите пункты **Сохранить как** \> **Кодировка** \> **Юникод**.
    
3. Считайте файл в переменную с помощью следующего командлета:
    
    ```powershell
    $fileData = Get-Content <filename> -Encoding Byte -ReadCount 0
    ```

4. Создайте словарь с помощью следующего командлета:
    
    ```powershell
    New-DlpKeywordDictionary -Name <name> -Description <description> -FileData $fileData
    ```

## <a name="modifying-an-existing-keyword-dictionary"></a>Изменение имеющегося словаря ключевых слов

Иногда требуется изменить ключевые слова в одном из встроенных или своих собственных словарей. Сейчас обновить пользовательский словарь ключевых слов можно только с помощью PowerShell. 

Например, мы изменим некоторые термины в PowerShell, сохраним их локально там, где они будут доступны для изменения в редакторе, а затем на месте обновим предыдущие. 

Прежде всего получаем объект словаря:
  
```powershell
$dict = Get-DlpKeywordDictionary -Name "Diseases"
```

При вводе `$dict`t отображаются разные переменные. Сами ключевые слова хранятся в объекте на внутреннем сервере, но  `$dict.KeywordDictionary` содержит представляющую его строку, с помощью которой вы можете изменить словарь. 

Перед изменением словаря необходимо вернуть строку терминов обратно в массив с помощью `.split(',')`метода. Затем вы удаляете ненужные пробелы между ключевыми словами с помощью  `.trim()` метода, оставляя только те слова, с которыми нужно работать. 
  
```powershell
$terms = $dict.KeywordDictionary.split(',').trim()
```

Теперь мы удалим некоторые термины из словаря. Так как наш словарь содержит лишь несколько ключевых слов, можно просто перейти к экспорту словаря и его редактированию в Блокноте. Однако словари обычно содержат большое количество текста, поэтому сначала следует научиться редактировать их в PowerShell.
  
На предыдущем этапе мы сохранили ключевые слова в массив. Существует несколько способов [удаления элементов из массива](https://docs.microsoft.com/previous-versions/windows/it-pro/windows-powershell-1.0/ee692802(v=technet.10)), но для простоты мы создадим массив терминов, которые требуется удалить из словаря, а затем скопируем из словаря только те термины, которых нет в этом списке.
  
Выполните команду `$terms`, чтобы вывести текущий список терминов. Выходные данные этой команды выглядят так: 
  
`aarskog's syndrome`
`abandonment`
`abasia`
`abderhalden-kaufmann-lignac`
`abdominalgia`
`abduction contracture`
`abetalipoproteinemia`
`abiotrophy`
`ablatio`
`ablation`
`ablepharia`
`abocclusion`
`abolition`
`aborter`
`abortion`
`abortus`
`aboulomania`
`abrami's disease`

Выполните следующую команду, чтобы указать удаляемые элементы:
  
```powershell
$termsToRemove = @('abandonment', 'ablatio')
```

Выполните следующую команду, чтобы фактически удалить термины из списка:
  
```powershell
$updatedTerms = $terms | Where-Object{ $_ -notin $termsToRemove }
```

Выполните команду `$updatedTerms`, чтобы вывести обновленный список элементов. Выходные данные команды выглядят так (указанные термины были удалены): 
  
`aarskog's syndrome`
`abasia`
`abderhalden-kaufmann-lignac`
`abdominalgia`
`abduction contracture`
`abetalipo proteinemia`
`abiotrophy`
`ablation`
`ablepharia`
`abocclusion`
`abolition`
`aborter`
`abortion`
`abortus`
`aboulomania`
`abrami's disease`
```

Now save the dictionary locally and add a few more terms. You could add the terms right here in PowerShell, but you'll still need to export the file locally to ensure it's saved with Unicode encoding and contains the BOM.
  
Save the dictionary locally by running the following:
  
```powershell
Set-Content $updatedTerms -Path "C:\myPath\terms.txt"
```

Теперь просто откройте файл, добавьте нужные термины и сохраните его в кодировке Юникода (UTF-16). Затем мы отправим обновленные термины и обновим словарь на месте.
  
```powershell
PS> Set-DlpKeywordDictionary -Identity "Diseases" -FileData (Get-Content -Path "C:myPath\terms.txt" -Encoding Byte -ReadCount 0)
```

Теперь словарь был обновлен на месте. Обратите внимание, что поле `Identity` принимает имя словаря. Если требуется изменить имя словаря, можно просто добавить в приведенный выше командлет `set-` параметр `-Name` с новым именем. 
  
## <a name="using-keyword-dictionaries-in-custom-sensitive-information-types-and-dlp-policies"></a>Использование словарей ключевых слов в типах конфиденциальной информации и политиках защиты от потери данных

Словари ключевых слов можно использовать как часть требований соответствия для пользовательских типов конфиденциальных данных или как сами эти типы. В обоих случаях необходимо создать[пользовательский тип конфиденциальных данных](create-a-custom-sensitive-information-type-in-scc-powershell.md). Следуя инструкциям в связанной статье, создайте тип конфиденциальных данных. После того как вы получите XML-файл, вам потребуется GUID-идентификатор для словаря.
  
```xml
<Entity id="9e5382d0-1b6a-42fd-820e-44e0d3b15b6e" patternsProximity="300" recommendedConfidence="75">
    <Pattern confidenceLevel="75">
        <IdMatch idRef=". . ."/>
    </Pattern>
</Entity>
```

Чтобы получить идентификатор словаря, выполните следующую команду и скопируйте значение свойства **Identity**: 
  
```powershell
Get-DlpKeywordDictionary -Name "Diseases"
```

Выходные данные команды выглядят так:
  
`RunspaceId        : 138e55e7-ea1e-4f7a-b824-79f2c4252255`
`Identity          : 8d2d44b0-91f4-41f2-94e0-21c1c5b5fc9f`
`Name              : Diseases`
`Description       : Names of diseases and injuries from ICD-10-CM lexicon`
`KeywordDictionary : aarskog's syndrome, abandonment, abasia, abderhalden-kaufmann-lignac, abdominalgia, abduction contracture, abetalipo` `proteinemia, abiotrophy, ablatio, ablation, ablepharia, abocclusion, abolition, aborter, abortion, abortus, aboulomania,`
                    `abrami's disease, abramo`
`IsValid           : True`
`ObjectState       : Unchanged`


Вставьте идентификатор в XML-код вашего типа конфиденциальной информации и отправьте код. Словарь появится в списке типов конфиденциальной информации, и вы сможете использовать его непосредственно в политике, указав, сколько ключевых слов требуется для совпадения.
  
```xml
<Entity id="d333c6c2-5f4c-4131-9433-db3ef72a89e8" patternsProximity="300" recommendedConfidence="85">
      <Pattern confidenceLevel="85">
        <IdMatch idRef="8d2d44b0-91f4-41f2-94e0-21c1c5b5fc9f" />
      </Pattern>
    </Entity>
    <LocalizedStrings>
      <Resource idRef="d333c6c2-5f4c-4131-9433-db3ef72a89e8">
        <Name default="true" langcode="en-us">Diseases</Name>
        <Description default="true" langcode="en-us">Detects various diseases</Description>
      </Resource>
    </LocalizedStrings>
```
