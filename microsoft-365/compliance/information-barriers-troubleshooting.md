---
title: Устранение проблем с информационными барьерами
description: Используйте эту статью в качестве руководства для устранения информационных барьеров.
ms.author: robmazz
author: robmazz
manager: laurawi
audience: ITPro
ms.topic: article
ms.service: O365-seccomp
ms.collection:
- M365-security-compliance
localization_priority: None
f1.keywords:
- NOCSH
ms.custom: seo-marvel-apr2020
ms.openlocfilehash: de415ba7b68df786ead038bb72465c445a86ba5a
ms.sourcegitcommit: 27b2b2e5c41934b918cac2c171556c45e36661bf
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/19/2021
ms.locfileid: "50928009"
---
# <a name="troubleshooting-information-barriers"></a><span data-ttu-id="71fb5-103">Устранение проблем с информационными барьерами</span><span class="sxs-lookup"><span data-stu-id="71fb5-103">Troubleshooting information barriers</span></span>

<span data-ttu-id="71fb5-104">[Информационные барьеры](information-barriers.md) могут помочь организации соблюдать требования законодательства и отраслевые правила.</span><span class="sxs-lookup"><span data-stu-id="71fb5-104">[Information barriers](information-barriers.md) can help your organization remain compliant with legal requirements and industry regulations.</span></span> <span data-ttu-id="71fb5-105">Например, с помощью информационных барьеров можно ограничить связь между определенными группами пользователей, чтобы избежать конфликта интересов или других проблем.</span><span class="sxs-lookup"><span data-stu-id="71fb5-105">For example, with information barriers, you can restrict communication between specific groups of users to avoid a conflict of interest or other issues.</span></span> <span data-ttu-id="71fb5-106">(Дополнительные сведения о том, как настроить информационные барьеры, см. в руб. Определение политик [для информационных барьеров.)](information-barriers-policies.md)</span><span class="sxs-lookup"><span data-stu-id="71fb5-106">(To learn more about how to set up information barriers, see [Define policies for information barriers](information-barriers-policies.md).)</span></span>

<span data-ttu-id="71fb5-107">В случае, если после устранения информационных барьеров у людей могут быть непредвиденные проблемы, можно предпринять несколько действий для их устранения.</span><span class="sxs-lookup"><span data-stu-id="71fb5-107">In the event that people run into unexpected issues after information barriers are in place, there are some steps you can take to resolve those issues.</span></span> <span data-ttu-id="71fb5-108">Используйте эту статью в качестве руководства.</span><span class="sxs-lookup"><span data-stu-id="71fb5-108">Use this article as a guide.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="71fb5-109">Для выполнения задач, описанных в этой статье, вам должна быть назначена соответствующая роль, например одна из следующих:</span><span class="sxs-lookup"><span data-stu-id="71fb5-109">To perform the tasks described in this article, you must be assigned an appropriate role, such as one of the following:</span></span><br/><span data-ttu-id="71fb5-110">- Глобальный администратор microsoft 365 Корпоративный</span><span class="sxs-lookup"><span data-stu-id="71fb5-110">- Microsoft 365 Enterprise Global Administrator</span></span><br/><span data-ttu-id="71fb5-111">— глобальный администратор</span><span class="sxs-lookup"><span data-stu-id="71fb5-111">- global administrator</span></span><br/><span data-ttu-id="71fb5-112">- Администратор соответствия требованиям</span><span class="sxs-lookup"><span data-stu-id="71fb5-112">- Compliance Administrator</span></span><br/><span data-ttu-id="71fb5-113">- Управление соответствием требованиям IB (это новая роль!)</span><span class="sxs-lookup"><span data-stu-id="71fb5-113">- IB Compliance Management (this is a new role!)</span></span><p><span data-ttu-id="71fb5-114">Дополнительные сведения о предпосылках для информационных барьеров см. в дополнительных сведениях о необходимых для политики [информационного барьера.](information-barriers-policies.md#prerequisites)</span><span class="sxs-lookup"><span data-stu-id="71fb5-114">To learn more about prerequisites for information barriers, see [Prerequisites (for information barrier policies)](information-barriers-policies.md#prerequisites).</span></span><p><span data-ttu-id="71fb5-115">Не забудьте [подключиться к центру & безопасности PowerShell.](/powershell/exchange/connect-to-scc-powershell)</span><span class="sxs-lookup"><span data-stu-id="71fb5-115">Make sure to [connect to Security & Compliance Center PowerShell](/powershell/exchange/connect-to-scc-powershell).</span></span>

## <a name="issue-users-are-unexpectedly-blocked-from-communicating-with-others-in-microsoft-teams"></a><span data-ttu-id="71fb5-116">Проблема. Пользователям неожиданно блокируется общение с другими пользователями в Microsoft Teams</span><span class="sxs-lookup"><span data-stu-id="71fb5-116">Issue: Users are unexpectedly blocked from communicating with others in Microsoft Teams</span></span> 

<span data-ttu-id="71fb5-117">В этом случае люди сообщают о непредвиденных проблемах, связывающихся с другими людьми в Microsoft Teams.</span><span class="sxs-lookup"><span data-stu-id="71fb5-117">In this case, people are reporting unexpected issues communicating with others in Microsoft Teams.</span></span> <span data-ttu-id="71fb5-118">Ниже приведен ряд примеров.</span><span class="sxs-lookup"><span data-stu-id="71fb5-118">Some examples are:</span></span>

- <span data-ttu-id="71fb5-119">Пользователь ищет, но не может найти другого пользователя в Microsoft Teams.</span><span class="sxs-lookup"><span data-stu-id="71fb5-119">A user searches for, but is unable to find, another user in Microsoft Teams.</span></span>
- <span data-ttu-id="71fb5-120">Пользователь может найти, но не может выбрать другого пользователя в Microsoft Teams.</span><span class="sxs-lookup"><span data-stu-id="71fb5-120">A user can find, but cannot select, another user in Microsoft Teams.</span></span>
- <span data-ttu-id="71fb5-121">Пользователь может видеть другого пользователя, но не может отправлять сообщения этому другому пользователю в Microsoft Teams.</span><span class="sxs-lookup"><span data-stu-id="71fb5-121">A user can see another user, but cannot send messages to that other user in Microsoft Teams.</span></span>

### <a name="what-to-do"></a><span data-ttu-id="71fb5-122">Действия</span><span class="sxs-lookup"><span data-stu-id="71fb5-122">What to do</span></span>

<span data-ttu-id="71fb5-123">Определите, влияет ли политика информационного барьера на пользователей.</span><span class="sxs-lookup"><span data-stu-id="71fb5-123">Determine whether the users are affected by an information barrier policy.</span></span> <span data-ttu-id="71fb5-124">В зависимости от того, как настроены политики, информационные барьеры могут работать так, как ожидалось.</span><span class="sxs-lookup"><span data-stu-id="71fb5-124">Depending on how policies are configured, information barriers might be working as expected.</span></span> <span data-ttu-id="71fb5-125">Или, возможно, вам придется уточнить политики вашей организации.</span><span class="sxs-lookup"><span data-stu-id="71fb5-125">Or, you might have to refine your organization's policies.</span></span>

1. <span data-ttu-id="71fb5-126">Используйте **комлет Get-InformationBarrierRecipientStatus** с параметром Identity.</span><span class="sxs-lookup"><span data-stu-id="71fb5-126">Use the **Get-InformationBarrierRecipientStatus** cmdlet with the Identity parameter.</span></span> 

    |<span data-ttu-id="71fb5-127">**Синтаксис**</span><span class="sxs-lookup"><span data-stu-id="71fb5-127">**Syntax**</span></span>|<span data-ttu-id="71fb5-128">**Пример**</span><span class="sxs-lookup"><span data-stu-id="71fb5-128">**Example**</span></span>|
    |:---------|:----------|
    | `Get-InformationBarrierRecipientStatus -Identity` <p> <span data-ttu-id="71fb5-129">Можно использовать любое значение удостоверения, которое уникально идентифицирует каждого получателя, например Имя, Псевдоним, Имя, Канонический DN, адрес электронной почты или GUID.</span><span class="sxs-lookup"><span data-stu-id="71fb5-129">You can use any identity value that uniquely identifies each recipient, such as Name, Alias, Distinguished name (DN), Canonical DN, Email address, or GUID.</span></span> |`Get-InformationBarrierRecipientStatus -Identity meganb` <p> <span data-ttu-id="71fb5-130">В этом примере мы используем псевдоним *(meganb)* для параметра Identity.</span><span class="sxs-lookup"><span data-stu-id="71fb5-130">In this example, we are using an alias (*meganb*) for the Identity parameter.</span></span> <span data-ttu-id="71fb5-131">В этом комлете будут возвращаться сведения о том, влияет ли на пользователя политика информационного барьера.</span><span class="sxs-lookup"><span data-stu-id="71fb5-131">This cmdlet will return information that indicates whether the user is affected by an information barrier policy.</span></span> <span data-ttu-id="71fb5-132">(Найди \*ExoPolicyId: \<GUID> .)</span><span class="sxs-lookup"><span data-stu-id="71fb5-132">(Look for \*ExoPolicyId: \<GUID>.)</span></span> |

    <span data-ttu-id="71fb5-133">Если пользователи не включены в политики информационного **барьера, обратитесь в службу поддержки.**</span><span class="sxs-lookup"><span data-stu-id="71fb5-133">**If the users are not included in information barrier policies, contact support**.</span></span> <span data-ttu-id="71fb5-134">В противном случае приступить к следующему шагу.</span><span class="sxs-lookup"><span data-stu-id="71fb5-134">Otherwise, proceed to the next step.</span></span>

2. <span data-ttu-id="71fb5-135">Узнайте, какие сегменты включены в политику информационного барьера.</span><span class="sxs-lookup"><span data-stu-id="71fb5-135">Find out which segments are included in an information barrier policy.</span></span> <span data-ttu-id="71fb5-136">Для этого используйте комлет `Get-InformationBarrierPolicy` с параметром Identity.</span><span class="sxs-lookup"><span data-stu-id="71fb5-136">To do this, use the `Get-InformationBarrierPolicy` cmdlet with the Identity parameter.</span></span> 

    |<span data-ttu-id="71fb5-137">**Синтаксис**</span><span class="sxs-lookup"><span data-stu-id="71fb5-137">**Syntax**</span></span>|<span data-ttu-id="71fb5-138">**Пример**</span><span class="sxs-lookup"><span data-stu-id="71fb5-138">**Example**</span></span>|
    |:---------|:----------|
    | `Get-InformationBarrierPolicy` <p> <span data-ttu-id="71fb5-139">Используйте сведения, такие как GUID политики (ExoPolicyId), полученные во время предыдущего шага, в качестве значения удостоверения.</span><span class="sxs-lookup"><span data-stu-id="71fb5-139">Use details, such as the policy GUID (ExoPolicyId) you received during the previous step, as an identity value.</span></span> | `Get-InformationBarrierPolicy -Identity b42c3d0f-49e9-4506-a0a5-bf2853b5df6f` <p> <span data-ttu-id="71fb5-140">В этом примере мы получаю подробные сведения о политике информационного барьера, которая имеет ExoPolicyId *b42c3d0f-49e9-4506-a0a5-bf2853b5df6f*.</span><span class="sxs-lookup"><span data-stu-id="71fb5-140">In this example, we are getting detailed information about the information barrier policy that has ExoPolicyId *b42c3d0f-49e9-4506-a0a5-bf2853b5df6f*.</span></span> |

    <span data-ttu-id="71fb5-141">После запуска cmdlet в результатах найди значения **AssignedSegment,** **SegmentsAllowed** и **SegmentsBlocked.**</span><span class="sxs-lookup"><span data-stu-id="71fb5-141">After you run the cmdlet, in the results, look for **AssignedSegment**, **SegmentsAllowed**, and **SegmentsBlocked** values.</span></span>

    <span data-ttu-id="71fb5-142">Например, после запуска cmdlet мы увидели в списке результатов `Get-InformationBarrierPolicy` следующее:</span><span class="sxs-lookup"><span data-stu-id="71fb5-142">For example, after running the `Get-InformationBarrierPolicy` cmdlet, we saw the following in our list of results:</span></span>

    ```powershell
    AssignedSegment : Sales
    SegmentsAllowed : {}
    SegmentsBlocked : {Research}
    ```

    <span data-ttu-id="71fb5-143">В этом случае мы видим, что политика информационного барьера затрагивает людей, которые находятся в сегментах Продаж и Исследований.</span><span class="sxs-lookup"><span data-stu-id="71fb5-143">In this case, we can see that an information barrier policy affects people who are in the Sales and Research segments.</span></span> <span data-ttu-id="71fb5-144">В этом случае людям в Отделе продаж не позволяется общаться с людьми из Research.</span><span class="sxs-lookup"><span data-stu-id="71fb5-144">In this case, people in Sales are prevented from communicating with people in Research.</span></span>

    <span data-ttu-id="71fb5-145">Если это кажется правильным, информационные барьеры работают так, как ожидалось.</span><span class="sxs-lookup"><span data-stu-id="71fb5-145">If this seems correct, then information barriers are working as expected.</span></span> <span data-ttu-id="71fb5-146">Если нет, перейдите к следующему шагу.</span><span class="sxs-lookup"><span data-stu-id="71fb5-146">If not, proceed to the next step.</span></span>

3. <span data-ttu-id="71fb5-147">Убедитесь, что сегменты определены правильно.</span><span class="sxs-lookup"><span data-stu-id="71fb5-147">Make sure your segments are defined correctly.</span></span> <span data-ttu-id="71fb5-148">Для этого используйте этот список и просмотрите `Get-OrganizationSegment` список результатов.</span><span class="sxs-lookup"><span data-stu-id="71fb5-148">To do this, use the `Get-OrganizationSegment` cmdlet, and review the list of results.</span></span>

    |<span data-ttu-id="71fb5-149">**Синтаксис**</span><span class="sxs-lookup"><span data-stu-id="71fb5-149">**Syntax**</span></span>|<span data-ttu-id="71fb5-150">**Пример**</span><span class="sxs-lookup"><span data-stu-id="71fb5-150">**Example**</span></span>|
    |:---------|:----------|
    | `Get-OrganizationSegment`<p> <span data-ttu-id="71fb5-151">Используйте этот комдлет с параметром Identity.</span><span class="sxs-lookup"><span data-stu-id="71fb5-151">Use this cmdlet with an Identity parameter.</span></span> | `Get-OrganizationSegment -Identity c96e0837-c232-4a8a-841e-ef45787d8fcd` <p> <span data-ttu-id="71fb5-152">В этом примере мы будем получать сведения о сегменте с GUID *c96e0837-c232-4a8a-841e-ef45787d8fcd.*</span><span class="sxs-lookup"><span data-stu-id="71fb5-152">In this example, we are getting information about the segment that has GUID *c96e0837-c232-4a8a-841e-ef45787d8fcd*.</span></span> |

    <span data-ttu-id="71fb5-153">Просмотрите сведения для сегмента.</span><span class="sxs-lookup"><span data-stu-id="71fb5-153">Review the details for the segment.</span></span> <span data-ttu-id="71fb5-154">При необходимости [отредактировать сегмент](information-barriers-edit-segments-policies.md#edit-a-segment)и повторно использовать `Start-InformationBarrierPoliciesApplication` его.</span><span class="sxs-lookup"><span data-stu-id="71fb5-154">If necessary, [edit a segment](information-barriers-edit-segments-policies.md#edit-a-segment), and then re-use the `Start-InformationBarrierPoliciesApplication` cmdlet.</span></span>

    <span data-ttu-id="71fb5-155">**Если у вас по-прежнему возникли проблемы с политикой информационного барьера, обратитесь в службу поддержки.**</span><span class="sxs-lookup"><span data-stu-id="71fb5-155">**If you are still having issues with your information barrier policy, contact support**.</span></span>

## <a name="issue-communications-are-allowed-between-users-who-should-be-blocked-in-microsoft-teams"></a><span data-ttu-id="71fb5-156">Проблема. Между пользователями, которые должны быть заблокированы в Microsoft Teams, разрешена связь</span><span class="sxs-lookup"><span data-stu-id="71fb5-156">Issue: Communications are allowed between users who should be blocked in Microsoft Teams</span></span>

<span data-ttu-id="71fb5-157">В этом случае, хотя информационные барьеры определены, активны и применены, люди, которым следует запретить общаться друг с другом, могут как-то общаться и вызывать друг друга в Microsoft Teams.</span><span class="sxs-lookup"><span data-stu-id="71fb5-157">In this case, although information barriers are defined, active, and applied, people who should be prevented from communicating with each other are somehow able to chat with and call each other in Microsoft Teams.</span></span>

### <a name="what-to-do"></a><span data-ttu-id="71fb5-158">Действия</span><span class="sxs-lookup"><span data-stu-id="71fb5-158">What to do</span></span>

<span data-ttu-id="71fb5-159">Убедитесь, что эти пользователи включены в политику информационного барьера.</span><span class="sxs-lookup"><span data-stu-id="71fb5-159">Verify that the users in question are included in an information barrier policy.</span></span> 

1. <span data-ttu-id="71fb5-160">Используйте **комлет Get-InformationBarrierRecipientStatus** с параметрами Identity.</span><span class="sxs-lookup"><span data-stu-id="71fb5-160">Use the **Get-InformationBarrierRecipientStatus** cmdlet with Identity parameters.</span></span>

    |<span data-ttu-id="71fb5-161">**Синтаксис** _</span><span class="sxs-lookup"><span data-stu-id="71fb5-161">**Syntax** _</span></span>|<span data-ttu-id="71fb5-162">_ *Пример*\*</span><span class="sxs-lookup"><span data-stu-id="71fb5-162">_ *Example*\*</span></span>|
    |:----------|:----------|
    | `Get-InformationBarrierRecipientStatus -Identity <value> -Identity2 <value>` <p> <span data-ttu-id="71fb5-163">Вы можете использовать любое значение, которое уникально идентифицирует каждого пользователя, например имя, псевдоним, имя, каноническое доменное имя, адрес электронной почты или GUID.</span><span class="sxs-lookup"><span data-stu-id="71fb5-163">You can use any value that uniquely identifies each user, such as name, alias, distinguished name, canonical domain name, email address, or GUID.</span></span> |`Get-InformationBarrierRecipientStatus -Identity meganb -Identity2 alexw` <p> <span data-ttu-id="71fb5-164">В этом примере мы ссылаемся на две учетные записи пользователей в Office 365: *meganb* для *Меган* и *alexw* для *Alex*.</span><span class="sxs-lookup"><span data-stu-id="71fb5-164">In this example, we refer to two user accounts in Office 365: *meganb* for *Megan*, and *alexw* for *Alex*.</span></span> |

    > [!TIP]
    > <span data-ttu-id="71fb5-165">Этот кодлет можно также использовать для одного пользователя: `Get-InformationBarrierRecipientStatus -Identity <value>`</span><span class="sxs-lookup"><span data-stu-id="71fb5-165">You can also use this cmdlet for a single user: `Get-InformationBarrierRecipientStatus -Identity <value>`</span></span>

2. <span data-ttu-id="71fb5-166">Просмотрите результаты.</span><span class="sxs-lookup"><span data-stu-id="71fb5-166">Review the findings.</span></span> <span data-ttu-id="71fb5-167">В **cmdlet Get-InformationBarrierRecipientStatus** возвращается информация о пользователях, например значения атрибутов и применяемые политики информационного барьера.</span><span class="sxs-lookup"><span data-stu-id="71fb5-167">The **Get-InformationBarrierRecipientStatus** cmdlet returns information about users, such as attribute values and any information barrier policies that are applied.</span></span>

    <span data-ttu-id="71fb5-168">Просмотрите результаты, а затем примите следующие действия, как описано в следующей таблице:</span><span class="sxs-lookup"><span data-stu-id="71fb5-168">Review the results, and then take your next steps, as described in the following table:</span></span>

    |<span data-ttu-id="71fb5-169">**Results**</span><span class="sxs-lookup"><span data-stu-id="71fb5-169">**Results**</span></span>|<span data-ttu-id="71fb5-170">**Что делать дальше**</span><span class="sxs-lookup"><span data-stu-id="71fb5-170">**What to do next**</span></span>|
    |:----------|:------------------|
    | <span data-ttu-id="71fb5-171">Для выбранного пользователя не указаны сегменты(ы)</span><span class="sxs-lookup"><span data-stu-id="71fb5-171">No segments are listed for the selected user(s)</span></span> | <span data-ttu-id="71fb5-172">Выполните одно из следующих действий.</span><span class="sxs-lookup"><span data-stu-id="71fb5-172">Do one of the following:</span></span><br/><span data-ttu-id="71fb5-173">- Назначение пользователей существующему сегменту путем редактирования профилей пользователей в Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="71fb5-173">- Assign users to an existing segment by editing their user profiles in Azure Active Directory.</span></span> <span data-ttu-id="71fb5-174">[(См. настройка свойств учетной записи пользователя с помощью Office 365 PowerShell.)](../enterprise/configure-user-account-properties-with-microsoft-365-powershell.md)</span><span class="sxs-lookup"><span data-stu-id="71fb5-174">(See [Configure user account properties with Office 365 PowerShell](../enterprise/configure-user-account-properties-with-microsoft-365-powershell.md).)</span></span><br/><span data-ttu-id="71fb5-175">- Определение сегмента с использованием [поддерживаемого атрибута для информационных барьеров.](information-barriers-attributes.md)</span><span class="sxs-lookup"><span data-stu-id="71fb5-175">- Define a segment using a [supported attribute for information barriers](information-barriers-attributes.md).</span></span> <span data-ttu-id="71fb5-176">Затем либо [определите новую политику, либо](information-barriers-policies.md#part-2-define-information-barrier-policies) [отредактировать существующую политику,](information-barriers-edit-segments-policies.md#edit-a-policy) чтобы включить этот сегмент.</span><span class="sxs-lookup"><span data-stu-id="71fb5-176">Then, either [define a new policy](information-barriers-policies.md#part-2-define-information-barrier-policies) or [edit an existing policy](information-barriers-edit-segments-policies.md#edit-a-policy) to include that segment.</span></span> |
    | <span data-ttu-id="71fb5-177">Сегменты перечислены, но политики информационного барьера не назначены этим сегментам</span><span class="sxs-lookup"><span data-stu-id="71fb5-177">Segments are listed but no information barrier policies are assigned to those segments</span></span> | <span data-ttu-id="71fb5-178">Выполните одно из следующих действий.</span><span class="sxs-lookup"><span data-stu-id="71fb5-178">Do one of the following:</span></span><br/><span data-ttu-id="71fb5-179">- [Определение новой политики информационного барьера](information-barriers-policies.md#part-2-define-information-barrier-policies) для каждого из этих сегментов</span><span class="sxs-lookup"><span data-stu-id="71fb5-179">- [Define a new information barrier policy](information-barriers-policies.md#part-2-define-information-barrier-policies) for each segment in question</span></span> <br/><span data-ttu-id="71fb5-180">- [Изменить существующую политику информационного барьера,](information-barriers-edit-segments-policies.md#edit-a-policy) чтобы назначить ее правильному сегменту</span><span class="sxs-lookup"><span data-stu-id="71fb5-180">- [Edit an existing information barrier policy](information-barriers-edit-segments-policies.md#edit-a-policy) to assign it to the correct segment</span></span> |
    | <span data-ttu-id="71fb5-181">Перечислены сегменты, каждый из которых включен в политику информационного барьера.</span><span class="sxs-lookup"><span data-stu-id="71fb5-181">Segments are listed and each is included in an information barrier policy</span></span> | <span data-ttu-id="71fb5-182">- Запустите `Get-InformationBarrierPolicy` cmdlet, чтобы убедиться, что политики информационного барьера активны</span><span class="sxs-lookup"><span data-stu-id="71fb5-182">- Run the `Get-InformationBarrierPolicy` cmdlet to verify that information barrier policies are active</span></span><br/><span data-ttu-id="71fb5-183">- Запустите `Get-InformationBarrierPoliciesApplicationStatus` cmdlet, чтобы подтвердить, что политики применяются</span><span class="sxs-lookup"><span data-stu-id="71fb5-183">- Run the `Get-InformationBarrierPoliciesApplicationStatus` cmdlet to confirm the policies are applied</span></span><br/><span data-ttu-id="71fb5-184">- Запустите `Start-InformationBarrierPoliciesApplication` cmdlet, чтобы применить все политики активного информационного барьера</span><span class="sxs-lookup"><span data-stu-id="71fb5-184">- Run the `Start-InformationBarrierPoliciesApplication` cmdlet to apply all active information barrier policies</span></span> |

## <a name="issue-i-need-to-remove-a-single-user-from-an-information-barrier-policy"></a><span data-ttu-id="71fb5-185">Проблема. Мне нужно удалить одного пользователя из политики информационного барьера</span><span class="sxs-lookup"><span data-stu-id="71fb5-185">Issue: I need to remove a single user from an information barrier policy</span></span>

<span data-ttu-id="71fb5-186">В этом случае действует политика информационного барьера, и один или несколько пользователей неожиданно блокируют общение с другими пользователями в Microsoft Teams.</span><span class="sxs-lookup"><span data-stu-id="71fb5-186">In this case, information barrier policies are in effect, and a one or more users are unexpectedly blocked from communicating with others in Microsoft Teams.</span></span> <span data-ttu-id="71fb5-187">Вместо удаления политик информационного барьера можно удалить одного или несколько отдельных пользователей из политик информационного барьера.</span><span class="sxs-lookup"><span data-stu-id="71fb5-187">Rather than remove information barrier policies altogether, you can remove one or more individual users from information barrier policies.</span></span>

### <a name="what-to-do"></a><span data-ttu-id="71fb5-188">Действия</span><span class="sxs-lookup"><span data-stu-id="71fb5-188">What to do</span></span>

<span data-ttu-id="71fb5-189">Политики информационного барьера назначены сегментам пользователей.</span><span class="sxs-lookup"><span data-stu-id="71fb5-189">Information barrier policies are assigned to segments of users.</span></span> <span data-ttu-id="71fb5-190">Сегменты определяются с помощью определенных [атрибутов в профилях учетных записей пользователей.](information-barriers-attributes.md)</span><span class="sxs-lookup"><span data-stu-id="71fb5-190">Segments are defined by using certain [attributes in user account profiles](information-barriers-attributes.md).</span></span> <span data-ttu-id="71fb5-191">Если необходимо удалить политику у одного пользователя, рассмотрите возможность редактирования профиля этого пользователя в Azure Active Directory таким образом, чтобы пользователь больше не включался в сегмент, затронутый информационными барьерами.</span><span class="sxs-lookup"><span data-stu-id="71fb5-191">If you must remove a policy from a single user, consider editing that user's profile in Azure Active Directory such that the user is no longer included in a segment affected by information barriers.</span></span>

1. <span data-ttu-id="71fb5-192">Используйте **комлет Get-InformationBarrierRecipientStatus** с параметрами Identity.</span><span class="sxs-lookup"><span data-stu-id="71fb5-192">Use the **Get-InformationBarrierRecipientStatus** cmdlet with Identity parameters.</span></span> <span data-ttu-id="71fb5-193">В этом комлете возвращаются сведения о пользователях, например значения атрибутов и применяемые политики информационного барьера.</span><span class="sxs-lookup"><span data-stu-id="71fb5-193">This cmdlet returns information about users, such as attribute values and any information barrier policies that are applied.</span></span>

    |<span data-ttu-id="71fb5-194">**Синтаксис**</span><span class="sxs-lookup"><span data-stu-id="71fb5-194">**Syntax**</span></span>|<span data-ttu-id="71fb5-195">**Пример**</span><span class="sxs-lookup"><span data-stu-id="71fb5-195">**Example**</span></span>|
    |:---------|:----------|
    | `Get-InformationBarrierRecipientStatus -Identity <value> -Identity2 <value>` <p> <span data-ttu-id="71fb5-196">Вы можете использовать любое значение, которое уникально идентифицирует каждого пользователя, например имя, псевдоним, имя, каноническое доменное имя, адрес электронной почты или GUID.</span><span class="sxs-lookup"><span data-stu-id="71fb5-196">You can use any value that uniquely identifies each user, such as name, alias, distinguished name, canonical domain name, email address, or GUID.</span></span> | `Get-InformationBarrierRecipientStatus -Identity meganb -Identity2 alexw` <p> <span data-ttu-id="71fb5-197">В этом примере мы ссылаемся на две учетные записи пользователей в Office 365: *meganb* для *Меган* и *alexw* для *Alex*.</span><span class="sxs-lookup"><span data-stu-id="71fb5-197">In this example, we refer to two user accounts in Office 365: *meganb* for *Megan*, and *alexw* for *Alex*.</span></span>          |
    | `Get-InformationBarrierRecipientStatus -Identity <value>` <p> <span data-ttu-id="71fb5-198">Вы можете использовать любое значение, которое однозначно идентифицирует пользователя, например имя, псевдоним, имя, каноническое доменное имя, адрес электронной почты или GUID.</span><span class="sxs-lookup"><span data-stu-id="71fb5-198">You can use any value that uniquely identifies the user, such as name, alias, distinguished name, canonical domain name, email address, or GUID.</span></span>|`Get-InformationBarrierRecipientStatus -Identity jeanp`<p> <span data-ttu-id="71fb5-199">В этом примере мы ссылаемся на одну учетную запись в Office 365: *jeanp*.</span><span class="sxs-lookup"><span data-stu-id="71fb5-199">In this example, we refer to a single account in Office 365: *jeanp*.</span></span> |

2. <span data-ttu-id="71fb5-200">Просмотрите результаты, чтобы узнать, назначены ли политики информационного барьера и к каков сегменту (s) принадлежит пользователь(ы).</span><span class="sxs-lookup"><span data-stu-id="71fb5-200">Review the results to see if information barrier policies are assigned, and to which segment(s) the user(s) belong.</span></span>

3. <span data-ttu-id="71fb5-201">Чтобы удалить пользователя из сегмента, затронутого информационными барьерами, обновите сведения о профиле пользователя в [Azure Active Directory.](/azure/active-directory/fundamentals/active-directory-users-profile-azure-portal)</span><span class="sxs-lookup"><span data-stu-id="71fb5-201">To remove a user from a segment affected by information barriers, [update the user's profile information in Azure Active Directory](/azure/active-directory/fundamentals/active-directory-users-profile-azure-portal).</span></span>

4. <span data-ttu-id="71fb5-202">Подождите около 30 минут, пока произойдет FwdSync.</span><span class="sxs-lookup"><span data-stu-id="71fb5-202">Wait about 30 minutes for FwdSync to occur.</span></span> <span data-ttu-id="71fb5-203">Или запустите `Start-InformationBarrierPoliciesApplication` этот кодлет, чтобы применить все политики активного информационного барьера.</span><span class="sxs-lookup"><span data-stu-id="71fb5-203">Or, run the `Start-InformationBarrierPoliciesApplication` cmdlet to apply all active information barrier policies.</span></span>

## <a name="issue-the-information-barrier-application-process-is-taking-too-long"></a><span data-ttu-id="71fb5-204">Проблема. Процесс применения информационного барьера принимает слишком много времени</span><span class="sxs-lookup"><span data-stu-id="71fb5-204">Issue: The information barrier application process is taking too long</span></span>

<span data-ttu-id="71fb5-205">После запуска **комлета Start-InformationBarrierPoliciesApplication** процесс действительно долго заканчивается.</span><span class="sxs-lookup"><span data-stu-id="71fb5-205">After running the **Start-InformationBarrierPoliciesApplication** cmdlet, the process is taking a really long time to finish.</span></span>

### <a name="what-to-do"></a><span data-ttu-id="71fb5-206">Действия</span><span class="sxs-lookup"><span data-stu-id="71fb5-206">What to do</span></span>

<span data-ttu-id="71fb5-207">Помните, что при запуске комлета приложения политики применяются (или удаляются) политики информационного барьера для всех учетных записей в организации.</span><span class="sxs-lookup"><span data-stu-id="71fb5-207">Keep in mind that when you run the policy application cmdlet, information barrier policies are being applied (or removed), user by user, for all accounts in your organization.</span></span> <span data-ttu-id="71fb5-208">Если у вас много пользователей, обработка займет некоторое время.</span><span class="sxs-lookup"><span data-stu-id="71fb5-208">If you have a lot of users, it will take a while to process.</span></span> <span data-ttu-id="71fb5-209">(В общем руководстве обработка 5000 учетных записей пользователей занимает около часа.)</span><span class="sxs-lookup"><span data-stu-id="71fb5-209">(As a general guideline, it takes about an hour to process 5,000 user accounts.)</span></span>

1. <span data-ttu-id="71fb5-210">Чтобы проверить состояние последнего приложения политики, используйте кодлет **Get-InformationBarrierPoliciesApplicationStatus.**</span><span class="sxs-lookup"><span data-stu-id="71fb5-210">Use the **Get-InformationBarrierPoliciesApplicationStatus** cmdlet to verify status of the most recent policy application.</span></span>

    |<span data-ttu-id="71fb5-211">**Просмотр последнего приложения политики**</span><span class="sxs-lookup"><span data-stu-id="71fb5-211">**To view the most recent policy application**</span></span>|<span data-ttu-id="71fb5-212">**Просмотр состояния для всех приложений политики**</span><span class="sxs-lookup"><span data-stu-id="71fb5-212">**To view status for all policy applications**</span></span>|
    |:---------------------------------------------|:---------------------------------------------|
    | `Get-InformationBarrierPoliciesApplicationStatus` | `Get-InformationBarrierPoliciesApplicationStatus -All $true` |

    <span data-ttu-id="71fb5-213">В нем будут отображаться сведения о том, завершено ли приложение политики, не выполнено или находится в процессе выполнения.</span><span class="sxs-lookup"><span data-stu-id="71fb5-213">This will display information about whether policy application completed, failed, or is in progress.</span></span>

2. <span data-ttu-id="71fb5-214">В зависимости от результатов предыдущего шага вы можете сделать один из следующих действий:</span><span class="sxs-lookup"><span data-stu-id="71fb5-214">Depending on the results of the previous step, take one of the following steps:</span></span>
  
    |<span data-ttu-id="71fb5-215">**Состояние**</span><span class="sxs-lookup"><span data-stu-id="71fb5-215">**Status**</span></span>|<span data-ttu-id="71fb5-216">**Следующий шаг**</span><span class="sxs-lookup"><span data-stu-id="71fb5-216">**Next step**</span></span>|
    |:---------|:------------|
    | <span data-ttu-id="71fb5-217">**Не запущено**.</span><span class="sxs-lookup"><span data-stu-id="71fb5-217">**Not started**</span></span> | <span data-ttu-id="71fb5-218">Если с момента запуска комлета **Start-InformationBarrierPoliciesApplication** прошло более 45 минут, просмотрите журнал аудита, чтобы узнать, есть ли ошибки в определениях политики или по какой-либо другой причине, по которой приложение не запущено.</span><span class="sxs-lookup"><span data-stu-id="71fb5-218">If it has been more than 45 minutes since the **Start-InformationBarrierPoliciesApplication** cmdlet has been run, review your audit log to see if there are any errors in policy definitions, or some other reason why the application has not started.</span></span> |
    | <span data-ttu-id="71fb5-219">**Не удалось выполнить**</span><span class="sxs-lookup"><span data-stu-id="71fb5-219">**Failed**</span></span> | <span data-ttu-id="71fb5-220">Если приложение не справилось, просмотрите журнал аудита.</span><span class="sxs-lookup"><span data-stu-id="71fb5-220">If the application has failed, review your audit log.</span></span> <span data-ttu-id="71fb5-221">Также просмотрите сегменты и политики.</span><span class="sxs-lookup"><span data-stu-id="71fb5-221">Also review your segments and policies.</span></span> <span data-ttu-id="71fb5-222">Назначены ли пользователям несколько сегментов?</span><span class="sxs-lookup"><span data-stu-id="71fb5-222">Are any users assigned to more than one segment?</span></span> <span data-ttu-id="71fb5-223">Назначены ли какие-либо сегменты более чем одной политике?</span><span class="sxs-lookup"><span data-stu-id="71fb5-223">Are any segments assigned more than one poliicy?</span></span> <span data-ttu-id="71fb5-224">При необходимости [отредактировать](information-barriers-edit-segments-policies.md#edit-a-segment) сегменты [и/или](information-barriers-edit-segments-policies.md#edit-a-policy)изменить политики, а затем снова запустите кодлет **Start-InformationBarrierPoliciesApplication.**</span><span class="sxs-lookup"><span data-stu-id="71fb5-224">If necessary, [edit segments](information-barriers-edit-segments-policies.md#edit-a-segment) and/or [edit policies](information-barriers-edit-segments-policies.md#edit-a-policy), and then run the **Start-InformationBarrierPoliciesApplication** cmdlet again.</span></span> |
    | <span data-ttu-id="71fb5-225">**В процессе выполнения**</span><span class="sxs-lookup"><span data-stu-id="71fb5-225">**In progress**</span></span> | <span data-ttu-id="71fb5-226">Если приложение еще не завершено, у вас будет больше времени на его завершение.</span><span class="sxs-lookup"><span data-stu-id="71fb5-226">If the application is still in progress, allow more time for it to complete.</span></span> <span data-ttu-id="71fb5-227">Если это было несколько дней, соберите журналы аудита и обратитесь в службу поддержки.</span><span class="sxs-lookup"><span data-stu-id="71fb5-227">If it has been several days, gather your audit logs, and then contact support.</span></span> |

## <a name="issue-information-barrier-policies-are-not-being-applied-at-all"></a><span data-ttu-id="71fb5-228">Проблема. Политики информационного барьера вообще не применяются</span><span class="sxs-lookup"><span data-stu-id="71fb5-228">Issue: Information barrier policies are not being applied at all</span></span>

<span data-ttu-id="71fb5-229">В этом случае вы определили сегменты, определили политики информационного барьера и попытались применить эти политики.</span><span class="sxs-lookup"><span data-stu-id="71fb5-229">In this case, you have defined segments, defined information barrier policies, and have attempted to apply those policies.</span></span> <span data-ttu-id="71fb5-230">Однако при запуске cmdlet можно увидеть, что приложение политики `Get-InformationBarrierPoliciesApplicationStatus` не справилось.</span><span class="sxs-lookup"><span data-stu-id="71fb5-230">However, when you run the `Get-InformationBarrierPoliciesApplicationStatus` cmdlet, you can see that policy application has failed.</span></span>

### <a name="what-to-do"></a><span data-ttu-id="71fb5-231">Действия</span><span class="sxs-lookup"><span data-stu-id="71fb5-231">What to do</span></span>

<span data-ttu-id="71fb5-232">Убедитесь, что в организации нет политик адресной книги [Exchange.](/exchange/address-books/address-book-policies/address-book-policies)</span><span class="sxs-lookup"><span data-stu-id="71fb5-232">Make sure that your organization does not have [Exchange address book policies](/exchange/address-books/address-book-policies/address-book-policies) in place.</span></span> <span data-ttu-id="71fb5-233">Такие политики не будут применять политики информационного барьера.</span><span class="sxs-lookup"><span data-stu-id="71fb5-233">Such policies will prevent information barrier policies from being applied.</span></span>

1. <span data-ttu-id="71fb5-234">Подключитесь к [Exchange Online PowerShell](/powershell/exchange/connect-to-exchange-online-powershell).</span><span class="sxs-lookup"><span data-stu-id="71fb5-234">Connect to [Exchange Online PowerShell](/powershell/exchange/connect-to-exchange-online-powershell).</span></span>

2. <span data-ttu-id="71fb5-235">Запустите [кодлет Get-AddressBookPolicy](/powershell/module/exchange/get-addressbookpolicy) и просмотрите результаты.</span><span class="sxs-lookup"><span data-stu-id="71fb5-235">Run the [Get-AddressBookPolicy](/powershell/module/exchange/get-addressbookpolicy) cmdlet, and review the results.</span></span>

    |<span data-ttu-id="71fb5-236">**Results**</span><span class="sxs-lookup"><span data-stu-id="71fb5-236">**Results**</span></span>|<span data-ttu-id="71fb5-237">**Следующий шаг**</span><span class="sxs-lookup"><span data-stu-id="71fb5-237">**Next step**</span></span>|
    |:----------|:------------|
    | <span data-ttu-id="71fb5-238">Перечислены политики адресной книги Exchange</span><span class="sxs-lookup"><span data-stu-id="71fb5-238">Exchange address book policies are listed</span></span> | [<span data-ttu-id="71fb5-239">Удаление политик адресных книг</span><span class="sxs-lookup"><span data-stu-id="71fb5-239">Remove address book policies</span></span>](/exchange/address-books/address-book-policies/remove-an-address-book-policy) |
    | <span data-ttu-id="71fb5-240">Политики адресной книги не существуют</span><span class="sxs-lookup"><span data-stu-id="71fb5-240">No address book policies exist</span></span> |<span data-ttu-id="71fb5-241">Просмотрите журналы аудита, чтобы выяснить причины сбоя приложения политики</span><span class="sxs-lookup"><span data-stu-id="71fb5-241">Review your audit logs to find out why policy application is failing</span></span> |

3. <span data-ttu-id="71fb5-242">[Просмотр состояния учетных записей пользователей, сегментов, политик или приложений политики.](information-barriers-policies.md#view-status-of-user-accounts-segments-policies-or-policy-application)</span><span class="sxs-lookup"><span data-stu-id="71fb5-242">[View status of user accounts, segments, policies, or policy application](information-barriers-policies.md#view-status-of-user-accounts-segments-policies-or-policy-application).</span></span>

## <a name="issue-information-barrier-policy-not-applied-to-all-designated-users"></a><span data-ttu-id="71fb5-243">Проблема. Политика информационного барьера не применяется к всем назначенным пользователям</span><span class="sxs-lookup"><span data-stu-id="71fb5-243">Issue: Information barrier policy not applied to all designated users</span></span>

<span data-ttu-id="71fb5-244">После определения сегментов, определенных политик информационного барьера и попыток применения этих политик вы можете обнаружить, что политика применяется к некоторым получателям, но не к другим.</span><span class="sxs-lookup"><span data-stu-id="71fb5-244">After you have defined segments, defined information barrier policies, and have attempted to apply those policies, you may find that the policy is applying to some recipients, but not to others.</span></span>
<span data-ttu-id="71fb5-245">При запуске `Get-InformationBarrierPoliciesApplicationStatus` cmdlet ищите выход для текста, подобного этому.</span><span class="sxs-lookup"><span data-stu-id="71fb5-245">When you run the `Get-InformationBarrierPoliciesApplicationStatus` cmdlet, search the output for text like this.</span></span>

> <span data-ttu-id="71fb5-246">Identity: `<application guid>`</span><span class="sxs-lookup"><span data-stu-id="71fb5-246">Identity: `<application guid>`</span></span>
>
> <span data-ttu-id="71fb5-247">Всего получателей: 81527</span><span class="sxs-lookup"><span data-stu-id="71fb5-247">Total Recipients: 81527</span></span>
>
> <span data-ttu-id="71fb5-248">Неудались получатели: 2</span><span class="sxs-lookup"><span data-stu-id="71fb5-248">Failed Recipients: 2</span></span>
>
> <span data-ttu-id="71fb5-249">Категория отказов: Нет</span><span class="sxs-lookup"><span data-stu-id="71fb5-249">Failure Category: None</span></span>
>
> <span data-ttu-id="71fb5-250">Состояние: полное</span><span class="sxs-lookup"><span data-stu-id="71fb5-250">Status: Complete</span></span>

### <a name="what-to-do"></a><span data-ttu-id="71fb5-251">Действия</span><span class="sxs-lookup"><span data-stu-id="71fb5-251">What to do</span></span>

1. <span data-ttu-id="71fb5-252">Поиск в журнале аудита `<application guid>` для .</span><span class="sxs-lookup"><span data-stu-id="71fb5-252">Search in the audit log for `<application guid>`.</span></span> <span data-ttu-id="71fb5-253">Этот код PowerShell можно скопировать и изменить для переменных.</span><span class="sxs-lookup"><span data-stu-id="71fb5-253">You can copy this PowerShell code and modify for your variables.</span></span>

```powershell
$DetailedLogs = Search-UnifiedAuditLog -EndDate <yyyy-mm-ddThh:mm:ss>  -StartDate <yyyy-mm-ddThh:mm:ss> -RecordType InformationBarrierPolicyApplication -ResultSize 1000 |?{$_.AuditData.Contains(<application guid>)} 
```

2. <span data-ttu-id="71fb5-254">Проверьте подробный вывод из журнала аудита для значений `"UserId"` полей и `"ErrorDetails"` полей.</span><span class="sxs-lookup"><span data-stu-id="71fb5-254">Check the detailed output from the audit log for the values of the `"UserId"` and `"ErrorDetails"` fields.</span></span> <span data-ttu-id="71fb5-255">Это даст вам причину сбоя.</span><span class="sxs-lookup"><span data-stu-id="71fb5-255">This will give you the reason for the failure.</span></span> <span data-ttu-id="71fb5-256">Этот код PowerShell можно скопировать и изменить для переменных.</span><span class="sxs-lookup"><span data-stu-id="71fb5-256">You can copy this PowerShell code and modify for your variables.</span></span>

```powershell
   $DetailedLogs[1] |fl
```

<span data-ttu-id="71fb5-257">Пример:</span><span class="sxs-lookup"><span data-stu-id="71fb5-257">For example:</span></span>

> <span data-ttu-id="71fb5-258">"UserId": User1</span><span class="sxs-lookup"><span data-stu-id="71fb5-258">"UserId":  User1</span></span>
>
><span data-ttu-id="71fb5-259">"ErrorDetails":"Status: IBPolicyConflict.</span><span class="sxs-lookup"><span data-stu-id="71fb5-259">"ErrorDetails":"Status: IBPolicyConflict.</span></span> <span data-ttu-id="71fb5-260">Ошибка: сегмент IB "сегмент id1" и сегмент IB "segment id2" имеет конфликт и не может быть назначен получателю.</span><span class="sxs-lookup"><span data-stu-id="71fb5-260">Error: IB  segment "segment id1" and IB segment "segment id2" has conflict and cannot be assigned to the recipient.</span></span>

3. <span data-ttu-id="71fb5-261">Обычно вы найдете, что пользователь был включен в несколько сегментов.</span><span class="sxs-lookup"><span data-stu-id="71fb5-261">Usually, you will find that a user has been included in more than one segment.</span></span> <span data-ttu-id="71fb5-262">Это можно исправить, обновив `-UserGroupFilter` значение `OrganizationSegments` в .</span><span class="sxs-lookup"><span data-stu-id="71fb5-262">You can fix this by updating the `-UserGroupFilter` value in `OrganizationSegments`.</span></span>

4. <span data-ttu-id="71fb5-263">Повторное применение политик информационного барьера с помощью этих процедур [Политики информационных барьеров](information-barriers-policies.md#part-3-apply-information-barrier-policies).</span><span class="sxs-lookup"><span data-stu-id="71fb5-263">Re-apply information barrier policies using these procedures [Information Barriers policies](information-barriers-policies.md#part-3-apply-information-barrier-policies).</span></span>

## <a name="resources"></a><span data-ttu-id="71fb5-264">Ресурсы</span><span class="sxs-lookup"><span data-stu-id="71fb5-264">Resources</span></span>

- [<span data-ttu-id="71fb5-265">Определение политик для информационных барьеров в Microsoft Teams</span><span class="sxs-lookup"><span data-stu-id="71fb5-265">Define policies for information barriers in Microsoft Teams</span></span>](information-barriers-policies.md)
- [<span data-ttu-id="71fb5-266">Информационные барьеры</span><span class="sxs-lookup"><span data-stu-id="71fb5-266">Information barriers</span></span>](information-barriers.md)