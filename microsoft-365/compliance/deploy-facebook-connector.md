---
title: Развертывание соединитетеля для архива данных бизнес-страниц Facebook
f1.keywords:
- NOCSH
ms.author: markjjo
author: markjjo
manager: laurawi
ms.date: ''
audience: Admin
ms.topic: article
ms.service: O365-seccomp
localization_priority: Normal
search.appverid:
- MET150
ms.collection: M365-security-compliance
ROBOTS: NOINDEX, NOFOLLOW
description: Администраторы могут настроить родной соединитель для импорта и архива страниц Facebook Business для Microsoft 365. После импорта этих данных в Microsoft 365 можно использовать такие функции соответствия требованиям, как юридические удержания, поиск контента и политики хранения для управления данными Facebook вашей организации.
ms.openlocfilehash: b771c50eb5c2eb5f99269f1f399d27043ebee6bb
ms.sourcegitcommit: 6fc6aaa2b7610e148f41018abd229e3c55b2f3d0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/10/2020
ms.locfileid: "49619955"
---
# <a name="deploy-a-connector-to-archive-facebook-business-pages-data"></a>Развертывание соединитетеля для архива данных бизнес-страниц Facebook

В этой статье содержится пошаговая процедура развертывания соединитетеля, который использует службу импорта Office 365 для импорта данных со страниц Facebook Business в Microsoft 365. Краткий обзор этого процесса и список необходимых условий для развертывания соединитетеля Facebook см. в странице Настройка соединитетеля для архивации [данных Facebook.](archive-facebook-data-with-sample-connector.md)

## <a name="step-1-create-an-app-in-azure-active-directory"></a>Шаг 1. Создание приложения в Azure Active Directory

1. Перейдите к учетным данным глобальной учетной записи администратора и войдите в <https://portal.azure.com> нее.

    ![Создание приложения в AAD](../media/FBCimage1.png)

2. В области навигации слева щелкните **Azure Active Directory**.

    ![Щелкните Azure Active Directory](../media/FBCimage2.png)

3. В левой области навигации нажмите **кнопку Регистрация приложения (Предварительная версия)** и нажмите **кнопку Новая регистрация**.

    ![Щелкните **Регистрация приложений (Предварительная версия)** и нажмите кнопку **Новая регистрация**](../media/FBCimage3.png)

4. Регистрация приложения. В URI перенаправления выберите Веб в списке выпаданий типа приложения и введите в поле <https://portal.azure.com> для URI.

   ![Регистрация приложения](../media/FBCimage4.png)

5. **Скопируйте ID приложения (клиента)** и **ID каталога (клиента)** и сохраните их в текстовом файле или другом безопасном расположении. Эти ID используются в последующих действиях.

   ![Скопируйте ID приложения и ИД Каталог и сохраните их](../media/FBCimage5.png)

6. Перейдите **к & сертификатам для нового приложения.**

   ![Перейдите к & сертификатам для нового приложения](../media/FBCimage6.png)

7. Нажмите **кнопку Новый секрет клиента**

   ![Нажмите кнопку Новый секрет клиента](../media/FBCimage7.png)

8. Создайте новый секрет. В поле описания введите секрет и выберите срок действия.

    ![Введите секрет и выберите срок действия](../media/FBCimage8.png)

9. Скопируйте значение секрета и сохраните его в текстовом файле или другом расположении хранилища. Это секрет приложения AAD, который используется в последующих действиях.

   ![Скопируйте значение секрета и сохраните его](../media/FBCimage9.png)

## <a name="step-2-deploy-the-connector-web-service-from-github-to-your-azure-account"></a>Шаг 2. Развертывание веб-службы соединиттеля GitHub учетной записи Azure

1. Перейдите [на этот GitHub и](https://github.com/microsoft/m365-sample-connector-csharp-aspnet) нажмите **кнопку Развертывание в Azure.**

    ![Щелкните Развертывание в Azure](../media/FBCGithubApp.png)

2. После нажатия **кнопки Развертывание в Azure** вы будете перенаправлены на портал Azure с настраиваемой страницей шаблонов. Заполните **основные** и **Параметры,** а затем нажмите кнопку **Покупка**.

   - **Подписка:** Выберите подписку Azure, в которую необходимо развернуть веб-службу соединиттеля страниц Facebook.

   - **Группа ресурсов:** Выберите или создайте новую группу ресурсов. Группа ресурсов — это контейнер, который содержит соответствующие ресурсы для решения Azure.

   - **Расположение:** Выберите расположение.

   - **Имя веб-приложения:** Укажет уникальное имя для веб-приложения соединители. Имя должно быть от 3 до 18 символов в длину. Это имя используется для создания URL-адреса службы приложений Azure; например, если вы предоставите имя **fbconnector** **веб-приложения,** URL-адрес службы приложений Azure будет fbconnector.azurewebsites.net .

   - **tenantId:** ID клиента вашей Microsoft 365, который вы скопировали после создания приложения соединиттеля Facebook в Azure Active Directory шаге 1.

   - **APISecretKey:** Вы можете ввести любое значение как секрет. Это используется для доступа к веб-приложению соединители в шаге 5.

     ![Нажмите кнопку Создание учетной записи хранилища ресурсов и типа](../media/FBCimage12.png)

3. После успешного развертывания страница будет выглядеть аналогично следующему скриншоту:

   ![Щелкните служба хранилища и нажмите служба хранилища учетную запись](../media/FBCimage13.png)

## <a name="step-3-register-the-facebook-app"></a>Шаг 3. Регистрация приложения Facebook

1. Перейдите в систему, войдите в систему с помощью учетных данных для учетной записи для бизнес-страниц Facebook вашей организации, а затем нажмите <https://developers.facebook.com> **кнопку Добавить новое приложение**.

   ![Добавление нового приложения для бизнес-страницы Facebook](../media/FBCimage25.png)

2. Создайте новый ID приложения.

   ![Создание нового ID приложения](../media/FBCimage26.png)

3. В левой области навигации щелкните **Добавить продукты** и нажмите **кнопку Настройка** в **плитке входа в Facebook.**

   ![Щелкните Добавить продукты](../media/FBCimage27.png)

4. На странице Интеграция входа в Facebook щелкните **Веб.**

   ![Щелкните Веб на странице Интеграция входа в Facebook](../media/FBCimage28.png)

5. Добавление URL-адреса службы приложений Azure; например `https://fbconnector.azurewebsites.net` .

   ![Добавление URL-адреса службы приложений Azure](../media/FBCimage29.png)

6. Выполните раздел QuickStart установки входа в Facebook.

   ![Завершение раздела QuickStart](../media/FBCimage30.png)

7. В левой области навигации в **журнале Facebook** нажмите кнопку Параметры и **добавьте** URI перенаправления OAuth в поле Valid **OAuth Redirect URIS.** Используйте формат **\<connectorserviceuri> /Views/FacebookOAuth,** где значением для connectorserviceuri является URL-адрес службы приложений Azure для вашей организации; `https://fbconnector.azurewebsites.net` например.

   ![Добавление URI перенаправления OAuth в поле Допустимые URL-адреса перенаправления OAuth](../media/FBCimage31.png)

8. В левой области навигации нажмите **кнопку Добавить продукты** и нажмите **веб-ок.** В **пусковом** меню Page щелкните **Страницу**.

   ![Нажмите кнопку Добавить продукты и нажмите кнопку **Webhooks](../media/FBCimage32.png)

9. Добавьте URL-адрес webhooks callback и добавьте маркер проверки. В формате URL-адреса вызова используйте формат **<connectorserviceuri> /api/FbPageWebhook,** где значение connectorserviceuri — URL-адрес службы приложений Azure для вашей организации; например `https://fbconnector.azurewebsites.net` .

   Маркер проверки должен быть похож на надежный пароль. Скопируйте маркер проверки в текстовый файл или другое расположение хранилища.

   ![Добавление маркера проверки](../media/FBCimage33.png)

10. Проверьте и подпишитесь на конечную точку для канала.

    ![Тестирование и подписка на конечную точку](../media/FBCimage34.png)

11. Добавьте URL-адрес конфиденциальности, значок приложения и бизнес-использование. Кроме того, скопируйте ID приложения и секрет приложения в текстовый файл или другое расположение хранилища.

    ![Добавление URL-адреса конфиденциальности, значка приложения и использования бизнеса](../media/FBCimage35.png)

12. Сделать приложение общедоступным.

    ![Сделать приложение общедоступным](../media/FBCimage36.png)

13. Добавьте пользователя в роль администратора или тестера.

    ![Добавление пользователя в роль администратора или тестера](../media/FBCimage37.png)

14. Добавьте разрешение **на доступ к общественному контенту страницы.**

    ![dd разрешение доступа к общественному контенту страницы](../media/FBCimage38.png)

15. Добавление разрешения На управление страницами.

    ![Добавление разрешения на управление страницами](../media/FBCimage39.png)

16. Просмотрите приложение в Facebook.

    ![Просмотр приложения в Facebook](../media/FBCimage40.png)

## <a name="step-4-configure-the-connector-web-app"></a>Шаг 4. Настройка веб-приложения соединители

1. Перейдите `https://<AzureAppResourceName>.azurewebsites.net` к (где AzureAppResourceName — это имя ресурса приложения Azure, который вы назвали в шаге 4). Например, если имя **fbconnector,** перейдите к `https://fbconnector.azurewebsites.net` . Домашняя страница приложения будет выглядеть следующим образом:

   ![Перейдите к веб-приложению соединитела](../media/FBCimage41.png)

2. Щелкните **Настройка** для отображения знака на странице.

   ![Щелкните Настройка для отображения знака на странице](../media/FBCimage42.png)

3. В поле "Id tenant" введите или введите свой id клиента (полученный в шаге 2). В поле пароль введите или введите APISecretKey (полученный в шаге 2), а затем нажмите кнопку **Set Configuration Параметры,** чтобы отобразить страницу сведений о конфигурации.

    ![Войдите в код клиента и пароль и перейдите на страницу сведений о конфигурации](../media/FBCimage43.png)

4. Введите следующие параметры конфигурации

   - **ID приложения Facebook:** ID приложения для приложения Facebook, полученного в шаге 3.

   - **Секрет приложения Facebook:** Секрет приложения для приложения Facebook, полученный в шаге 3.

   - **Веб-сайты Facebook проверяют маркер:** Маркер проверки, созданный в шаге 3.

   - **ID приложения AAD:** ID приложения для Azure Active Directory, созданного в шаге 1.

   - **Секрет приложения AAD:** Значение секрета APISecretKey, созданного в шаге 1.

5. Щелкните **Сохранить,** чтобы сохранить параметры соединитетеля.

## <a name="step-5-set-up-a-facebook-connector-in-the-microsoft-365-compliance-center"></a>Шаг 5. Настройка соединитетеля Facebook в центре Microsoft 365 соответствия требованиям

1. Перейдите [https://compliance.microsoft.com](https://compliance.microsoft.com) к и нажмите **соединители данных** в левом nav.

2. На странице **Соединители данных** на страницах **Бизнеса Facebook** нажмите **кнопку Просмотр**.

3. На странице **бизнес-страниц Facebook** нажмите кнопку **Добавить соединителю**.

4. На странице **Условия службы нажмите** кнопку **Принять**.

5. На странице **Добавление учетных данных для приложения соединителю** введите следующую информацию и нажмите кнопку **Проверка подключения.**

   ![Ввод учетных данных приложения соединитела](../media/TCimage38.png)

   - В поле **Имя** введите имя соединитетеля, например **страницу новостей Facebook.**

   - В поле **URL-адрес подключения** введите или введите URL-адрес службы приложений Azure; например `https://fbconnector.azurewebsites.net` .

   - В поле **Пароль** введите или введите значение APISecretKey, добавленное в шаге 2.

   - В поле **Azure App ID** введите или введите значение ID приложения (клиента), который также называется AAD Application ID, созданный в шаге 1.

6. После успешной проверки подключения нажмите кнопку **Далее**.

7. На странице **Авторизации Microsoft 365** импортировать данные, введите или введите APISecretKey снова, а затем щелкните веб-приложение **Login**.

8. На странице **Настройка приложения-соединиттеля Facebook** нажмите кнопку Войти в **Facebook** и войдите в систему с помощью учетных данных для учетной записи для страниц бизнеса Facebook вашей организации. Убедитесь, что учетная запись Facebook, в которую вы вошли, назначена роль администратора для страниц бизнеса в Facebook вашей организации.

   ![Войдите в систему с Помощью Facebook](../media/FBCimage50.png)

9. Отображается список бизнес-страниц, управляемых учетной записью Facebook, в которую вы вошли. Выберите страницу для архива и нажмите кнопку **Далее**.

   ![Выберите страницу бизнеса организации, которую необходимо архивировать](../media/FBCimage52.png)

10. Нажмите **кнопку** Продолжить, чтобы выйти из установки приложения-службы соединитела.

11. На странице **Set filters** можно применить фильтр для первоначального импорта элементов определенного возраста. Выберите возраст, а затем нажмите **кнопку Далее**.

12. На странице **Выбор расположения** хранилища введите адрес электронной почты Microsoft 365 почтового ящика, в который будут импортироваться элементы Facebook, а затем нажмите **кнопку Далее**.

13. Нажмите **кнопку Далее,** чтобы просмотреть параметры соединитетеля, а затем нажмите **кнопку Готово,** чтобы завершить настройку соединитетеля.

14. В центре соответствия требованиям перейдите на страницу **соединители** данных и щелкните вкладку **Соединители,** чтобы увидеть ход процесса импорта.
