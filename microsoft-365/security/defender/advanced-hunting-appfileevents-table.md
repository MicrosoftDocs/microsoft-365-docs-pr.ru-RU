---
title: Таблица AppFileEvents в продвинутой схеме охоты
description: Узнайте о событиях, связанных с файлами, связанных с облачными приложениями и службами, в таблице AppFileEvents продвинутой схемы охоты
keywords: advanced hunting, threat hunting, cyber threat hunting, microsoft threat protection, Microsoft 365, mtp, m365, search, query, telemetry, schema reference, kusto, table, column, data type, description, AppFileEvents, Cloud App App Security, MCAS
search.product: eADQiWindows 10XVcnh
search.appverid: met150
ms.prod: m365-security
ms.mktglfcycl: deploy
ms.sitesec: library
ms.pagetype: security
f1.keywords:
- NOCSH
ms.author: lomayor
author: lomayor
localization_priority: Normal
manager: dansimp
audience: ITPro
ms.collection:
- M365-security-compliance
- m365initiative-m365-defender
ms.topic: article
ms.technology: m365d
ms.openlocfilehash: f25570916692c4568a6d09d92faaf57b0c155029
ms.sourcegitcommit: 956176ed7c8b8427fdc655abcd1709d86da9447e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/23/2021
ms.locfileid: "51071638"
---
# <a name="appfileevents"></a><span data-ttu-id="6959d-104">AppFileEvents</span><span class="sxs-lookup"><span data-stu-id="6959d-104">AppFileEvents</span></span>

[!INCLUDE [Microsoft 365 Defender rebranding](../includes/microsoft-defender.md)]


<span data-ttu-id="6959d-105">**Область применения:**</span><span class="sxs-lookup"><span data-stu-id="6959d-105">**Applies to:**</span></span>
- <span data-ttu-id="6959d-106">Microsoft 365 Defender</span><span class="sxs-lookup"><span data-stu-id="6959d-106">Microsoft 365 Defender</span></span>

<span data-ttu-id="6959d-107">Таблица в продвинутой схеме охоты содержит сведения о действиях, связанных с файлами, в облачных приложениях и службах, под наблюдением `AppFileEvents` Microsoft Cloud App Security. [](advanced-hunting-overview.md)</span><span class="sxs-lookup"><span data-stu-id="6959d-107">The `AppFileEvents` table in the [advanced hunting](advanced-hunting-overview.md) schema contains information about file-related activities in cloud apps and services monitored by Microsoft Cloud App Security.</span></span> <span data-ttu-id="6959d-108">Используйте этот справочник для создания запросов, возвращающих данные из этой таблицы.</span><span class="sxs-lookup"><span data-stu-id="6959d-108">Use this reference to construct queries that return information from this table.</span></span>

>[!WARNING]
><span data-ttu-id="6959d-109">Эта таблица скоро будет отменена.</span><span class="sxs-lookup"><span data-stu-id="6959d-109">This table will be retired soon.</span></span> <span data-ttu-id="6959d-110">По 7 марта 2021 г. таблица больше не является `AppFileEvents` записями журналов.</span><span class="sxs-lookup"><span data-stu-id="6959d-110">As of March 7, 2021, the `AppFileEvents` table is no longer logging records.</span></span> <span data-ttu-id="6959d-111">Пользователи, которые охотятся за действиями, связанными с файлами, в облачных службах и за пределами этой даты, должны использовать таблицу [CloudAppEvents.](advanced-hunting-cloudappevents-table.md)</span><span class="sxs-lookup"><span data-stu-id="6959d-111">Users hunting through file-related activities in cloud services on and beyond the said date should use the [CloudAppEvents](advanced-hunting-cloudappevents-table.md) table instead.</span></span> <br><br><span data-ttu-id="6959d-112">Не забудьте найти запросы и пользовательские правила обнаружения, которые по-прежнему используются в таблице, и `AppFileEvents` изменить их для использования `CloudAppEvents` таблицы.</span><span class="sxs-lookup"><span data-stu-id="6959d-112">Make sure to search for queries and custom detection rules that still use the `AppFileEvents` table and edit them to use the `CloudAppEvents` table.</span></span> <span data-ttu-id="6959d-113">Дополнительные инструкции по преобразованию затронутых запросов можно найти в Hunt в облачных приложениях с помощью расширенных методов охоты На защитника [Microsoft 365.](https://techcommunity.microsoft.com/t5/microsoft-365-defender/hunt-across-cloud-app-activities-with-microsoft-365-defender/ba-p/1893857)</span><span class="sxs-lookup"><span data-stu-id="6959d-113">More guidance about converting affected queries can be found in [Hunt across cloud app activities with Microsoft 365 Defender advanced hunting](https://techcommunity.microsoft.com/t5/microsoft-365-defender/hunt-across-cloud-app-activities-with-microsoft-365-defender/ba-p/1893857).</span></span>


<span data-ttu-id="6959d-114">Сведения о других таблицах в схеме расширенного поиска см. в [справочнике по расширенному поиску](advanced-hunting-schema-tables.md).</span><span class="sxs-lookup"><span data-stu-id="6959d-114">For information on other tables in the advanced hunting schema, [see the advanced hunting reference](advanced-hunting-schema-tables.md).</span></span>

| <span data-ttu-id="6959d-115">Имя столбца</span><span class="sxs-lookup"><span data-stu-id="6959d-115">Column name</span></span> | <span data-ttu-id="6959d-116">Тип данных</span><span class="sxs-lookup"><span data-stu-id="6959d-116">Data type</span></span> | <span data-ttu-id="6959d-117">Описание</span><span class="sxs-lookup"><span data-stu-id="6959d-117">Description</span></span> |
|-------------|-----------|-------------|
| `Timestamp` | <span data-ttu-id="6959d-118">datetime</span><span class="sxs-lookup"><span data-stu-id="6959d-118">datetime</span></span> | <span data-ttu-id="6959d-119">Дата и время записи события</span><span class="sxs-lookup"><span data-stu-id="6959d-119">Date and time when the event was recorded</span></span> |
| `ActionType` | <span data-ttu-id="6959d-120">string</span><span class="sxs-lookup"><span data-stu-id="6959d-120">string</span></span> | <span data-ttu-id="6959d-121">Тип действий, которые вызвали событие.</span><span class="sxs-lookup"><span data-stu-id="6959d-121">Type of activity that triggered the event.</span></span> <span data-ttu-id="6959d-122">Подробные [сведения см. в](advanced-hunting-schema-tables.md?#get-schema-information-in-the-security-center) справке по схеме на портале</span><span class="sxs-lookup"><span data-stu-id="6959d-122">See the [in-portal schema reference](advanced-hunting-schema-tables.md?#get-schema-information-in-the-security-center) for details</span></span> |
| `Application` | <span data-ttu-id="6959d-123">строка</span><span class="sxs-lookup"><span data-stu-id="6959d-123">string</span></span> | <span data-ttu-id="6959d-124">Приложение, которое выполнило записанную акцию</span><span class="sxs-lookup"><span data-stu-id="6959d-124">Application that performed the recorded action</span></span> |
| `FileName` | <span data-ttu-id="6959d-125">string</span><span class="sxs-lookup"><span data-stu-id="6959d-125">string</span></span> | <span data-ttu-id="6959d-126">Имя файла, к которому было применено записанное действие</span><span class="sxs-lookup"><span data-stu-id="6959d-126">Name of the file that the recorded action was applied to</span></span> |
| `FolderPath` | <span data-ttu-id="6959d-127">string</span><span class="sxs-lookup"><span data-stu-id="6959d-127">string</span></span> | <span data-ttu-id="6959d-128">Папка, содержащая файл, к котором было применено записано действие</span><span class="sxs-lookup"><span data-stu-id="6959d-128">Folder containing the file that the recorded action was applied to</span></span> |
| `PreviousFileName` | <span data-ttu-id="6959d-129">строка</span><span class="sxs-lookup"><span data-stu-id="6959d-129">string</span></span> | <span data-ttu-id="6959d-130">Исходное имя файла, переименованного в результате действия</span><span class="sxs-lookup"><span data-stu-id="6959d-130">Original name of the file that was renamed as a result of the action</span></span> |
| `PreviousFolderPath` | <span data-ttu-id="6959d-131">строка</span><span class="sxs-lookup"><span data-stu-id="6959d-131">string</span></span> | <span data-ttu-id="6959d-132">Оригинальная папка, содержащая файл перед примененным действием</span><span class="sxs-lookup"><span data-stu-id="6959d-132">Original folder containing the file before the recorded action was applied</span></span> |
| `Protocol` | <span data-ttu-id="6959d-133">строка</span><span class="sxs-lookup"><span data-stu-id="6959d-133">string</span></span> | <span data-ttu-id="6959d-134">Используемый сетевой протокол</span><span class="sxs-lookup"><span data-stu-id="6959d-134">Network protocol used</span></span> |
| `AccountName` | <span data-ttu-id="6959d-135">строка</span><span class="sxs-lookup"><span data-stu-id="6959d-135">string</span></span> | <span data-ttu-id="6959d-136">Имя пользователя учетной записи</span><span class="sxs-lookup"><span data-stu-id="6959d-136">User name of the account</span></span> |
| `AccountDomain` | <span data-ttu-id="6959d-137">строка</span><span class="sxs-lookup"><span data-stu-id="6959d-137">string</span></span> | <span data-ttu-id="6959d-138">Домен учетной записи</span><span class="sxs-lookup"><span data-stu-id="6959d-138">Domain of the account</span></span> |
| `AccountSid` | <span data-ttu-id="6959d-139">строка</span><span class="sxs-lookup"><span data-stu-id="6959d-139">string</span></span> | <span data-ttu-id="6959d-140">Идентификатор безопасности (SID) учетной записи</span><span class="sxs-lookup"><span data-stu-id="6959d-140">Security Identifier (SID) of the account</span></span> |
| `AccountUpn` | <span data-ttu-id="6959d-141">строка</span><span class="sxs-lookup"><span data-stu-id="6959d-141">string</span></span> | <span data-ttu-id="6959d-142">Основное имя пользователя (UPN) учетной записи</span><span class="sxs-lookup"><span data-stu-id="6959d-142">User principal name (UPN) of the account</span></span> |
| `AccountObjectId` | <span data-ttu-id="6959d-143">строка</span><span class="sxs-lookup"><span data-stu-id="6959d-143">string</span></span> | <span data-ttu-id="6959d-144">Уникальный идентификатор учетной записи в Azure AD</span><span class="sxs-lookup"><span data-stu-id="6959d-144">Unique identifier for the account in Azure AD</span></span> |
| `AccountDisplayName` | <span data-ttu-id="6959d-145">строка</span><span class="sxs-lookup"><span data-stu-id="6959d-145">string</span></span> | <span data-ttu-id="6959d-146">Имя пользователя учетной записи, отображаемого в адресной книге.</span><span class="sxs-lookup"><span data-stu-id="6959d-146">Name of the account user displayed in the address book.</span></span> <span data-ttu-id="6959d-147">Как правило, сочетание данной или имени, среднего посвящения и фамилии или фамилии.</span><span class="sxs-lookup"><span data-stu-id="6959d-147">Typically a combination of a given or first name, a middle initiation, and a last name or surname.</span></span> |
| `DeviceName` | <span data-ttu-id="6959d-148">строка</span><span class="sxs-lookup"><span data-stu-id="6959d-148">string</span></span> | <span data-ttu-id="6959d-149">Полное доменное имя (FQDN) устройства</span><span class="sxs-lookup"><span data-stu-id="6959d-149">Fully qualified domain name (FQDN) of the device</span></span> |
| `DeviceType` | <span data-ttu-id="6959d-150">строка</span><span class="sxs-lookup"><span data-stu-id="6959d-150">string</span></span> | <span data-ttu-id="6959d-151">Тип устройства</span><span class="sxs-lookup"><span data-stu-id="6959d-151">Type of device</span></span> | 
| `OSPlatform` | <span data-ttu-id="6959d-152">строка</span><span class="sxs-lookup"><span data-stu-id="6959d-152">string</span></span> | <span data-ttu-id="6959d-153">Платформа операционной системы, запущенной на устройстве.</span><span class="sxs-lookup"><span data-stu-id="6959d-153">Platform of the operating system running on the device.</span></span> <span data-ttu-id="6959d-154">Здесь указываются конкретные операционные системы, включая варианты одного семейства, например Windows 10 и Windows 7.</span><span class="sxs-lookup"><span data-stu-id="6959d-154">This indicates specific operating systems, including variations within the same family, such as Windows 10 and Windows 7.</span></span> |
| `IPAddress` | <span data-ttu-id="6959d-155">string</span><span class="sxs-lookup"><span data-stu-id="6959d-155">string</span></span> | <span data-ttu-id="6959d-156">IP-адрес, присвоенный конечной точке и используемый во время связанных сетевых коммуникаций</span><span class="sxs-lookup"><span data-stu-id="6959d-156">IP address assigned to the endpoint and used during related network communications</span></span> |
| `Port` | <span data-ttu-id="6959d-157">строка</span><span class="sxs-lookup"><span data-stu-id="6959d-157">string</span></span> | <span data-ttu-id="6959d-158">Порт TCP, используемый во время связи</span><span class="sxs-lookup"><span data-stu-id="6959d-158">TCP port used during communication</span></span>  |
| `DestinationDeviceName` | <span data-ttu-id="6959d-159">строка</span><span class="sxs-lookup"><span data-stu-id="6959d-159">string</span></span> | <span data-ttu-id="6959d-160">Имя устройства под управлением серверного приложения, обрабатываемого записанным действием</span><span class="sxs-lookup"><span data-stu-id="6959d-160">Name of the device running the server application that processed the recorded action</span></span> |
| `DestinationIPAddress` | <span data-ttu-id="6959d-161">строка</span><span class="sxs-lookup"><span data-stu-id="6959d-161">string</span></span> | <span data-ttu-id="6959d-162">IP-адрес устройства под управлением серверного приложения, обработав записанное действие</span><span class="sxs-lookup"><span data-stu-id="6959d-162">IP address of the device running the server application that processed the recorded action</span></span> |
| `DestinationPort` | <span data-ttu-id="6959d-163">строка</span><span class="sxs-lookup"><span data-stu-id="6959d-163">string</span></span> | <span data-ttu-id="6959d-164">Порт назначения связанных сетевых коммуникаций</span><span class="sxs-lookup"><span data-stu-id="6959d-164">Destination port of related network communications</span></span> |
| `Location` | <span data-ttu-id="6959d-165">строка</span><span class="sxs-lookup"><span data-stu-id="6959d-165">string</span></span> | <span data-ttu-id="6959d-166">Город, страна или другое географическое расположение, связанное с событием</span><span class="sxs-lookup"><span data-stu-id="6959d-166">City, country, or other geographic location associated with the event</span></span> |
| `Isp` | <span data-ttu-id="6959d-167">строка</span><span class="sxs-lookup"><span data-stu-id="6959d-167">string</span></span> | <span data-ttu-id="6959d-168">Поставщик интернет-услуг (ISP), связанный с IP-адресом конечной точки</span><span class="sxs-lookup"><span data-stu-id="6959d-168">Internet service provider (ISP) associated with the endpoint IP address</span></span> |
| `ReportId` | <span data-ttu-id="6959d-169">long</span><span class="sxs-lookup"><span data-stu-id="6959d-169">long</span></span> | <span data-ttu-id="6959d-170">Уникальный идентификатор события</span><span class="sxs-lookup"><span data-stu-id="6959d-170">Unique identifier for the event</span></span> |
| `AdditionalFields` | <span data-ttu-id="6959d-171">строка</span><span class="sxs-lookup"><span data-stu-id="6959d-171">string</span></span> | <span data-ttu-id="6959d-172">Дополнительные сведения об объекте или событии</span><span class="sxs-lookup"><span data-stu-id="6959d-172">Additional information about the entity or event</span></span> |

>[!TIP]
> <span data-ttu-id="6959d-173">Подробные сведения о типах событий (значениях), поддерживаемых таблицей, используйте встроенную ссылку на схему, доступную `ActionType` в центре безопасности.</span><span class="sxs-lookup"><span data-stu-id="6959d-173">For detailed information about the events types (`ActionType` values) supported by a table, use the built-in schema reference available in the security center.</span></span>


## <a name="related-topics"></a><span data-ttu-id="6959d-174">Статьи по теме</span><span class="sxs-lookup"><span data-stu-id="6959d-174">Related topics</span></span>
- [<span data-ttu-id="6959d-175">Обзор расширенной охоты на угрозы</span><span class="sxs-lookup"><span data-stu-id="6959d-175">Advanced hunting overview</span></span>](advanced-hunting-overview.md)
- [<span data-ttu-id="6959d-176">Изучение языка запросов</span><span class="sxs-lookup"><span data-stu-id="6959d-176">Learn the query language</span></span>](advanced-hunting-query-language.md)
- [<span data-ttu-id="6959d-177">Использование общих запросов</span><span class="sxs-lookup"><span data-stu-id="6959d-177">Use shared queries</span></span>](advanced-hunting-shared-queries.md)
- [<span data-ttu-id="6959d-178">Охота на различных устройствах, в письмах, приложениях и удостоверениях</span><span class="sxs-lookup"><span data-stu-id="6959d-178">Hunt across devices, emails, apps, and identities</span></span>](advanced-hunting-query-emails-devices.md)
- [<span data-ttu-id="6959d-179">Сведения о схеме</span><span class="sxs-lookup"><span data-stu-id="6959d-179">Understand the schema</span></span>](advanced-hunting-schema-tables.md)
- [<span data-ttu-id="6959d-180">Рекомендации по применению запросов</span><span class="sxs-lookup"><span data-stu-id="6959d-180">Apply query best practices</span></span>](advanced-hunting-best-practices.md)
