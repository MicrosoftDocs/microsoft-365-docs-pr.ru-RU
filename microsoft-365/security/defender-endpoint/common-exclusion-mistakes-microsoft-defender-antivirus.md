---
title: Распространенные ошибки, которые следует избегать при определении исключений
description: Избегайте распространенных ошибок при определении исключений для антивирусного сканирования Microsoft Defender.
keywords: исключения, файлы, расширение, тип файла, имя папки, имя файла, сканирование
search.product: eADQiWindows 10XVcnh
ms.prod: m365-security
ms.mktglfcycl: manage
ms.sitesec: library
ms.pagetype: security
ms.localizationpriority: medium
author: denisebmsft
ms.author: deniseb
ms.custom: nextgen
ms.reviewer: ''
manager: dansimp
ms.technology: mde
ms.openlocfilehash: d14e37c8f3cfdfe8d88bfd4e255a431fbb8d6d41
ms.sourcegitcommit: 3fe7eb32c8d6e01e190b2b782827fbadd73a18e6
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/13/2021
ms.locfileid: "51691079"
---
# <a name="common-mistakes-to-avoid-when-defining-exclusions"></a><span data-ttu-id="a1a0d-104">Распространенные ошибки, которые следует избегать при определении исключений</span><span class="sxs-lookup"><span data-stu-id="a1a0d-104">Common mistakes to avoid when defining exclusions</span></span>

[!INCLUDE [Microsoft 365 Defender rebranding](../../includes/microsoft-defender.md)]

<span data-ttu-id="a1a0d-105">Список исключений можно определить для элементов, которые не нужно проверять антивирусу Microsoft Defender.</span><span class="sxs-lookup"><span data-stu-id="a1a0d-105">You can define an exclusion list for items that you don't want Microsoft Defender Antivirus to scan.</span></span> <span data-ttu-id="a1a0d-106">Такие исключенные элементы могут содержать угрозы, которые делают ваше устройство уязвимым.</span><span class="sxs-lookup"><span data-stu-id="a1a0d-106">Such excluded items could contain threats that make your device vulnerable.</span></span> 

<span data-ttu-id="a1a0d-107">В этой статье описываются некоторые распространенные ошибки, которые следует избегать при определении исключений.</span><span class="sxs-lookup"><span data-stu-id="a1a0d-107">This article describes some common mistake that you should avoid when defining exclusions.</span></span> 

<span data-ttu-id="a1a0d-108">Перед определением списков исключений см. [рекомендации по определению исключений.](configure-exclusions-microsoft-defender-antivirus.md#recommendations-for-defining-exclusions)</span><span class="sxs-lookup"><span data-stu-id="a1a0d-108">Before defining your exclusion lists, see [Recommendations for defining exclusions](configure-exclusions-microsoft-defender-antivirus.md#recommendations-for-defining-exclusions).</span></span>

## <a name="excluding-certain-trusted-items"></a><span data-ttu-id="a1a0d-109">Исключение некоторых доверенных элементов</span><span class="sxs-lookup"><span data-stu-id="a1a0d-109">Excluding certain trusted items</span></span>

<span data-ttu-id="a1a0d-110">Некоторые файлы, типы файлов, папки или процессы не должны быть исключены из сканирования, даже если вы уверены, что они не являются вредоносными.</span><span class="sxs-lookup"><span data-stu-id="a1a0d-110">Certain files, file types, folders, or processes should not be excluded from scanning even though you trust them to be not malicious.</span></span> 

<span data-ttu-id="a1a0d-111">Не определять исключений для расположения папок, расширений файлов и процессов, перечисленных в следующей таблице:</span><span class="sxs-lookup"><span data-stu-id="a1a0d-111">Do not define exclusions for the folder locations, file extensions, and processes that are listed in the following table:</span></span>

| <span data-ttu-id="a1a0d-112">Расположения папок</span><span class="sxs-lookup"><span data-stu-id="a1a0d-112">Folder locations</span></span> | <span data-ttu-id="a1a0d-113">Расширение файла</span><span class="sxs-lookup"><span data-stu-id="a1a0d-113">File extensions</span></span> | <span data-ttu-id="a1a0d-114">Процессы</span><span class="sxs-lookup"><span data-stu-id="a1a0d-114">Processes</span></span> |
|:--|:--|:--|
| `%systemdrive%` <br/> `C:`<br/> `C:\` <br/> `C:\*` <br/> `%ProgramFiles%\Java` <br/> `C:\Program Files\Java` <br/> `%ProgramFiles%\Contoso\` <br/> `C:\Program Files\Contoso\` <br/> `%ProgramFiles(x86)%\Contoso\` <br/> `C:\Program Files (x86)\Contoso\` <br/> `C:\Temp` <br/> `C:\Temp\` <br/> `C:\Temp\*` <br/> `C:\Users\` <br/> `C:\Users\*` <br/> `C:\Users\<UserProfileName>\AppData\Local\Temp\` <br/> `C:\Users\<UserProfileName>\AppData\LocalLow\Temp\` <br/> `C:\Users\<UserProfileName>\AppData\Roaming\Temp\` <br/> `%Windir%\Prefetch` <br/> `C:\Windows\Prefetch` <br/> `C:\Windows\Prefetch\` <br/> `C:\Windows\Prefetch\*` <br/> `%Windir%\System32\Spool` <br/> `C:\Windows\System32\Spool` <br/> `C:\Windows\System32\CatRoot2` <br/> `%Windir%\Temp` <br/> `C:\Windows\Temp` <br/> `C:\Windows\Temp\` <br/> `C:\Windows\Temp\*` | `.7z` <br/> `.bat` <br/> `.bin` <br/> `.cab` <br/> `.cmd` <br/> `.com` <br/> `.cpl` <br/> `.dll` <br/> `.exe` <br/> `.fla` <br/> `.gif` <br/> `.gz` <br/> `.hta` <br/> `.inf` <br/> `.java` <br/> `.jar` <br/> `.job` <br/> `.jpeg` <br/> `.jpg` <br/> `.js` <br/> `.ko` <br/> `.ko.gz` <br/> `.msi` <br/> `.ocx` <br/> `.png` <br/> `.ps1` <br/> `.py` <br/> `.rar` <br/> `.reg` <br/> `.scr` <br/> `.sys` <br/> `.tar` <br/> `.tmp` <br/> `.url` <br/> `.vbe` <br/> `.vbs` <br/> `.wsf` <br/> `.zip` | `AcroRd32.exe` <br/> `bitsadmin.exe` <br/> `excel.exe` <br/> `iexplore.exe` <br/> `java.exe` <br/> `outlook.exe` <br/> `psexec.exe` <br/> `powerpnt.exe` <br/> `powershell.exe` <br/> `schtasks.exe`  <br/> `svchost.exe` <br/>`wmic.exe` <br/> `winword.exe` <br/> `wuauclt.exe` <br/> `addinprocess.exe` <br/> `addinprocess32.exe` <br/> `addinutil.exe` <br/> `bash.exe` <br/> <span data-ttu-id="a1a0d-115">`bginfo.exe`[1]</span><span class="sxs-lookup"><span data-stu-id="a1a0d-115">`bginfo.exe`[1]</span></span> <br/>`cdb.exe` <br/> `csi.exe` <br/> `dbghost.exe` <br/> `dbgsvc.exe` <br/> `dnx.exe` <br/> `fsi.exe` <br/> `fsiAnyCpu.exe` <br/> `kd.exe` <br/> `ntkd.exe` <br/> `lxssmanager.dll` <br/> <span data-ttu-id="a1a0d-116">`msbuild.exe`[2]</span><span class="sxs-lookup"><span data-stu-id="a1a0d-116">`msbuild.exe`[2]</span></span> <br/> `mshta.exe` <br/> `ntsd.exe` <br/> `rcsi.exe` <br/> `system.management.automation.dll` <br/> `windbg.exe` |

> [!NOTE]
> <span data-ttu-id="a1a0d-117">Вы можете исключить типы файлов, например , или если в вашей среде есть современное современное программное обеспечение со строгой политикой обновления для обработки любых `.gif` `.jpg` `.jpeg` `.png` уязвимостей.</span><span class="sxs-lookup"><span data-stu-id="a1a0d-117">You can choose to exclude file types, such as `.gif`, `.jpg`, `.jpeg`, or `.png` if your environment has a modern, up-to-date software with a strict update policy to handle any vulnerabilities.</span></span>

## <a name="using-just-the-file-name-in-the-exclusion-list"></a><span data-ttu-id="a1a0d-118">Использование только имени файла в списке исключений</span><span class="sxs-lookup"><span data-stu-id="a1a0d-118">Using just the file name in the exclusion list</span></span>

<span data-ttu-id="a1a0d-119">Вредоносные программы могут иметь то же имя, что и файл, который вы доверяете и хотите исключить из сканирования.</span><span class="sxs-lookup"><span data-stu-id="a1a0d-119">A malware may have the same name as that of the file that you trust and want to exclude from scanning.</span></span> <span data-ttu-id="a1a0d-120">Поэтому, чтобы избежать исключения потенциальной вредоносной программы из сканирования, используйте полностью квалифицированный путь к файлу, который вы хотите исключить, а не использовать только имя файла.</span><span class="sxs-lookup"><span data-stu-id="a1a0d-120">Therefore, to avoid excluding a potential malware from scanning, use a fully qualified path to the file that you want to exclude instead of using just the file name.</span></span> <span data-ttu-id="a1a0d-121">Например, если вы хотите исключить сканирование, используйте полный путь к `Filename.exe` файлу, например `C:\program files\contoso\Filename.exe` .</span><span class="sxs-lookup"><span data-stu-id="a1a0d-121">For example, if you want to exclude `Filename.exe` from scanning, use the complete path to the file, such as `C:\program files\contoso\Filename.exe`.</span></span>

## <a name="using-a-single-exclusion-list-for-multiple-server-workloads"></a><span data-ttu-id="a1a0d-122">Использование единого списка исключений для нескольких рабочих нагрузок сервера</span><span class="sxs-lookup"><span data-stu-id="a1a0d-122">Using a single exclusion list for multiple server workloads</span></span>

<span data-ttu-id="a1a0d-123">Не используйте единый список исключений для определения исключений для нескольких рабочих нагрузок сервера.</span><span class="sxs-lookup"><span data-stu-id="a1a0d-123">Do not use a single exclusion list to define exclusions for multiple server workloads.</span></span> <span data-ttu-id="a1a0d-124">Разделите исключения для различных рабочих нагрузок приложений или служб на несколько списков исключений.</span><span class="sxs-lookup"><span data-stu-id="a1a0d-124">Split the exclusions for different application or service workloads into multiple exclusion lists.</span></span> <span data-ttu-id="a1a0d-125">Например, список исключений для рабочей нагрузки IIS Server должен быть отличается от списка исключений для SQL Server рабочей нагрузки.</span><span class="sxs-lookup"><span data-stu-id="a1a0d-125">For example, the exclusion list for your IIS Server workload must be different from the exclusion list for your SQL Server workload.</span></span>

## <a name="using-incorrect-environment-variables-as-wildcards-in-the-file-name-and-folder-path-or-extension-exclusion-lists"></a><span data-ttu-id="a1a0d-126">Использование неправильных переменных среды в качестве подстройки в пути имени файла и пути к папке или списках исключений расширения</span><span class="sxs-lookup"><span data-stu-id="a1a0d-126">Using incorrect environment variables as wildcards in the file name and folder path or extension exclusion lists</span></span>

<span data-ttu-id="a1a0d-127">Антивирусная служба Microsoft Defender выполняется в системных контекстах с помощью учетной записи LocalSystem, что означает, что она получает информацию из переменной системной среды, а не из переменной среды пользователя.</span><span class="sxs-lookup"><span data-stu-id="a1a0d-127">Microsoft Defender Antivirus Service runs in system context using the LocalSystem account, which means it gets information from the system environment variable, and not from the user environment variable.</span></span> <span data-ttu-id="a1a0d-128">Использование переменных среды в качестве под диктовки в списках исключений ограничено системными переменными и теми, которые применимы к процессам, запущенным в качестве учетной записи NT AUTHORITY\SYSTEM.</span><span class="sxs-lookup"><span data-stu-id="a1a0d-128">Use of environment variables as a wildcard in exclusion lists is limited to system variables and those applicable to processes running as an NT AUTHORITY\SYSTEM account.</span></span> <span data-ttu-id="a1a0d-129">Поэтому при добавлении антивирусной папки Microsoft Defender и исключений процесса не используйте переменные среды пользователя в качестве подкард.</span><span class="sxs-lookup"><span data-stu-id="a1a0d-129">Therefore, do not use user environment variables as wildcards when adding Microsoft Defender Antivirus folder and process exclusions.</span></span> <span data-ttu-id="a1a0d-130">Полный список переменных системной среды см. в таблице в статье [Параметры](configure-extension-file-exclusions-microsoft-defender-antivirus.md#system-environment-variables) среды Системы.</span><span class="sxs-lookup"><span data-stu-id="a1a0d-130">See the table under [System environment variables](configure-extension-file-exclusions-microsoft-defender-antivirus.md#system-environment-variables) for a complete list of system environment variables.</span></span>

<span data-ttu-id="a1a0d-131">Сведения [о](configure-extension-file-exclusions-microsoft-defender-antivirus.md#use-wildcards-in-the-file-name-and-folder-path-or-extension-exclusion-lists) том, как использовать подкарды в списках исключений файлов и папок или списки исключений для расширения, см. в руб.</span><span class="sxs-lookup"><span data-stu-id="a1a0d-131">See [Use wildcards in the file name and folder path or extension exclusion lists](configure-extension-file-exclusions-microsoft-defender-antivirus.md#use-wildcards-in-the-file-name-and-folder-path-or-extension-exclusion-lists) for information on how to use wildcards in exclusion lists.</span></span>

## <a name="related-articles"></a><span data-ttu-id="a1a0d-132">Статьи по теме</span><span class="sxs-lookup"><span data-stu-id="a1a0d-132">Related articles</span></span>

- [<span data-ttu-id="a1a0d-133">Настройка и проверка исключений в антивирусных проверках Microsoft Defender</span><span class="sxs-lookup"><span data-stu-id="a1a0d-133">Configure and validate exclusions in Microsoft Defender Antivirus scans</span></span>](configure-exclusions-microsoft-defender-antivirus.md)
- [<span data-ttu-id="a1a0d-134">Настройка и проверка исключений в зависимости от расположения расширения файлов и папок</span><span class="sxs-lookup"><span data-stu-id="a1a0d-134">Configure and validate exclusions based on file extension and folder location</span></span>](configure-extension-file-exclusions-microsoft-defender-antivirus.md)
- [<span data-ttu-id="a1a0d-135">Настройка и проверка исключений для файлов, открытых процессами</span><span class="sxs-lookup"><span data-stu-id="a1a0d-135">Configure and validate exclusions for files opened by processes</span></span>](configure-process-opened-file-exclusions-microsoft-defender-antivirus.md)
- [<span data-ttu-id="a1a0d-136">Настройка исключений антивируса Microsoft Defender на Windows Server</span><span class="sxs-lookup"><span data-stu-id="a1a0d-136">Configure Microsoft Defender Antivirus exclusions on Windows Server</span></span>](configure-server-exclusions-microsoft-defender-antivirus.md)
