---
title: Настройка и проверка исключений для Microsoft Defender для конечной точки на Mac
description: Предоставление и проверка исключений для Microsoft Defender для конечной точки на Mac. Исключения могут быть установлены для файлов, папок и процессов.
keywords: Microsoft, defender, Microsoft Defender for Endpoint, mac, exclusions, scans, antivirus
search.product: eADQiWindows 10XVcnh
search.appverid: met150
ms.prod: m365-security
ms.mktglfcycl: deploy
ms.sitesec: library
ms.pagetype: security
ms.author: dansimp
author: dansimp
localization_priority: Normal
manager: dansimp
audience: ITPro
ms.collection:
- m365-security-compliance
- m365initiative-defender-endpoint
ms.topic: conceptual
ms.technology: mde
ms.openlocfilehash: c014447e51e5c5fcb96924e5e98c62f478a32ea7
ms.sourcegitcommit: a8d8cee7df535a150985d6165afdfddfdf21f622
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/21/2021
ms.locfileid: "51935033"
---
# <a name="configure-and-validate-exclusions-for-microsoft-defender-for-endpoint-on-macos"></a>Настройка и проверка исключений для Microsoft Defender для конечной точки на macOS

[!INCLUDE [Microsoft 365 Defender rebranding](../../includes/microsoft-defender.md)]


**Область применения:**
- [Microsoft Defender для конечной точки](https://go.microsoft.com/fwlink/p/?linkid=2154037)
- [Microsoft 365 Defender](https://go.microsoft.com/fwlink/?linkid=2118804)

> Хотите испытать Defender для конечной точки? [Зарегистрився для бесплатной пробной.](https://www.microsoft.com/microsoft-365/windows/microsoft-defender-atp?ocid=docs-wdatp-investigateip-abovefoldlink)

В этой статье данная статья содержит сведения о том, как определить исключения, применимые к проверкам по запросу, а также защиту и мониторинг в режиме реального времени.

>[!IMPORTANT]
>Исключения, описанные в этой статье, не применяются к другим возможностям Defender для конечной точки mac, включая обнаружение конечной точки и ответ (EDR). Файлы, исключаемые с помощью методов, описанных в этой статье, по-прежнему могут вызывать оповещения EDR и другие обнаружения.

Некоторые файлы, папки, процессы и файлы, открытые процессом, можно исключить из Defender для конечной точки на mac-сканированиях.

Исключения могут быть полезны, чтобы избежать неправильных обнаружений в файлах или программном обеспечении, уникальных или настраиваемых для вашей организации. Они также могут быть полезны для смягчения проблем с производительностью, вызванных Defender для конечной точки на Mac.

>[!WARNING]
>Определение исключений снижает защиту, предложенную Defender для конечной точки на Mac. Всегда следует оценивать риски, связанные с реализацией исключений, и следует исключить только те файлы, которые, как вы уверены, не являются вредоносными.

## <a name="supported-exclusion-types"></a>Поддерживаемые типы исключений

В таблице ниже показаны типы исключений, поддерживаемые Защитником для конечной точки на Mac.

Исключения | Определение | Примеры
---|---|---
Расширение файла | Все файлы с расширением в любом месте на компьютере | `.test`
File | Определенный файл, определенный по полному пути | `/var/log/test.log`<br/>`/var/log/*.log`<br/>`/var/log/install.?.log`
Folder | Все файлы в указанной папке (повторно) | `/var/log/`<br/>`/var/*/`
Процесс | Определенный процесс (указанный полным путем или именем файла) и все файлы, открытые в нем. | `/bin/cat`<br/>`cat`<br/>`c?t`

Исключения файлов, папок и процессов поддерживают следующие подкарды:

Подстановочный знак | Описание | Пример | Совпадения | Не совпадает
---|---|---|---|---
\* |    Совпадает с любым числом символов, в том числе без них (обратите внимание, что при данной подмастерье используется внутри пути, она заменит только одну папку) | `/var/*/*.log` | `/var/log/system.log` | `/var/log/nested/system.log`
? | Соответствует любому отдельному символу | `file?.log` | `file1.log`<br/>`file2.log` | `file123.log`

>[!NOTE]
>При оценке исключений продукт пытается устранить твердые ссылки. Разрешение Firmlink не работает, если исключение содержит подтеки или целевой файл (на `Data` томе) не существует.

## <a name="how-to-configure-the-list-of-exclusions"></a>Настройка списка исключений

### <a name="from-the-management-console"></a>Из консоли управления

Дополнительные сведения о настройке исключений из JAMF, Intune или другой консоли управления см. в примере [Set preferences for Defender for Endpoint on Mac.](mac-preferences.md)

### <a name="from-the-user-interface"></a>Из пользовательского интерфейса

Откройте приложение Defender для конечной точки и перейдите **к** управлению настройками Добавить или Удалить исключение... , как показано на следующем  >  скриншоте:

![Управление скриншотом исключений](images/mdatp-37-exclusions.png)

Выберите тип исключения, который необходимо добавить и следовать подсказкам.

## <a name="validate-exclusions-lists-with-the-eicar-test-file"></a>Проверка списков исключений в тестовом файле EICAR

Вы можете проверить, работают ли списки исключений, `curl` скачав тестовый файл.

В следующем фрагменте Bash замените файл, соответствующий `test.txt` правилам исключения. Например, если вы исключили `.testing` расширение, замените `test.txt` `test.testing` . Если вы тестируете путь, убедитесь, что вы запустите команду в этом пути.

```bash
curl -o test.txt https://www.eicar.org/download/eicar.com.txt
```

Если Защитник для конечной точки на Mac сообщает о вредоносных программах, то правило не работает. Если нет отчета о вредоносных программах, а загруженный файл существует, то исключение работает. Вы можете открыть файл, чтобы подтвердить, что содержимое является таким же, как описано на веб-сайте [тестового файла EICAR](http://2016.eicar.org/86-0-Intended-use.html).

Если у вас нет доступа к Интернету, вы можете создать собственный тестовый файл EICAR. Напишите строку EICAR в новый текстовый файл со следующей командой Bash:

```bash
echo 'X5O!P%@AP[4\PZX54(P^)7CC)7}$EICAR-STANDARD-ANTIVIRUS-TEST-FILE!$H+H*' > test.txt
```

Вы также можете скопировать строку в пустой текстовый файл и попытаться сохранить ее с именем файла или в папке, вы пытаетсяе исключить.

## <a name="allow-threats"></a>Разрешить угрозы

Помимо исключения определенного контента из проверки можно также настроить продукт, чтобы не обнаруживать некоторые классы угроз (определенных именем угрозы). Вы должны соблюдать осторожность при использовании этой функции, так как она может оставить устройство незащищенным.

Чтобы добавить имя угрозы в разрешенный список, выполните следующую команду:

```bash
mdatp threat allowed add --name [threat-name]
```

Имя угрозы, связанное с обнаружением на устройстве, можно получить с помощью следующей команды:

```bash
mdatp threat list
```

Например, чтобы добавить (имя угрозы, связанное с обнаружением EICAR) в разрешенный `EICAR-Test-File (not a virus)` список, выполните следующую команду:

```bash
mdatp threat allowed add --name "EICAR-Test-File (not a virus)"
```
