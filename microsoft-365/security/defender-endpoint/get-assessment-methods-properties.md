---
title: Методы и свойства экспортной оценки на устройство
description: Предоставляет сведения об API, которые извлекают контроль угроз и уязвимостей данных. Существуют различные вызовы API для получения различных типов данных. Как правило, каждый вызов API содержит необходимые данные для устройств в организации.
keywords: api, api, экспортная оценка, оценка каждого устройства, оценка компьютера, отчет об оценке уязвимости, оценка уязвимости устройства, отчет об уязвимости устройства, оценка безопасной конфигурации, отчет о безопасной конфигурации, оценка уязвимостей программного обеспечения, отчет об уязвимости программного обеспечения, отчет об уязвимости с помощью компьютера,
search.product: eADQiWindows 10XVcnh
ms.prod: m365-security
ms.mktglfcycl: deploy
ms.sitesec: library
ms.pagetype: security
ms.author: v-jweston
author: jweston-1
localization_priority: Normal
manager: dansimp
audience: ITPro
ms.collection: M365-security-compliance
ms.topic: article
ms.technology: mde
ms.custom: api
ms.openlocfilehash: 3e5a91a33a4207daa30f1054f03655c846d297ec
ms.sourcegitcommit: bc64d9f619259bd0a94e43a9010aae5cffb4d6c4
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/19/2021
ms.locfileid: "53022442"
---
# <a name="export-assessment-methods-and-properties-per-device"></a>Методы и свойства экспортной оценки на устройство

[!INCLUDE [Microsoft 365 Defender rebranding](../../includes/microsoft-defender.md)]

**Область применения:**

- [Microsoft Defender для конечной точки](https://go.microsoft.com/fwlink/p/?linkid=2154037)
- [Microsoft 365 Defender](https://go.microsoft.com/fwlink/?linkid=2118804)

> Хотите испытать Microsoft Defender для конечной точки? [Зарегистрився для бесплатной пробной.](https://www.microsoft.com/microsoft-365/windows/microsoft-defender-atp?ocid=docs-wdatp-exposedapis-abovefoldlink)

## <a name="api-description"></a>Описание API

Предоставляет сведения о методах и свойствах API, которые контроль угроз и уязвимостей данные на основе каждого устройства. Существуют различные вызовы API для получения различных типов данных. Как правило, каждый вызов API содержит необходимые данные для устройств в организации.

> [!Note]
>
> Если не указано обратное, все **** перечисленные методы оценки экспорта являются полным экспортом и по устройству **_(также_** именуемой как **_на устройстве)._**

API оценки экспорта можно использовать для получения (экспорта) различных типов информации:

- [1. Оценка безопасных конфигураций экспорта](#1-export-secure-configurations-assessment)

- [2. Оценка инвентаризации по экспорту программного обеспечения](#2-export-software-inventory-assessment)

- [3. Оценка уязвимостей по экспорту программного обеспечения](#3-export-software-vulnerabilities-assessment)

API, соответствующие типам экспортной информации, описаны в разделах 1, 2 и 3.

Для каждого метода существуют различные вызовы API для получения различных типов данных. Так как объем данных может быть большим, их можно получить двумя способами:

- **Ответ JSON**  API извлекет все данные в организации в качестве ответов JSON. Этот метод лучше всего используется для _небольших организаций с менее чем 100-K устройствами._ Ответ paginated, поэтому вы можете использовать поле odata.nextLink из ответа, чтобы \@ получить следующие результаты.

- **с помощью файлов** Это решение API позволяет быстрее и более надежно тянуть большие объемы данных. Поэтому рекомендуется для крупных организаций с более чем 100-K устройствами. Этот API извлекает все данные в организации в качестве файлов загрузки. Ответ содержит URL-адреса для загрузки всех данных из служба хранилища Azure. Этот API позволяет загружать все данные из служба хранилища Azure следующим образом:

  - Позвоните в API, чтобы получить список загружаемых URL-адресов со всеми данными организации.

  - Скачайте все файлы с помощью URL-адресов загрузки и обработать данные, как вам нравится.

Собранные данные (с помощью _ответа JSON_ или с помощью _файлов)_ являются текущим снимком текущего состояния и не содержат исторических данных. Чтобы собрать исторические данные, клиенты должны сохранять данные в собственных хранилищах данных.

## <a name="1-export-secure-configurations-assessment"></a>1. Оценка безопасных конфигураций экспорта

Возвращает все конфигурации и их состояние на основе каждого устройства.

### <a name="11-methods"></a>1.1 Методы

Method | Тип данных | Описание
:---|:---|:---
Оценка безопасной конфигурации экспорта **(ответ JSON)** | Безопасная конфигурация с помощью коллекции устройств. См.: [1.2 Свойства (ответ JSON)](#12-properties-json-response) | Возвращает таблицу с записью для каждой уникальной комбинации DeviceId, ConfigurationId. API извлекет все данные в организации в качестве ответов JSON. Этот метод лучше всего используется для небольших организаций с устройствами менее 100-K. Ответ paginated, поэтому вы можете использовать поле @odata.nextLink из ответа, чтобы получить следующие результаты.
Экспорт безопасной оценки **конфигурации (с помощью файлов)** | Безопасная конфигурация с помощью коллекции устройств. См.: [1.3 Свойства (с помощью файлов)](#13-properties-via-files) | Возвращает таблицу с записью для каждой уникальной комбинации DeviceId, ConfigurationId. Это решение API позволяет быстрее и более надежно тянуть большие объемы данных. Поэтому рекомендуется для крупных организаций с более чем 100-K устройствами. Этот API извлекает все данные в организации в качестве файлов загрузки. Ответ содержит URL-адреса для загрузки всех данных из служба хранилища Azure. Этот API позволяет загружать все данные из служба хранилища Azure следующим образом: 1.  Позвоните в API, чтобы получить список загружаемых URL-адресов со всеми данными организации. 2.  Скачайте все файлы с помощью URL-адресов загрузки и обработать данные, как вам нравится.

### <a name="12-properties-json-response"></a>1.2 Свойства (ответ JSON)

Свойство (ID) | Тип данных | Описание
:---|:---|:---
ConfigurationCategory | string | Категория или группа, к которой относится настройка: приложение, ОС, сеть, учетные записи, элементы безопасности
ConfigurationId | string | Уникальный идентификатор определенной настройки
ConfigurationImpact | string | Оценка влияния настройки на общую оценку конфигурации (1–10)
ConfigurationName | string | Отображение названия настройки
ConfigurationSubcategory | string | Подкатегория или подгруппа, к которой относится настройка. Во многих случаях здесь описываются конкретные возможности или функции.
DeviceId | Строка | Уникальный идентификатор устройства в службе.
DeviceName | Строка | Полное доменное имя (FQDN) устройства.
IsApplicable | bool | Указывает, применима ли конфигурация или политика
IsCompliant | bool | Указывает, правильно ли настроена конфигурация или политика
IsExpectedUserImpact | bool | Указывает, будет ли влияние пользователя, если конфигурация будет применена
OSPlatform | Строка | Платформа операционной системы, запущенной на устройстве. Здесь указываются конкретные операционные системы, включая варианты одного семейства, например Windows 10 и Windows 7. Подробные сведения см. в материале tvm supported operating systems and platforms.
RbacGroupName | Строка | Группа управления доступом на основе ролей (RBAC). Если это устройство не назначено какой-либо группе RBAC, значение будет "Unassigned". Если организация не содержит групп RBAC, значение будет "Нет".
RecommendationReference | Строка | Ссылка на номер рекомендации, связанный с этим программным обеспечением.
Timestamp | Строка | Последний раз, когда конфигурация была замечена на устройстве

### <a name="13-properties-via-files"></a>1.3 Свойства (с помощью файлов)

Свойство (ID) | Тип данных | Описание
:---|:---|:---
Экспорт файлов | строка \[ массива\] | Список загрузок URL-адресов для файлов с текущим снимком организации.
GeneratedTime | Строка | Время, за которое был создан экспорт.

## <a name="2-export-software-inventory-assessment"></a>2. Оценка инвентаризации по экспорту программного обеспечения

Возвращает все установленное программное обеспечение и их сведения на каждом устройстве.

### <a name="21-methods"></a>2.1 Методы

Method | Тип данных | Описание
:---|:---|:---
Оценка инвентаризации по экспорту **программного обеспечения (ответ JSON)** | Инвентаризация программного обеспечения по коллекции устройств. [См.: 2.2 Свойства (ответ JSON)](#22-properties-json-response) | Возвращает таблицу с записью для каждой уникальной комбинации DeviceId, SoftwareVendor, SoftwareName, SoftwareVersion. API извлекет все данные в организации в качестве ответов JSON. Этот метод лучше всего используется для небольших организаций с устройствами менее 100-K. Ответ paginated, поэтому вы можете использовать поле @odata.nextLink из ответа, чтобы получить следующие результаты.
Экспорт инвентаризации программного обеспечения **(с помощью файлов)** | Инвентаризация программного обеспечения по файлам устройств. См.: [2.3 Свойства (с помощью файлов)](#23-properties-via-files) | Возвращает таблицу с записью для каждой уникальной комбинации DeviceId, SoftwareVendor, SoftwareName, SoftwareVersion. Это решение API позволяет быстрее и более надежно тянуть большие объемы данных. Поэтому рекомендуется для крупных организаций с более чем 100-K устройствами. Этот API извлекает все данные в организации в качестве файлов загрузки. Ответ содержит URL-адреса для загрузки всех данных из служба хранилища Azure. Этот API позволяет загружать все данные из служба хранилища Azure следующим образом: 1.  Позвоните в API, чтобы получить список загружаемых URL-адресов со всеми данными организации. 2.  Скачайте все файлы с помощью URL-адресов загрузки и обработать данные, как вам нравится.

### <a name="22-properties-json-response"></a>2.2 Свойства (ответ JSON)

Свойство (ID) | Тип данных | Описание
:---|:---|:---
DeviceId | Строка | Уникальный идентификатор устройства в службе.
DeviceName | Строка | Полное доменное имя (FQDN) устройства.
DiskPaths | Array[string]  | Дисковые данные о том, что продукт установлен на устройстве.
EndOfSupportDate | Строка | Дата, в которой поддержка этого программного обеспечения имеет или закончится.
EndOfSupportStatus | Строка | Конец состояния поддержки. Может содержать эти возможные значения: None, EOS Version, Upcoming EOS Version, EOS Software, Upcoming EOS Software.
Id | string | Уникальный идентификатор для записи.
NumberOfWeaknesses | int|Количество недостатков этого программного обеспечения на этом устройстве
OSPlatform | Строка | Платформа операционной системы, запущенной на устройстве. Здесь указываются конкретные операционные системы, включая варианты одного семейства, например Windows 10 и Windows 7. Подробные сведения см. в материале tvm supported operating systems and platforms.
RbacGroupName | Строка | Группа управления доступом на основе ролей (RBAC). Если это устройство не назначено какой-либо группе RBAC, значение будет "Unassigned". Если организация не содержит групп RBAC, значение будет "Нет".
RegistryPaths | Array[string] | Свидетельство реестра о том, что продукт установлен на устройстве.
SoftwareFirstSeenTimestamp | Строка | Впервые это программное обеспечение было замечено на устройстве.
SoftwareName | Строка | Имя программного продукта.
SoftwareVendor | Строка | Имя поставщика программного обеспечения.
SoftwareVersion | Строка | Номер версии программного продукта.

### <a name="23-properties-via-files"></a>2.3 Свойства (с помощью файлов)

Свойство (ID) | Тип данных | Описание
:---|:---|:---
Экспорт файлов | строка \[ массива\] | Список загрузок URL-адресов для файлов с текущим снимком организации.
GeneratedTime | Строка | Время, за которое был создан экспорт.

## <a name="3-export-software-vulnerabilities-assessment"></a>3. Оценка уязвимостей по экспорту программного обеспечения

Возвращает все известные уязвимости на устройстве и их сведения для всех устройств.

### <a name="31-methods"></a>3.1 Методы

Method | Тип данных | Описание
:---|:---|:---
Оценка уязвимостей по экспорту **программного обеспечения (ответ JSON)** | Коллекция исследований [См.: 3.2 Properties (ответ JSON)](#32-properties-json-response) | Возвращает таблицу с записью для каждой уникальной комбинации DeviceId, SoftwareVendor, SoftwareName, SoftwareVersion, CveId. API извлекет все данные в организации в качестве ответов JSON. Этот метод лучше всего используется для небольших организаций с устройствами менее 100-K. Ответ paginated, поэтому вы можете использовать поле @odata.nextLink из ответа, чтобы получить следующие результаты.
Оценка уязвимостей по экспорту **программного обеспечения (с помощью файлов)** | Объект исследования [См.: 3.3 Свойства (с помощью файлов)](#33-properties-via-files) | Возвращает таблицу с записью для каждой уникальной комбинации DeviceId, SoftwareVendor, SoftwareName, SoftwareVersion, CveId. Это решение API позволяет быстрее и более надежно тянуть большие объемы данных. Поэтому рекомендуется для крупных организаций с более чем 100-K устройствами. Этот API извлекает все данные в организации в качестве файлов загрузки. Ответ содержит URL-адреса для загрузки всех данных из служба хранилища Azure. Этот API позволяет загружать все данные из служба хранилища Azure следующим образом: 1.  Позвоните в API, чтобы получить список загружаемых URL-адресов со всеми данными организации. 2.  Скачайте все файлы с помощью URL-адресов загрузки и обработать данные, как вам нравится.
**Оценка уязвимостей** экспортного программного обеспечения **Delta (ответ JSON)** | Коллекция исследований [См.: экспорт дельты свойств 3.4 (ответ JSON)](#34-properties-delta-export-json-response) | Возвращает таблицу с записью для каждого уникального сочетания: DeviceId, SoftwareVendor, SoftwareName, SoftwareVersion, CveId и EventTimestamp. <br><br> API извлекет данные в организации в качестве ответов JSON. Ответ paginated, поэтому вы можете использовать поле @odata.nextLink из ответа, чтобы получить следующие результаты. В отличие от полной оценки уязвимостей программного обеспечения (ответ JSON), которая используется для получения целого снимка оценки уязвимостей программного обеспечения вашей организации с помощью устройства, вызов API API экспорта OData delta используется для получения только изменений, которые произошли между выбранной датой и текущей датой (вызов API delta). Вместо того чтобы получать полный экспорт с большим объемом данных каждый раз, вы получите только конкретные сведения о новых, исправленных и обновленных уязвимостях. Вызов API API для экспорта OData Delta также можно использовать для вычисления различных KPI, таких как "сколько уязвимостей было исправлено?" или "сколько новых уязвимостей было добавлено в мою организацию?"  <br><br> Так как вызов API OData экспорта Delta для уязвимостей программного обеспечения возвращает данные только для целевого диапазона дат, он не считается _полным экспортом._

### <a name="32-properties-json-response"></a>3.2 Свойства (ответ JSON)

Свойство (ID) | Тип данных | Описание
:---|:---|:---
CveId | Строка | Уникальный идентификатор, присвоенный уязвимости безопасности в системе Common Vulnerabilities and Exposures (CVE).
CvssScore | Строка | Оценка CVSS CVE.
DeviceId | Строка | Уникальный идентификатор устройства в службе.
DeviceName | Строка | Полное доменное имя (FQDN) устройства.
DiskPaths | Строка \[ Array\] | Дисковые данные о том, что продукт установлен на устройстве.
ExploitabilityLevel | Строка | Уровень эксплуатации этой уязвимости (NoExploit, ExploitIsPublic, ExploitIsVerified, ExploitIsInKit)
FirstSeenTimestamp | Строка | Впервые CVE этого продукта был замечен на устройстве.
Id | string | Уникальный идентификатор для записи.
LastSeenTimestamp | Строка | Последний раз CVE был замечен на устройстве.
OSPlatform | Строка | Платформа операционной системы, запущенной на устройстве. Здесь указываются конкретные операционные системы, включая варианты одного семейства, например Windows 10 и Windows 7. Подробные сведения см. в материале tvm supported operating systems and platforms.
RbacGroupName | Строка | Группа управления доступом на основе ролей (RBAC). Если это устройство не назначено какой-либо группе RBAC, значение будет "Unassigned". Если организация не содержит групп RBAC, значение будет "Нет".
RecommendationReference | Строка | Ссылка на номер рекомендации, связанный с этим программным обеспечением.
RecommendedSecurityUpdate | Строка | Имя или описание обновления безопасности, предоставляемого поставщиком программного обеспечения для устранения уязвимости.
RecommendedSecurityUpdateId | Строка | Идентификатор применимых обновлений или идентификаторов безопасности для соответствующих статей руководства или базы знаний (KB).
Строка Массив путей \[ реестра\] | Свидетельство реестра о том, что продукт установлен на устройстве.
SoftwareName | Строка | Имя программного продукта.
SoftwareVendor | Строка | Имя поставщика программного обеспечения.
SoftwareVersion | Строка | Номер версии программного продукта.
VulnerabilitySeverityLevel | Строка | Уровень серьезности, присвоенный уязвимости безопасности на основе показателей CVSS и динамических факторов, влияющих на ландшафт угроз.

### <a name="33-properties-via-files"></a>3.3 Свойства (с помощью файлов)

Свойство (ID) | Тип данных | Описание
:---|:---|:---
Экспорт файлов | строка \[ массива\]  | Список загрузок URL-адресов для файлов с текущим снимком организации.
GeneratedTime | Строка | Время, за которое был создан экспорт.

### <a name="34-properties-delta-export-json-response"></a>3.4 Свойства (ответ JSON экспорта дельты)

Свойство (ID) | Тип данных | Описание
:---|:---|:---
CveId | Строка | Уникальный идентификатор, присвоенный уязвимости безопасности в системе Common Vulnerabilities and Exposures (CVE).
CvssScore | Строка | Оценка CVSS CVE.
DeviceId | Строка | Уникальный идентификатор устройства в службе.
DeviceName | Строка | Полное доменное имя (FQDN) устройства.
DiskPaths | Array[string] | Дисковые данные о том, что продукт установлен на устройстве.
EventTimestamp | String | Время, когда это событие дельты было найдено.
ExploitabilityLevel | Строка | Уровень эксплуатации этой уязвимости (NoExploit, ExploitIsPublic, ExploitIsVerified, ExploitIsInKit)
FirstSeenTimestamp | Строка | Впервые CVE этого продукта был замечен на устройстве.
Id | string | Уникальный идентификатор для записи.  
LastSeenTimestamp | Строка | Последний раз CVE был замечен на устройстве.
OSPlatform | Строка | Платформа операционной системы, запущенной на устройстве. Здесь указываются конкретные операционные системы, включая варианты одного семейства, например Windows 10 и Windows 7. Подробные сведения см. в материале tvm supported operating systems and platforms.
RbacGroupName | Строка | Группа управления доступом на основе ролей (RBAC). Если это устройство не назначено какой-либо группе RBAC, значение будет "Unassigned". Если организация не содержит групп RBAC, значение будет "Нет".
RecommendationReference | Строка | Ссылка на номер рекомендации, связанный с этим программным обеспечением.
RecommendedSecurityUpdate  | Строка | Имя или описание обновления безопасности, предоставляемого поставщиком программного обеспечения для устранения уязвимости.
RecommendedSecurityUpdateId  | Строка | Идентификатор применимых обновлений или идентификаторов безопасности для соответствующих статей руководства или базы знаний (KB).
RegistryPaths  | Array[string] | Свидетельство реестра о том, что продукт установлен на устройстве.
SoftwareName | Строка | Имя программного продукта.
SoftwareVendor | Строка | Имя поставщика программного обеспечения.
SoftwareVersion | Строка | Номер версии программного продукта.
Состояние | String | **Новые**   (для новой уязвимости, введенной на устройстве).  **Исправлено**   (для уязвимости, которая больше не существует на устройстве, что означает, что она была исправлена). **Обновлено**   (для уязвимости на устройстве, которое изменилось. Возможные изменения: оценка CVSS, уровень эксплуатации, уровень серьезности, DiskPaths, RegistryPaths, RecommendedSecurityUpdate).
VulnerabilitySeverityLevel | Строка | Уровень серьезности, присвоенный уязвимости безопасности на основе показателей CVSS и динамических факторов, влияющих на ландшафт угроз.

## <a name="see-also"></a>См. также

- [Экспорт безопасной оценки конфигурации на устройство](get-assessment-secure-config.md)

- [Экспорт оценки инвентаризации программного обеспечения на устройство](get-assessment-software-inventory.md)

- [Экспорт оценки уязвимостей программного обеспечения на устройство](get-assessment-software-vulnerabilities.md)

Другие связанные

- [Риск на основе угрозы & управление уязвимостями](next-gen-threat-and-vuln-mgt.md)

- [Уязвимости в организации](tvm-weaknesses.md)
